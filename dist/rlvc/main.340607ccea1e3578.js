"use strict";(self.webpackChunkRLVC=self.webpackChunkRLVC||[]).push([[179],{2011:(mt,Se,k)=>{k.d(Se,{Dh:()=>we,GT:()=>se,cc:()=>Te,hO:()=>je,on:()=>j,pX:()=>ie,xv:()=>he});var m=k(4650),Y=k(1274),O=k(4763);mt=k.hmd(mt);const re=["ngOnDestroy"],ie=(Me,Re,Be,Pe={})=>new Proxy(Me,{get:(Ie,Ee)=>Be.runOutsideAngular(()=>{var ze;if(Me[Ee])return!(null===(ze=Pe?.spy)||void 0===ze)&&ze.get&&Pe.spy.get(Ee,Me[Ee]),Me[Ee];if(re.indexOf(Ee)>-1)return()=>{};const Oe=Re.toPromise().then(tt=>{const ne=tt&&tt[Ee];return"function"==typeof ne?ne.bind(tt):ne&&ne.then?ne.then(Et=>Be.run(()=>Et)):Be.run(()=>ne)});return new Proxy(()=>{},{get:(tt,ne)=>Oe[ne],apply:(tt,ne,Et)=>Oe.then(Je=>{var $t;const it=Je&&Je(...Et);return!(null===($t=Pe?.spy)||void 0===$t)&&$t.apply&&Pe.spy.apply(Ee,Et,it),it})})})}),se=(Me,Re)=>{Re.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Pe=>{Object.defineProperty(Me.prototype,Pe,Object.getOwnPropertyDescriptor(Be.prototype||Be,Pe))})})};class ge{constructor(Re){return Re}}const we=new m.OlP("angularfire2.app.options"),he=new m.OlP("angularfire2.app.name");function j(Me,Re,Be){const Ie="object"==typeof Be&&Be||{};Ie.name=Ie.name||"string"==typeof Be&&Be||"[DEFAULT]";const ze=Y.Z.apps.filter(Oe=>Oe&&Oe.name===Ie.name)[0]||Re.runOutsideAngular(()=>Y.Z.initializeApp(Me,Ie));try{JSON.stringify(Me)!==JSON.stringify(ze.options)&&B("error",`${ze.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(ze)}const B=(Me,...Re)=>{(0,m.X6Q)()&&typeof console<"u"&&console[Me](...Re)},q={provide:ge,useFactory:j,deps:[we,m.R0b,[new m.FiY,he]]};let je=(()=>{class Me{constructor(Be){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",m.q4F.full,Be.toString())}static initializeApp(Be,Pe){return{ngModule:Me,providers:[{provide:we,useValue:Be},{provide:he,useValue:Pe}]}}}return Me.\u0275fac=function(Be){return new(Be||Me)(m.LFG(m.Lbi))},Me.\u0275mod=m.oAB({type:Me}),Me.\u0275inj=m.cJS({providers:[q]}),Me})();function Te(Me,Re,Be,Pe,Ie){const[,Ee,ze]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Me)||[];if(Ee)return function qe(Me,Re){try{return Me.toString()===Re.toString()}catch{return Me===Re}}(Ie,ze)||(fe("error",`${Re} was already initialized on the ${Be} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Ie,was:ze})),Ee;{const Oe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Me,Oe,Ie]),Oe}}const ot=!!mt.hot,fe=(Me,...Re)=>{(0,m.X6Q)()&&typeof console<"u"&&console[Me](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4763:(mt,Se,k)=>{k.d(Se,{q4:()=>ii,iC:()=>ji,HU:()=>vt,vb:()=>oc,JM:()=>sc});var m=k(4650),Y=k(8140),O=k(5861),re=k(6881),ie=k(2090),se=k(4859),ge=k(1877);const we=(I,D)=>D.some(A=>I instanceof A);let he,j;const je=new WeakMap,Te=new WeakMap,qe=new WeakMap,ot=new WeakMap,fe=new WeakMap;let Be={get(I,D,A){if(I instanceof IDBTransaction){if("done"===D)return Te.get(I);if("objectStoreNames"===D)return I.objectStoreNames||qe.get(I);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ze(I[D])},set:(I,D,A)=>(I[D]=A,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function Ee(I){return"function"==typeof I?function Ie(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(Oe(this),D),ze(je.get(this))}:function(...D){return ze(I.apply(Oe(this),D))}:function(D,...A){const N=I.call(Oe(this),D,...A);return qe.set(N,D.sort?D.sort():[D]),ze(N)}}(I):(I instanceof IDBTransaction&&function Re(I){if(Te.has(I))return;const D=new Promise((A,N)=>{const $=()=>{I.removeEventListener("complete",W),I.removeEventListener("error",te),I.removeEventListener("abort",te)},W=()=>{A(),$()},te=()=>{N(I.error||new DOMException("AbortError","AbortError")),$()};I.addEventListener("complete",W),I.addEventListener("error",te),I.addEventListener("abort",te)});Te.set(I,D)}(I),we(I,function B(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Be):I)}function ze(I){if(I instanceof IDBRequest)return function Me(I){const D=new Promise((A,N)=>{const $=()=>{I.removeEventListener("success",W),I.removeEventListener("error",te)},W=()=>{A(ze(I.result)),$()},te=()=>{N(I.error),$()};I.addEventListener("success",W),I.addEventListener("error",te)});return D.then(A=>{A instanceof IDBCursor&&je.set(A,I)}).catch(()=>{}),fe.set(D,I),D}(I);if(ot.has(I))return ot.get(I);const D=Ee(I);return D!==I&&(ot.set(I,D),fe.set(D,I)),D}const Oe=I=>fe.get(I),xs="@firebase/installations",Yr="0.6.4",Xs=1e4,Zi=`w:${Yr}`,ae="FIS_v2",ce="https://firebaseinstallations.googleapis.com/v1",pe=36e5,at=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function _n({projectId:I}){return`${ce}/projects/${I}/installations`}function ft(I){return{token:I.token,requestStatus:2,expiresIn:Br(I.expiresIn),creationTime:Date.now()}}function qt(I,D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(I,D){const N=(yield D.json()).error;return at.create("request-failed",{requestName:I,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function gn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function cr(I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,O.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function Br(I){return Number(I.replace("s","000"))}function pt(){return(pt=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:A}){const N=_n(I),$=gn(I),W=D.getImmediate({optional:!0});if(W){const st=yield W.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const Ge={method:"POST",headers:$,body:JSON.stringify({fid:A,authVersion:ae,appId:I.appId,sdkVersion:Zi})},$e=yield cr(()=>fetch(N,Ge));if($e.ok){const st=yield $e.json();return{fid:st.fid||A,registrationStatus:2,refreshToken:st.refreshToken,authToken:ft(st.authToken)}}throw yield qt("Create Installation",$e)})).apply(this,arguments)}function Jr(I){return new Promise(D=>{setTimeout(D,I)})}const _r=/^[cdef][\w-]{21}$/,jr="";function Yi(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const A=function Jt(I){return function Gc(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return _r.test(A)?A:jr}catch{return jr}}function en(I){return`${I.appName}!${I.appId}`}const nt=new Map;function Mt(I,D){const A=en(I);lr(A,D),function $r(I,D){const A=function ei(){return!Mn&&"BroadcastChannel"in self&&(Mn=new BroadcastChannel("[Firebase] FID Change"),Mn.onmessage=I=>{lr(I.data.key,I.data.fid)}),Mn}();A&&A.postMessage({key:I,fid:D}),function hn(){0===nt.size&&Mn&&(Mn.close(),Mn=null)}()}(A,D)}function lr(I,D){const A=nt.get(I);if(A)for(const N of A)N(D)}let Mn=null;const Ms="firebase-installations-database",Kt=1,Qi="firebase-installations-store";let tn=null;function pi(){return tn||(tn=function tt(I,D,{blocked:A,upgrade:N,blocking:$,terminated:W}={}){const te=indexedDB.open(I,D),Ge=ze(te);return N&&te.addEventListener("upgradeneeded",$e=>{N(ze(te.result),$e.oldVersion,$e.newVersion,ze(te.transaction))}),A&&te.addEventListener("blocked",()=>A()),Ge.then($e=>{W&&$e.addEventListener("close",()=>W()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),Ge}(Ms,Kt,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Qi)}})),tn}function On(I,D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(I,D){const A=en(I),$=(yield pi()).transaction(Qi,"readwrite"),W=$.objectStore(Qi),te=yield W.get(A);return yield W.put(D,A),yield $.done,(!te||te.fid!==D.fid)&&Mt(I,D.fid),D})).apply(this,arguments)}function Ri(I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(I){const D=en(I),N=(yield pi()).transaction(Qi,"readwrite");yield N.objectStore(Qi).delete(D),yield N.done})).apply(this,arguments)}function Pi(I,D){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(I,D){const A=en(I),$=(yield pi()).transaction(Qi,"readwrite"),W=$.objectStore(Qi),te=yield W.get(A),Ge=D(te);return void 0===Ge?yield W.delete(A):yield W.put(Ge,A),yield $.done,Ge&&(!te||te.fid!==Ge.fid)&&Mt(I,Ge.fid),Ge})).apply(this,arguments)}function V(I){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(I){let D;const A=yield Pi(I.appConfig,N=>{const $=function G(I){return Cn(I||{fid:Yi(),registrationStatus:0})}(N),W=function ye(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(at.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},N=function Q(I,D){return Le.apply(this,arguments)}(I,A);return{installationEntry:A,registrationPromise:N}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Tt(I)}:{installationEntry:D}}(I,$);return D=W.registrationPromise,W.installationEntry});return A.fid===jr?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),F.apply(this,arguments)}function Le(){return Le=(0,O.Z)(function*(I,D){try{const A=yield function Sr(I,D){return pt.apply(this,arguments)}(I,D);return On(I.appConfig,A)}catch(A){throw ut(A)&&409===A.customData.serverCode?yield Ri(I.appConfig):yield On(I.appConfig,{fid:D.fid,registrationStatus:0}),A}}),Le.apply(this,arguments)}function Tt(I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(I){let D=yield Vn(I.appConfig);for(;1===D.registrationStatus;)yield Jr(100),D=yield Vn(I.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:N}=yield V(I);return N||A}return D})).apply(this,arguments)}function Vn(I){return Pi(I,D=>{if(!D)throw at.create("installation-not-found");return Cn(D)})}function Cn(I){return function sn(I){return 1===I.registrationStatus&&I.registrationTime+Xs<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ar(){return(Ar=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},A){const N=function Ni(I,{fid:D}){return`${_n(I)}/${D}/authTokens:generate`}(I,A),$=function Un(I,{refreshToken:D}){const A=gn(I);return A.append("Authorization",function Qr(I){return`${ae} ${I}`}(D)),A}(I,A),W=D.getImmediate({optional:!0});if(W){const st=yield W.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const Ge={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:Zi,appId:I.appId}})},$e=yield cr(()=>fetch(N,Ge));if($e.ok)return ft(yield $e.json());throw yield qt("Generate Auth Token",$e)})).apply(this,arguments)}function Ji(I){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,O.Z)(function*(I,D=!1){let A;const N=yield Pi(I.appConfig,W=>{if(!jt(W))throw at.create("not-registered");const te=W.authToken;if(!D&&function gt(I){return 2===I.requestStatus&&!function Xt(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+pe}(I)}(te))return W;if(1===te.requestStatus)return A=function le(I,D){return X.apply(this,arguments)}(I,D),W;{if(!navigator.onLine)throw at.create("app-offline");const Ge=function Qt(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}(W);return A=function ht(I,D){return wt.apply(this,arguments)}(I,Ge),Ge}});return A?yield A:N.authToken}),Ea.apply(this,arguments)}function X(){return(X=(0,O.Z)(function*(I,D){let A=yield Ne(I.appConfig);for(;1===A.authToken.requestStatus;)yield Jr(100),A=yield Ne(I.appConfig);const N=A.authToken;return 0===N.requestStatus?Ji(I,D):N})).apply(this,arguments)}function Ne(I){return Pi(I,D=>{if(!jt(D))throw at.create("not-registered");return function dr(I){return 1===I.requestStatus&&I.requestTime+Xs<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function wt(){return wt=(0,O.Z)(function*(I,D){try{const A=yield function zt(I,D){return Ar.apply(this,arguments)}(I,D),N=Object.assign(Object.assign({},D),{authToken:A});return yield On(I.appConfig,N),A}catch(A){if(!ut(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const N=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield On(I.appConfig,N)}else yield Ri(I.appConfig);throw A}}),wt.apply(this,arguments)}function jt(I){return void 0!==I&&2===I.registrationStatus}function wu(){return(wu=(0,O.Z)(function*(I){const D=I,{installationEntry:A,registrationPromise:N}=yield V(D);return N?N.catch(console.error):Ji(D).catch(console.error),A.fid})).apply(this,arguments)}function $o(){return $o=(0,O.Z)(function*(I,D=!1){const A=I;return yield function gi(I){return We.apply(this,arguments)}(A),(yield Ji(A,D)).token}),$o.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(I){const{registrationPromise:D}=yield V(I);D&&(yield D)})).apply(this,arguments)}function Rs(I){return at.create("missing-app-config-values",{valueName:I})}const Vt="installations",eo=I=>{const D=I.getProvider("app").getImmediate(),A=function Ca(I){if(!I||!I.options)throw Rs("App Configuration");if(!I.name)throw Rs("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!I.options[A])throw Rs(A);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},as=I=>{const D=I.getProvider("app").getImmediate(),A=(0,re._getProvider)(D,Vt).getImmediate();return{getId:()=>function qn(I){return wu.apply(this,arguments)}(A),getToken:$=>function uf(I){return $o.apply(this,arguments)}(A,$)}};(function to(){(0,re._registerComponent)(new se.wA(Vt,eo,"PUBLIC")),(0,re._registerComponent)(new se.wA("installations-internal",as,"PRIVATE"))})(),(0,re.registerVersion)(xs,Yr),(0,re.registerVersion)(xs,Yr,"esm2017");const Bn="@firebase/remote-config",wr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cs{constructor(D,A,N,$){this.client=D,this.storage=A,this.storageCache=N,this.logger=$}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-A,$=N<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${$}.`),$}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,$]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if($&&A.isCachedDataFresh(D.cacheMaxAgeMillis,N))return $;D.eTag=$&&$.eTag;const W=yield A.client.fetch(D),te=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&te.push(A.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(te),W})()}}function pg(I=navigator){return I.languages&&I.languages[0]||I.language}class Kc{constructor(D,A,N,$,W,te){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=N,this.projectId=$,this.apiKey=W,this.appId=te}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,$]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:N,app_instance_id_token:$,app_id:A.appId,language_code:pg()},st={method:"POST",headers:Ge,body:JSON.stringify($e)},At=fetch(te,st),xt=new Promise((mr,$i)=>{D.signal.addEventListener(()=>{const Bs=new Error("The operation was aborted.");Bs.name="AbortError",$i(Bs)})});let Or;try{yield Promise.race([At,xt]),Or=yield At}catch(mr){let $i="fetch-client-network";throw"AbortError"===mr?.name&&($i="fetch-timeout"),wr.create($i,{originalErrorMessage:mr?.message})}let pn=Or.status;const Nt=Or.headers.get("ETag")||void 0;let Vs,xo;if(200===Or.status){let mr;try{mr=yield Or.json()}catch($i){throw wr.create("fetch-client-parse",{originalErrorMessage:$i?.message})}Vs=mr.entries,xo=mr.state}if("INSTANCE_STATE_UNSPECIFIED"===xo?pn=500:"NO_CHANGE"===xo?pn=304:("NO_TEMPLATE"===xo||"EMPTY_CONFIG"===xo)&&(Vs={}),304!==pn&&200!==pn)throw wr.create("fetch-status",{httpStatus:pn});return{status:pn,eTag:Nt,config:Vs}})()}}class mg{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,O.Z)(function*(){const N=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,N)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:N}){var $=this;return(0,O.Z)(function*(){yield function gg(I,D){return new Promise((A,N)=>{const $=Math.max(D-Date.now(),0),W=setTimeout(A,$);I.addEventListener(()=>{clearTimeout(W),N(wr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const W=yield $.client.fetch(D);return yield $.storage.deleteThrottleMetadata(),W}catch(W){if(!function wd(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(W))throw W;const te={throttleEndTimeMillis:Date.now()+(0,ie.$s)(N),backoffCount:N+1};return yield $.storage.setThrottleMetadata(te),$.attemptFetch(D,te)}})()}}class Iy{constructor(D,A,N,$,W){this.app=D,this._client=A,this._storageCache=N,this._storage=$,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cu(I,D){const A=I.target.error||void 0;return wr.create(D,{originalErrorMessage:A&&A?.message})}const vi="app_namespace_store";class Ey{constructor(D,A,N,$=function Wo(){return new Promise((I,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=N=>{D(Cu(N,"storage-open"))},A.onsuccess=N=>{I(N.target.result)},A.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(vi,{keyPath:"compositeKey"})}}catch(A){D(wr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=N,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise(($,W)=>{const Ge=N.transaction([vi],"readonly").objectStore(vi),$e=A.createCompositeKey(D);try{const st=Ge.get($e);st.onerror=At=>{W(Cu(At,"storage-get"))},st.onsuccess=At=>{const xt=At.target.result;$(xt?xt.value:void 0)}}catch(st){W(wr.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(D,A){var N=this;return(0,O.Z)(function*(){const $=yield N.openDbPromise;return new Promise((W,te)=>{const $e=$.transaction([vi],"readwrite").objectStore(vi),st=N.createCompositeKey(D);try{const At=$e.put({compositeKey:st,value:A});At.onerror=xt=>{te(Cu(xt,"storage-set"))},At.onsuccess=()=>{W()}}catch(At){te(wr.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise(($,W)=>{const Ge=N.transaction([vi],"readwrite").objectStore(vi),$e=A.createCompositeKey(D);try{const st=Ge.delete($e);st.onerror=At=>{W(Cu(At,"storage-delete"))},st.onsuccess=()=>{$()}}catch(st){W(wr.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class df{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const A=D.storage.getLastFetchStatus(),N=D.storage.getLastSuccessfulFetchTimestampMillis(),$=D.storage.getActiveConfig(),W=yield A;W&&(D.lastFetchStatus=W);const te=yield N;te&&(D.lastSuccessfulFetchTimestampMillis=te);const Ge=yield $;Ge&&(D.activeConfig=Ge)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Zc(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}function yf(){return zu.apply(this,arguments)}function zu(){return(zu=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ls(){(0,re._registerComponent)(new se.wA("remote-config",function I(D,{instanceIdentifier:A}){const N=D.getProvider("app").getImmediate(),$=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!(0,ie.hl)())throw wr.create("indexed-db-unavailable");const{projectId:W,apiKey:te,appId:Ge}=N.options;if(!W)throw wr.create("registration-project-id");if(!te)throw wr.create("registration-api-key");if(!Ge)throw wr.create("registration-app-id");const $e=new Ey(Ge,N.name,A=A||"firebase"),st=new df($e),At=new ge.Yd(Bn);At.logLevel=ge.in.ERROR;const xt=new Kc($,re.SDK_VERSION,A,W,te,Ge),Or=new mg(xt,$e),pn=new cs(Or,$e,st,At),Nt=new Iy(N,pn,st,$e,At);return function ni(I){const D=(0,ie.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Nt),Nt},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Bn,"0.4.4"),(0,re.registerVersion)(Bn,"0.4.4","esm2017")}();const fn="analytics",Vd="firebase_id",Gu="origin",sl=6e4,qu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wu="https://www.googletagmanager.com/gtag/js",sr=new ge.Yd("@firebase/analytics"),jn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ol(I){if(!I.startsWith(Wu)){const D=jn.create("invalid-gtag-resource",{gtagURL:I});return sr.warn(D.message),""}return I}function Ba(I){return Promise.all(I.map(D=>D.catch(A=>A)))}function mo(){return(mo=(0,O.Z)(function*(I,D,A,N,$,W){const te=N[$];try{if(te)yield D[te];else{const $e=(yield Ba(A)).find(st=>st.measurementId===$);$e&&(yield D[$e.appId])}}catch(Ge){sr.error(Ge)}I("config",$,W)})).apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(I,D,A,N,$){try{let W=[];if($&&$.send_to){let te=$.send_to;Array.isArray(te)||(te=[te]);const Ge=yield Ba(A);for(const $e of te){const st=Ge.find(xt=>xt.measurementId===$e),At=st&&D[st.appId];if(!At){W=[];break}W.push(At)}}0===W.length&&(W=Object.values(D)),yield Promise.all(W),I("event",N,$||{})}catch(W){sr.error(W)}})).apply(this,arguments)}const Ha=30,vo=new class yo{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function wf(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Zt(){return(Zt=(0,O.Z)(function*(I){var D;const{appId:A,apiKey:N}=I,$={method:"GET",headers:wf(N)},W=qu.replace("{app-id}",A),te=yield fetch(W,$);if(200!==te.status&&304!==te.status){let Ge="";try{const $e=yield te.json();null!==(D=$e.error)&&void 0!==D&&D.message&&(Ge=$e.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:te.status,responseMessage:Ge})}return te.json()})).apply(this,arguments)}function za(){return(za=(0,O.Z)(function*(I,D=vo,A){const{appId:N,apiKey:$,measurementId:W}=I.options;if(!N)throw jn.create("no-app-id");if(!$){if(W)return{measurementId:W,appId:N};throw jn.create("no-api-key")}const te=D.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Ty;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==A?A:sl),ul({appId:N,apiKey:$,measurementId:W},te,Ge,D)})).apply(this,arguments)}function ul(I,D,A){return cl.apply(this,arguments)}function cl(){return cl=(0,O.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:A},N,$=vo){var W;const{appId:te,measurementId:Ge}=I;try{yield function Cy(I,D){return new Promise((A,N)=>{const $=Math.max(D-Date.now(),0),W=setTimeout(A,$);I.addEventListener(()=>{clearTimeout(W),N(jn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(N,D)}catch($e){if(Ge)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:te,measurementId:Ge};throw $e}try{const $e=yield function Bd(I){return Zt.apply(this,arguments)}(I);return $.deleteThrottleMetadata(te),$e}catch($e){const st=$e;if(!function If(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(st)){if($.deleteThrottleMetadata(te),Ge)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:te,measurementId:Ge};throw $e}const At=503===Number(null===(W=st?.customData)||void 0===W?void 0:W.httpStatus)?(0,ie.$s)(A,$.intervalMillis,Ha):(0,ie.$s)(A,$.intervalMillis),xt={throttleEndTimeMillis:Date.now()+At,backoffCount:A+1};return $.setThrottleMetadata(te,xt),sr.debug(`Calling attemptFetch again in ${At} millis`),ul(I,xt,N,$)}}),cl.apply(this,arguments)}class Ty{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let _o,Cf;function Ef(){return(Ef=(0,O.Z)(function*(I,D,A,N,$){if($&&$.global)I("event",A,N);else{const W=yield D;I("event",A,Object.assign(Object.assign({},N),{send_to:W}))}})).apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(){if(!(0,ie.hl)())return sr.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return sr.warn(jn.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function ct(){return ct=(0,O.Z)(function*(I,D,A,N,$,W,te){var Ge;const $e=function Eg(I){return za.apply(this,arguments)}(I);$e.then(pn=>{A[pn.measurementId]=pn.appId,I.options.measurementId&&pn.measurementId!==I.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pn=>sr.error(pn)),D.push($e);const st=function qr(){return cn.apply(this,arguments)}().then(pn=>{if(pn)return N.getId()}),[At,xt]=yield Promise.all([$e,st]);(function ra(I){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Wu)&&A.src.includes(I))return A;return null})(W)||function ys(I,D){const A=function ja(I,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(I,D)),A}("firebase-js-sdk-policy",{createScriptURL:ol}),N=document.createElement("script"),$=`${Wu}?l=${I}&id=${D}`;N.src=A?A?.createScriptURL($):$,N.async=!0,document.head.appendChild(N)}(W,At.measurementId),Cf&&($("consent","default",Cf),function dl(I){Cf=I}(void 0)),$("js",new Date);const Or=null!==(Ge=te?.config)&&void 0!==Ge?Ge:{};return Or[Gu]="firebase",Or.update=!0,null!=xt&&(Or[Vd]=xt),$("config",At.measurementId,Or),_o&&($("set",_o),function Ju(I){_o=I}(void 0)),At.measurementId}),ct.apply(this,arguments)}class Rr{constructor(D){this.app=D}_delete(){return delete Rn[this.app.options.appId],Promise.resolve()}}let Rn={},jd=[];const qa={};let hl,Ei,Fi="dataLayer",Xu="gtag",ia=!1;function Us(I,D,A){!function Wa(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((N,$)=>`(${$+1}) ${N}`).join(" "),A=jn.create("invalid-analytics-context",{errorInfo:D});sr.warn(A.message)}}();const N=I.options.appId;if(!N)throw jn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw jn.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rn[N])throw jn.create("already-exists",{id:N});if(!ia){!function vf(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Fi);const{wrappedGtag:W,gtagCore:te}=function Fs(I,D,A,N,$){let W=function(...te){window[N].push(arguments)};return window[$]&&"function"==typeof window[$]&&(W=window[$]),window[$]=function na(I,D,A,N){function W(){return W=(0,O.Z)(function*(te,...Ge){try{if("event"===te){const[$e,st]=Ge;yield function al(I,D,A,N,$){return $a.apply(this,arguments)}(I,D,A,$e,st)}else if("config"===te){const[$e,st]=Ge;yield function Ku(I,D,A,N,$,W){return mo.apply(this,arguments)}(I,D,A,N,$e,st)}else if("consent"===te){const[$e]=Ge;I("consent","update",$e)}else if("get"===te){const[$e,st,At]=Ge;I("get",$e,st,At)}else if("set"===te){const[$e]=Ge;I("set",$e)}else I(te,...Ge)}catch($e){sr.error($e)}}),W.apply(this,arguments)}return function $(te){return W.apply(this,arguments)}}(W,I,D,A),{gtagCore:W,wrappedGtag:window[$]}}(Rn,jd,qa,Fi,Xu);Ei=W,hl=te,ia=!0}return Rn[N]=function Ii(I,D,A,N,$,W,te){return ct.apply(this,arguments)}(I,jd,qa,D,hl,Fi,A),new Rr(I)}function tc(){return Io.apply(this,arguments)}function Io(){return(Io=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Ka="@firebase/analytics";!function Tf(){(0,re._registerComponent)(new se.wA(fn,(D,{options:A})=>Us(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new se.wA("analytics-internal",function I(D){try{const A=D.getProvider(fn).getImmediate();return{logEvent:(N,$,W)=>function $d(I,D,A,N){I=(0,ie.m9)(I),function by(I,D,A,N,$){return Ef.apply(this,arguments)}(Ei,Rn[I.app.options.appId],D,A,N).catch($=>sr.error($))}(A,N,$,W)}}catch(A){throw jn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(Ka,"0.10.0"),(0,re.registerVersion)(Ka,"0.10.0","esm2017")}();var Za=k(4408),Ui=k(7565);const Nr=new class Qa extends Ui.v{}(class Ya extends Za.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(D,A,N):(D.flush(this),0)}});var yl=k(4986),Yn=k(8505),To=k(9468),bo=k(5363);const ii=new m.GfV("7.6.1"),$n="__angularfire_symbol__analyticsIsSupportedValue",So="__angularfire_symbol__analyticsIsSupported",vl="__angularfire_symbol__remoteConfigIsSupportedValue",sa="__angularfire_symbol__remoteConfigIsSupported",Vi="__angularfire_symbol__messagingIsSupportedValue",vs="__angularfire_symbol__messagingIsSupported";function sc(I,D,A){if(D){if(1===D.length)return D[0];const W=D.filter(te=>te.app===A);if(1===W.length)return W[0]}return A.container.getProvider(I).getImmediate({optional:!0})}globalThis[So]||(globalThis[So]=tc().then(I=>globalThis[$n]=I).catch(()=>globalThis[$n]=!1)),globalThis[vs]||(globalThis[vs]=yf().then(I=>globalThis[Vi]=I).catch(()=>globalThis[Vi]=!1)),globalThis[sa]||(globalThis[sa]=Zc().then(I=>globalThis[vl]=I).catch(()=>globalThis[vl]=!1));const oc=(I,D)=>{const A=D?[D]:(0,Y.C6)(),N=[];return A.forEach($=>{$.container.getProvider(I).instances.forEach(te=>{N.includes(te)||N.push(te)})}),N};function _s(){}class _l{constructor(D,A=Nr){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,N){const $=this.zone;return this.delegate.schedule(function(te){$.runGuarded(()=>{D.apply(this,[te])})},A,N)}}class ac{constructor(D){this.zone=D,this.task=null}call(D,A){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)),A.pipe((0,Yn.b)({next:N,complete:N,error:N})).subscribe(D).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vt=(()=>{class I{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new _l(Zone.current)),this.insideAngular=A.run(()=>new _l(Zone.current,yl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(A){return new(A||I)(m.LFG(m.R0b))},I.\u0275prov=m.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Bi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ji(I){return Bi(),function Gd(I){return function(A){return(A=A.lift(new ac(I.ngZone))).pipe((0,To.R)(I.outsideAngular),(0,bo.Q)(I.insideAngular))}}(Bi())(I)}},2090:(mt,Se,k)=>{k.d(Se,{$s:()=>Ri,BH:()=>Ee,G6:()=>Zi,L:()=>he,LL:()=>De,Pz:()=>Ie,Sg:()=>ze,UG:()=>ne,US:()=>se,ZB:()=>q,ZR:()=>be,aH:()=>Pe,b$:()=>$t,eu:()=>ce,hl:()=>ae,jU:()=>Et,m9:()=>Hr,ne:()=>en,pd:()=>Yi,r3:()=>Nn,ru:()=>Je,tV:()=>j,uI:()=>tt,vZ:()=>pt,w1:()=>xs,xO:()=>_r,xb:()=>Qr,z$:()=>Oe,zI:()=>pe,zd:()=>jr});const re=function(V){const F=[];let G=0;for(let ye=0;ye<V.length;ye++){let Q=V.charCodeAt(ye);Q<128?F[G++]=Q:Q<2048?(F[G++]=Q>>6|192,F[G++]=63&Q|128):55296==(64512&Q)&&ye+1<V.length&&56320==(64512&V.charCodeAt(ye+1))?(Q=65536+((1023&Q)<<10)+(1023&V.charCodeAt(++ye)),F[G++]=Q>>18|240,F[G++]=Q>>12&63|128,F[G++]=Q>>6&63|128,F[G++]=63&Q|128):(F[G++]=Q>>12|224,F[G++]=Q>>6&63|128,F[G++]=63&Q|128)}return F},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let Q=0;Q<V.length;Q+=3){const Le=V[Q],Tt=Q+1<V.length,Yt=Tt?V[Q+1]:0,Vn=Q+2<V.length,Cn=Vn?V[Q+2]:0;let Ar=(15&Yt)<<2|Cn>>6,Ni=63&Cn;Vn||(Ni=64,Tt||(Ar=64)),ye.push(G[Le>>2],G[(3&Le)<<4|Yt>>4],G[Ar],G[Ni])}return ye.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(re(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let G=0,ye=0;for(;G<V.length;){const Q=V[G++];if(Q<128)F[ye++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Le=V[G++];F[ye++]=String.fromCharCode((31&Q)<<6|63&Le)}else if(Q>239&&Q<365){const Vn=((7&Q)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;F[ye++]=String.fromCharCode(55296+(Vn>>10)),F[ye++]=String.fromCharCode(56320+(1023&Vn))}else{const Le=V[G++],Tt=V[G++];F[ye++]=String.fromCharCode((15&Q)<<12|(63&Le)<<6|63&Tt)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let Q=0;Q<V.length;){const Le=G[V.charAt(Q++)],Yt=Q<V.length?G[V.charAt(Q)]:0;++Q;const Cn=Q<V.length?G[V.charAt(Q)]:64;++Q;const zt=Q<V.length?G[V.charAt(Q)]:64;if(++Q,null==Le||null==Yt||null==Cn||null==zt)throw new ge;ye.push(Le<<2|Yt>>4),64!==Cn&&(ye.push(Yt<<4&240|Cn>>2),64!==zt&&ye.push(Cn<<6&192|zt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(V){return function(V){const F=re(V);return se.encodeByteArray(F,!0)}(V).replace(/\./g,"")},j=function(V){try{return se.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function q(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!je(G)||(V[G]=q(V[G],F[G]));return V}function je(V){return"__proto__"!==V}const Me=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&j(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Pe=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},Ie=V=>{var F;return null===(F=Me())||void 0===F?void 0:F[`_${V}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,ye)=>{G?this.reject(G):this.resolve(ye),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,ye))}}}function ze(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=F||"demo-project",Q=V.iat||0,Le=V.sub||V.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:Q,exp:Q+3600,auth_time:Q,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},V);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Tt)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function ne(){var V;const F=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function Je(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xs(){const V=Oe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Zi(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((V,F)=>{try{let G=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(ye);Q.onsuccess=()=>{Q.result.close(),G||self.indexedDB.deleteDatabase(ye),V(!0)},Q.onupgradeneeded=()=>{G=!1},Q.onerror=()=>{var Le;F((null===(Le=Q.error)||void 0===Le?void 0:Le.message)||"")}}catch(G){F(G)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(F,G,ye){super(G),this.code=F,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(F,G,ye){this.service=F,this.serviceName=G,this.errors=ye}create(F,...G){const ye=G[0]||{},Q=`${this.service}/${F}`,Le=this.errors[F],Tt=Le?function at(V,F){return V.replace(ut,(G,ye)=>{const Q=F[ye];return null!=Q?String(Q):`<${ye}?>`})}(Le,ye):"Error";return new be(Q,`${this.serviceName}: ${Tt} (${Q}).`,ye)}}const ut=/\{\$([^}]+)}/g;function Nn(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function Qr(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function pt(V,F){if(V===F)return!0;const G=Object.keys(V),ye=Object.keys(F);for(const Q of G){if(!ye.includes(Q))return!1;const Le=V[Q],Tt=F[Q];if(Jr(Le)&&Jr(Tt)){if(!pt(Le,Tt))return!1}else if(Le!==Tt)return!1}for(const Q of ye)if(!G.includes(Q))return!1;return!0}function Jr(V){return null!==V&&"object"==typeof V}function _r(V){const F=[];for(const[G,ye]of Object.entries(V))Array.isArray(ye)?ye.forEach(Q=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(ye));return F.length?"&"+F.join("&"):""}function jr(V){const F={};return V.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[Q,Le]=ye.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(Le)}}),F}function Yi(V){const F=V.indexOf("?");if(!F)return"";const G=V.indexOf("#",F);return V.substring(F,G>0?G:void 0)}function en(V,F){const G=new nt(V,F);return G.subscribe.bind(G)}class nt{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(ye=>{this.error(ye)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,ye){let Q;if(void 0===F&&void 0===G&&void 0===ye)throw new Error("Missing Observer.");Q=function fi(V,F){if("object"!=typeof V||null===V)return!1;for(const G of F)if(G in V&&"function"==typeof V[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:ye},void 0===Q.next&&(Q.next=Xr),void 0===Q.error&&(Q.error=Xr),void 0===Q.complete&&(Q.complete=Xr);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),Le}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xr(){}const tn=1e3,pi=2,On=144e5,Gn=.5;function Ri(V,F=tn,G=pi){const ye=F*Math.pow(G,V),Q=Math.round(Gn*ye*(Math.random()-.5)*2);return Math.min(On,ye+Q)}function Hr(V){return V&&V._delegate?V._delegate:V}},9449:(mt,Se,k)=>{var m=k(4650);let Y=null;function O(){return Y}class ie{}const se=new m.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function we(){return(0,m.LFG)(j)}()},providedIn:"platform"}),n})();const he=new m.OlP("Location Initialized");let j=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){B()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){B()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(se))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function q(){return new j((0,m.LFG)(se))}()},providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let ot=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(Me)},providedIn:"root"}),n})();const fe=new m.OlP("appBaseHref");let Me=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+qe(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+qe(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge),m.LFG(fe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+qe(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+qe(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge),m.LFG(fe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Ee(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=qe,n.joinWithSlash=je,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(m.LFG(ot))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Pe(){return new Be((0,m.LFG)(ot))}()},providedIn:"root"}),n})();function Ee(n){return n.replace(/\/index.html$/,"")}let Rs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ta("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ta("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function Ta(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}let vi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const Ed="server";function ls(n){return n===Ed}let Aa=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new Dd((0,m.LFG)(se),window)}),n})();class Dd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ns(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Yc(this.window.history)||Yc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kd extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nl extends kd{static makeCurrent(){!function re(n){Y||(Y=n)}(new nl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Jo(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}();return null==t?null:function Ig(n){gs=gs||document.createElement("a"),gs.setAttribute("href",n);const e=gs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $o(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let gs,Qo=null;const mf=new m.OlP("TRANSITION_ID"),Dy=[{provide:m.ip1,useFactory:function Bu(n,e,t){return()=>{t.get(m.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[mf,se,m.zs3],multi:!0}];let ao=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const uo=new m.OlP("EventManagerPlugins");let ju=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(uo),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class Xo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let rl=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),co=(()=>{class n extends rl{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(se))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const lo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$u=/%COMP%/g,Va=new m.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Fd(n,e){return e.flat(100).map(t=>t.replace($u,n))}function po(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ki=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new ms(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof Vd?s.applyToHost(t):s instanceof fn&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case m.ifc.Emulated:u=new Vd(l,g,r,this.appId,w);break;case m.ifc.ShadowDom:return new Ud(l,g,t,r);default:u=new fn(l,g,r,w)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ju),m.LFG(co),m.LFG(m.AFp),m.LFG(Va))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class ms{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ta(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ta(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=lo[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=lo[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(t,r,s&m.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&m.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,po(r)):this.eventManager.addEventListener(e,t,po(r))}}function ta(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ud extends ms{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Fd(s.id,s.styles);for(const l of u){const g=document.createElement("style");g.textContent=l,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fn extends ms{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=Fd(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Vd extends fn{constructor(e,t,r,s,u){const l=s+"-"+r.id;super(e,t,r,u,l),this.contentAttr=function yf(n){return"_ngcontent-%COMP%".replace($u,n)}(l),this.hostAttr=function zu(n){return"_nghost-%COMP%".replace($u,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Gu=(()=>{class n extends Xo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(se))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=["alt","control","meta","shift"],qu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sr=(()=>{class n extends Xo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),sl.forEach(T=>{const S=r.indexOf(T);S>-1&&(r.splice(S,1),l+=T+".")}),l+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=l,w}static matchEventFullKeyCode(t,r){let s=qu[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),sl.forEach(l=>{l!==s&&(0,Wu[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(se))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const al=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function ys(){nl.makeCurrent()},multi:!0},{provide:se,useFactory:function Ku(){return(0,m.RDi)(document),document},deps:[]}]),$a=new m.OlP(""),na=[{provide:m.rWj,useClass:class Ua{addToWindow(e){m.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const s=m.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(w){l=l||w,u--,0==u&&r(l)};s.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Fs=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function vf(){return new m.qLn},deps:[]},{provide:uo,useClass:Gu,multi:!0,deps:[se,m.R0b,m.Lbi]},{provide:uo,useClass:sr,multi:!0,deps:[se]},{provide:ki,useClass:ki,deps:[ju,co,m.AFp,Va]},{provide:m.FYo,useExisting:ki},{provide:rl,useExisting:co},{provide:co,useClass:co,deps:[se]},{provide:ju,useClass:ju,deps:[uo,m.R0b]},{provide:class Tu{},useClass:ao,deps:[]},[]];let ra=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.AFp,useValue:t.appId},{provide:mf,useExisting:m.AFp},Dy]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG($a,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[...Fs,...na],imports:[vi,m.hGG]}),n})(),wf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(se))},n.\u0275prov=m.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function vo(){return new wf((0,m.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=k(8996),Ii=k(7669);function ct(...n){const e=(0,Ii.yG)(n);return(0,cn.D)(n,e)}var Rr=k(7579);class Rn extends Rr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const qa=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fi=k(9751);const{isArray:Xu}=Array,{getPrototypeOf:hl,prototype:Ei,keys:ia}=Object;var Us=k(4671),Dt=k(4004);const{isArray:fl}=Array;var Pr=k(5403),pl=k(9672);function gl(...n){const e=(0,Ii.yG)(n),t=(0,Ii.jO)(n),{args:r,keys:s}=function ec(n){if(1===n.length){const e=n[0];if(Xu(e))return{args:e,keys:null};if(function Wa(n){return n&&"object"==typeof n&&hl(n)===Ei}(e)){const t=ia(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,cn.D)([],e);const u=new Fi.y(function Do(n,e,t=Us.y){return r=>{Co(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let w=0;w<s;w++)Co(e,()=>{const T=(0,cn.D)(n[w],e);let S=!1;T.subscribe((0,Pr.x)(r,P=>{u[w]=P,S||(S=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>function Eo(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}(s,l):Us.y));return t?u.pipe(function Io(n){return(0,Dt.U)(e=>function tc(n,e){return fl(e)?n(...e):n(e)}(n,e))}(t)):u}function Co(n,e,t){n?(0,pl.f)(t,n,e):e()}var nc=k(8189);function rc(...n){return function $d(){return(0,nc.J)(1)}()((0,cn.D)(n,(0,Ii.yG)(n)))}var Ka=k(8421);function Hd(n){return new Fi.y(e=>{(0,Ka.Xf)(n()).subscribe(e)})}var Tf=k(9635),Za=k(576);function Ya(n,e){const t=(0,Za.m)(n)?n:()=>n,r=s=>s.error(t());return new Fi.y(e?s=>e.schedule(r,0,s):r)}var Ui=k(515),Qa=k(727),Nr=k(4482);function ml(){return(0,Nr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Pr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yl extends Fi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Pr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qa.w0.EMPTY)}return e}refCount(){return ml()(this)}}function Yn(n,e){return(0,Nr.e)((t,r)=>{let s=null,u=0,l=!1;const g=()=>l&&!s&&r.complete();t.subscribe((0,Pr.x)(r,w=>{s?.unsubscribe();let T=0;const S=u++;(0,Ka.Xf)(n(w,S)).subscribe(s=(0,Pr.x)(r,P=>r.next(e?e(w,P,S,T++):P),()=>{s=null,g()}))},()=>{l=!0,g()}))})}function To(n){return n<=0?()=>Ui.E:(0,Nr.e)((e,t)=>{let r=0;e.subscribe((0,Pr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function bo(...n){const e=(0,Ii.yG)(n);return(0,Nr.e)((t,r)=>{(e?rc(n,t,e):rc(n,t)).subscribe(r)})}function ii(n,e){return(0,Nr.e)((t,r)=>{let s=0;t.subscribe((0,Pr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var $n=k(5577);function So(n){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe((0,Pr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function vl(n=sa){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe((0,Pr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function sa(){return new qa}function Vi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ii((s,u)=>n(s,u,r)):Us.y,To(1),t?So(e):vl(()=>new qa))}function vs(n,e){return(0,Za.m)(e)?(0,$n.z)(n,e,1):(0,$n.z)(n,1)}var gr=k(8505);function Ao(n){return(0,Nr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Pr.x)(t,void 0,void 0,l=>{u=(0,Ka.Xf)(n(l,Ao(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ic(n,e){return(0,Nr.e)(function bf(n,e,t,r,s){return(u,l)=>{let g=t,w=e,T=0;u.subscribe((0,Pr.x)(l,S=>{const P=T++;w=g?n(w,S,P):(g=!0,S),r&&l.next(w)},s&&(()=>{g&&l.next(w),l.complete()})))}}(n,e,arguments.length>=2,!0))}function sc(n){return n<=0?()=>Ui.E:(0,Nr.e)((e,t)=>{let r=[];e.subscribe((0,Pr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function oc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ii((s,u)=>n(s,u,r)):Us.y,sc(1),t?So(e):vl(()=>new qa))}function ac(n){return(0,Nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const vt="primary",Bi=Symbol("RouteTitle");class uc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Di(n){return new uc(n)}function Sf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function ji(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Gd(n[s],e[s]))return!1;return!0}function Gd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function qd(n){return Array.prototype.concat.apply([],n)}function Wd(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function A(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,cn.D)(Promise.resolve(n)):ct(n)}const N=!1,$={exact:function $e(n,e,t){if(!mr(n.segments,e.segments)||!Or(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$e(n.children[r],e.children[r],t))return!1;return!0},subset:At},W={exact:function Ge(n,e){return ji(n,e)},subset:function st(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gd(n[t],e[t]))},ignored:()=>!0};function te(n,e,t){return $[t.paths](n.root,e.root,t.matrixParams)&&W[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function At(n,e,t){return xt(n,e,e.segments,t)}function xt(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!mr(s,t)||e.hasChildren()||!Or(s,t,r))}if(n.segments.length===t.length){if(!mr(n.segments,t)||!Or(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!At(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(mr(n.segments,s)&&Or(n.segments,s,r)&&n.children[vt])&&xt(n.children[vt],e,u,r)}}function Or(n,e,t){return e.every((r,s)=>W[t](n[s].parameters,r.parameters))}class pn{constructor(e=new Nt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Di(this.queryParams)),this._queryParamMap}toString(){return Il.serialize(this)}}class Nt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Af(this)}}class Vs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Di(this.parameters)),this._parameterMap}toString(){return Dg(this)}}function mr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return new wl},providedIn:"root"}),n})();class wl{parse(e){const t=new Dl(e);return new pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ja(e.root,!0)}`,r=function Sy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Mo(t)}=${Mo(s)}`).join("&"):`${Mo(t)}=${Mo(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function xf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Il=new wl;function Af(n){return n.segments.map(e=>Dg(e)).join("/")}function Ja(n,e){if(!n.hasChildren())return Af(n);if(e){const t=n.children[vt]?Ja(n.children[vt],!1):"",r=[];return D(n.children,(s,u)=>{u!==vt&&r.push(`${u}:${Ja(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $i(n,e){let t=[];return D(n.children,(r,s)=>{s===vt&&(t=t.concat(e(r,s)))}),D(n.children,(r,s)=>{s!==vt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===vt?[Ja(n.children[vt],!1)]:[`${s}:${Ja(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vt]?`${Af(n)}/${t[0]}`:`${Af(n)}/(${t.join("//")})`}}function El(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mo(n){return El(n).replace(/%3B/gi,";")}function Ro(n){return El(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cc(n){return decodeURIComponent(n)}function Mf(n){return cc(n.replace(/\+/g,"%20"))}function Dg(n){return`${Ro(n.path)}${function Rf(n){return Object.keys(n).map(e=>`;${Ro(e)}=${Ro(n[e])}`).join("")}(n.parameters)}`}const Cg=/^[^\/()?;=#]+/;function Kd(n){const e=n.match(Cg);return e?e[0]:""}const L0=/^[^=?&#]+/,Ay=/^[^&#]+/;class Dl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[vt]=new Nt(e,t)),r}parseSegment(){const e=Kd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new m.vHH(4009,N);return this.capture(e),new Vs(cc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Kd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Kd(this.remaining);s&&(r=s,this.capture(r))}e[cc(t)]=cc(r)}parseQueryParam(e){const t=function Xa(n){const e=n.match(L0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Tg(n){const e=n.match(Ay);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=Mf(t),u=Mf(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kd(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new m.vHH(4010,N);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=vt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[vt]:new Nt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new m.vHH(4011,N)}}function Zd(n){return n.segments.length>0?new Nt([],{[vt]:n}):n}function oa(n){const e={};for(const r of Object.keys(n.children)){const u=oa(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function xy(n){if(1===n.numberOfChildren&&n.children[vt]){const e=n.children[vt];return new Nt(n.segments.concat(e.segments),e.children)}return n}(new Nt(n.segments,e))}function eu(n){return n instanceof pn}const lc=!1;function bg(n,e,t,r,s){if(0===t.length)return Po(e.root,e.root,e.root,r,s);const u=function bl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qd(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return D(u.outlets,(w,T)=>{g[T]="string"==typeof w?w.split("/"):w}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new Qd(t,e,r)}(t);return u.toRoot()?Po(e.root,e.root,new Nt([],{}),r,s):function l(w){const T=function Jd(n,e,t,r){if(n.isAbsolute)return new tu(e.root,!0,0);if(-1===r)return new tu(t,t===e.root,0);return function nu(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new m.vHH(4005,lc&&"Invalid number of '../'");s=r.segments.length}return new tu(r,!1,s-u)}(t,r+(Tl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=T.processChildren?ws(T.segmentGroup,T.index,u.commands):eh(T.segmentGroup,T.index,u.commands);return Po(e.root,T.segmentGroup,S,r,s)}(n.snapshot?._lastPathIndex)}function Tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yd(n){return"object"==typeof n&&null!=n&&n.outlets}function Po(n,e,t,r,s){let l,u={};r&&D(r,(w,T)=>{u[T]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),l=n===e?t:Sg(n,e,t);const g=Zd(oa(l));return new pn(g,u,s)}function Sg(n,e,t){const r={};return D(n.children,(s,u)=>{r[u]=s===e?t:Sg(s,e,t)}),new Nt(n.segments,r)}class Qd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tl(r[0]))throw new m.vHH(4003,lc&&"Root segment cannot have matrix parameters");const s=r.find(Yd);if(s&&s!==Wd(r))throw new m.vHH(4004,lc&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function eh(n,e,t){if(n||(n=new Nt([],{})),0===n.segments.length&&n.hasChildren())return ws(n,e,t);const r=function Nf(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(Yd(g))break;const w=`${g}`,T=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!kf(w,T,l))return u;r+=2}else{if(!kf(w,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Nt(n.segments.slice(0,r.pathIndex),{});return u.children[vt]=new Nt(n.segments.slice(r.pathIndex),n.children),ws(u,0,s)}return r.match&&0===s.length?new Nt(n.segments,{}):r.match&&!n.hasChildren()?Sl(n,e,t):r.match?ws(n,0,s):Sl(n,e,t)}function ws(n,e,t){if(0===t.length)return new Nt(n.segments,{});{const r=function Xd(n){return Yd(n[0])?n[0].outlets:{[vt]:n}}(t),s={};if(!r[vt]&&n.children[vt]&&1===n.numberOfChildren&&0===n.children[vt].segments.length){const u=ws(n.children[vt],e,t);return new Nt(n.segments,u.children)}return D(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=eh(n.children[l],e,u))}),D(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new Nt(n.segments,s)}}function Sl(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Yd(u)){const w=Al(u.outlets);return new Nt(r,w)}if(0===s&&Tl(t[0])){r.push(new Vs(n.segments[e].path,Of(t[0]))),s++;continue}const l=Yd(u)?u.outlets[vt]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&Tl(g)?(r.push(new Vs(l,Of(g))),s+=2):(r.push(new Vs(l,{})),s++)}return new Nt(r,{})}function Al(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sl(new Nt([],{}),0,t))}),e}function Of(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function kf(n,e,t){return n==t.path&&ji(e,t.parameters)}const xl="imperative";class js{constructor(e,t){this.id=e,this.url=t}}class Lf extends js{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rs extends js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ml extends js{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ua extends js{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Rl extends js{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dc extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ry extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Py extends js{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ny extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ff extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ag{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ru{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Bf=(()=>{class n{createUrlTree(t,r,s,u,l,g){return bg(t||r.root,s,u,l,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(e){return Bf.\u0275fac(e)},providedIn:"root"}),n})();class $f{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return kr(e,this._root).map(t=>t.value)}}function Hf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hf(n,t);if(r)return r}return null}function kr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=kr(n,t);if(r.length)return r.unshift(e),r}return[]}class Ti{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ky extends $f{constructor(e,t){super(e),this.snapshot=t,iu(this,e)}toString(){return this.snapshot.toString()}}function Ly(n,e){const t=function Fy(n,e){const l=new nh([],{},{},"",{},vt,e,null,n.root,-1,{});return new $s("",new Ti(l,[]))}(n,e),r=new Rn([new Vs("",{})]),s=new Rn({}),u=new Rn({}),l=new Rn({}),g=new Rn(""),w=new yr(r,s,l,g,u,vt,e,t.root);return w.snapshot=t.root,new ky(new Ti(w,[]),t)}class yr{constructor(e,t,r,s,u,l,g,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.title=this.data?.pipe((0,Dt.U)(T=>T[Bi]))??ct(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Di(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Di(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function th(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class nh{get title(){return this.data?.[Bi]}constructor(e,t,r,s,u,l,g,w,T,S,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=S,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Di(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Di(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $s extends $f{constructor(e,t){super(t),this.url=e,iu(this,t)}toString(){return Gf(this._root)}}function iu(n,e){e.value._routerState=n,e.children.forEach(t=>iu(n,t))}function Gf(n){const e=n.children.length>0?` { ${n.children.map(Gf).join(", ")} } `:"";return`${n.value}${e}`}function pc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ji(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ji(e.params,t.params)||n.params.next(t.params),function zd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ji(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ji(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Is(n,e){const t=ji(n.params,e.params)&&function xo(n,e){return mr(n,e)&&n.every((t,r)=>ji(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Is(n.parent,e.parent))}function gc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Rg(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return gc(n,r,s);return gc(n,r)})}(n,e,t);return new Ti(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>gc(n,g)),l}}const r=function Pg(n){return new yr(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>gc(n,u));return new Ti(r,s)}}const Ng="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=eu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=h(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function h(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ng]=!0,r.cancellationCode=e,t&&(r.url=t),r}function f(n){return _(n)&&eu(n.url)}function _(n){return n&&n[Ng]}class b{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new M,this.attachRef=null}}let M=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new b,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U=!1;let K=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(M),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,U);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,U);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,U);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new m.vHH(4013,U);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,w=new Ae(t,g,s.injector);if(r&&function He(n){return!!n.resolveComponentFactory}(r)){const T=r.resolveComponentFactory(l);this.activated=s.createComponent(T,s.length,w)}else this.activated=s.createComponent(l,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),n})();class Ae{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yr?this.route:e===M?this.childContexts:this.parent.get(e,t)}}let Xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(t,r){1&t&&m._UZ(0,"router-outlet")},dependencies:[K],encapsulation:2}),n})();function et(n,e){return n.providers&&!n._injector&&(n._injector=(0,m.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ol(n){const e=n.children&&n.children.map(Ol),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vt&&(t.component=Xe),t}function Hi(n){return n.outlet||vt}function ih(n,e){const t=n.filter(r=>Hi(r)===e);return t.push(...n.filter(r=>Hi(r)!==e)),t}function mc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sh{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=fc(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),D(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=fc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=fc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=fc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Ci(u.value.snapshot))}),e.children.length&&this.forwardEvent(new hc(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(pc(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),pc(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=mc(s.snapshot),w=g?.get(m._Vd)??null;l.attachRef=null,l.route=s,l.resolver=w,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class By{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jy{constructor(e,t){this.component=e,this.route=t}}function qf(n,e,t){const r=n._root;return oh(r,e?e._root:null,t,[r.value])}function kl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,m.Z0I)(n)?e.get(n):n:r}function oh(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=fc(e);return n.children.forEach(l=>{(function F0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const w=function oS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(n.url,e.url)||!ji(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(n,e)||!ji(n.queryParams,e.queryParams);default:return!Is(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new By(r)):(u.data=l.data,u._resolvedData=l._resolvedData),oh(n,e,u.component?g?g.children:null:t,r,s),w&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new jy(g.outlet.component,l))}else l&&Wf(e,g,s),s.canActivateChecks.push(new By(r)),oh(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),D(u,(l,g)=>Wf(l,t.getContext(g),s)),s}function Wf(n,e,t){const r=fc(n),s=n.value;D(r,(u,l)=>{Wf(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new jy(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function ah(n){return"function"==typeof n}function ou(n){return n instanceof qa||"EmptyError"===n?.name}const Lg=Symbol("INITIAL_VALUE");function yc(){return Yn(n=>gl(n.map(e=>e.pipe(To(1),bo(Lg)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===Lg)return Lg;if(!1===t||t instanceof pn)return t}return!0}),ii(e=>e!==Lg),To(1)))}function Ky(n){return(0,Tf.z)((0,gr.b)(e=>{if(eu(e))throw y(0,e)}),(0,Dt.U)(e=>!0===e))}const Zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j0(n,e,t,r,s){const u=Yy(n,e,t);return u.matched?function uh(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?ct(s.map(l=>{const g=kl(l,n);return A(function Gy(n){return n&&ah(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(yc(),Ky()):ct(!0)}(r=et(e,r),e,t).pipe((0,Dt.U)(l=>!0===l?u:{...Zy})):ct(u)}function Yy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Zy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Sf)(t,n,e);if(!s)return{...Zy};const u={};D(s.posParams,(g,w)=>{u[w]=g.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function ch(n,e,t,r){if(t.length>0&&function iD(n,e,t){return t.some(r=>Qy(n,e,r)&&Hi(r)!==vt)}(n,t,r)){const u=new Nt(e,function $0(n,e,t,r){const s={};s[vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Hi(u)!==vt){const l=new Nt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[Hi(u)]=l}return s}(n,e,r,new Nt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function H0(n,e,t){return t.some(r=>Qy(n,e,r))}(n,t,r)){const u=new Nt(n.segments,function rD(n,e,t,r,s){const u={};for(const l of r)if(Qy(n,t,l)&&!s[Hi(l)]){const g=new Nt([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[Hi(l)]=g}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Nt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Qy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function z0(n,e,t,r){return!!(Hi(n)===r||r!==vt&&Qy(e,t,n))&&("**"===n.path||Yy(e,n,t).matched)}function lh(n,e,t){return 0===e.length&&!n.children[t]}const Vg=!1;class au{constructor(e){this.segmentGroup=e||null}}class dh{constructor(e){this.urlTree=e}}function Kf(n){return Ya(new au(n))}function Jy(n){return Ya(new dh(n))}class G0{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=ch(this.urlTree.root,[],[],this.config).segmentGroup,t=new Nt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,vt).pipe((0,Dt.U)(u=>this.createUrlTree(oa(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ao(u=>{if(u instanceof dh)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof au?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,vt).pipe((0,Dt.U)(s=>this.createUrlTree(oa(s),e.queryParams,e.fragment))).pipe(Ao(s=>{throw s instanceof au?this.noMatchError(s):s}))}noMatchError(e){return new m.vHH(4002,Vg)}createUrlTree(e,t,r){const s=Zd(e);return new pn(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(u=>new Nt([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,cn.D)(s).pipe(vs(u=>{const l=r.children[u],g=ih(t,u);return this.expandSegmentGroup(e,g,l,u).pipe((0,Dt.U)(w=>({segment:w,outlet:u})))}),ic((u,l)=>(u[l.outlet]=l.segment,u),{}),oc())}expandSegment(e,t,r,s,u,l){return(0,cn.D)(r).pipe(vs(g=>this.expandSegmentAgainstRoute(e,t,r,g,s,u,l).pipe(Ao(T=>{if(T instanceof au)return ct(null);throw T}))),Vi(g=>!!g),Ao((g,w)=>{if(ou(g))return lh(t,s,u)?ct(new Nt([],{})):Kf(t);throw g}))}expandSegmentAgainstRoute(e,t,r,s,u,l,g){return z0(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):Kf(t):Kf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Jy(u):this.lineralizeSegments(r,u).pipe((0,$n.z)(l=>{const g=new Nt(l,{});return this.expandSegment(e,g,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:w,remainingSegments:T,positionalParamSegments:S}=Yy(t,s,u);if(!g)return Kf(t);const P=this.applyRedirectCommands(w,s.redirectTo,S);return s.redirectTo.startsWith("/")?Jy(P):this.lineralizeSegments(s,P).pipe((0,$n.z)(H=>this.expandSegment(e,t,r,H.concat(T),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=et(r,e),r.loadChildren?(r._loadedRoutes?ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Dt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Nt(s,{})))):ct(new Nt(s,{}))):j0(t,r,s,e).pipe(Yn(({matched:l,consumedSegments:g,remainingSegments:w})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,$n.z)(S=>{const P=S.injector??e,H=S.routes,{segmentGroup:Z,slicedSegments:_e}=ch(t,g,w,H),Ue=new Nt(Z.segments,Z.children);if(0===_e.length&&Ue.hasChildren())return this.expandChildren(P,H,Ue).pipe((0,Dt.U)(_t=>new Nt(g,_t)));if(0===H.length&&0===_e.length)return ct(new Nt(g,{}));const Fe=Hi(r)===u;return this.expandSegment(P,Ue,H,_e,Fe?vt:u,!0).pipe((0,Dt.U)(St=>new Nt(g.concat(St.segments),St.children)))})):Kf(t)))}getChildConfig(e,t,r){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function nD(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?ct(!0):ct(s.map(l=>{const g=kl(l,n);return A(function Hy(n){return n&&ah(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(yc(),Ky())}(e,t,r).pipe((0,$n.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,gr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function oD(n){return Ya(h(Vg,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ct(r);if(s.numberOfChildren>1||!s.children[vt])return e.redirectTo,Ya(new m.vHH(4e3,Vg));s=s.children[vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new pn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);r[u]=t[g]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return D(t.children,(g,w)=>{l[w]=this.createSegmentGroup(e,g,r,s)}),new Nt(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new m.vHH(4001,Vg);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class Xy{}class Zf{constructor(e,t,r,s,u,l,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g}recognize(){const e=ch(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,vt).pipe((0,Dt.U)(t=>{if(null===t)return null;const r=new nh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ti(r,t),u=new $s(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=zf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(vs(s=>{const u=r.children[s],l=ih(t,s);return this.processSegmentGroup(e,l,u,s)}),ic((s,u)=>s&&u?(s.push(...u),s):null),function _s(n,e=!1){return(0,Nr.e)((t,r)=>{let s=0;t.subscribe((0,Pr.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),So(null),oc(),(0,Dt.U)(s=>{if(null===s)return null;const u=W0(s);return function cD(n){n.sort((e,t)=>e.value.outlet===vt?-1:t.value.outlet===vt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,cn.D)(t).pipe(vs(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),Vi(l=>!!l),Ao(l=>{if(ou(l))return lh(r,s,u)?ct([]):ct(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!z0(t,r,s,u))return ct(null);let l;if("**"===t.path){const g=s.length>0?Wd(s).parameters:{},w=Z0(r)+s.length;l=ct({snapshot:new nh(s,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ca(t),Hi(t),t.component??t._loadedComponent??null,t,K0(r),w,Y0(t)),consumedSegments:[],remainingSegments:[]})}else l=j0(r,t,s,e).pipe((0,Dt.U)(({matched:g,consumedSegments:w,remainingSegments:T,parameters:S})=>{if(!g)return null;const P=Z0(r)+w.length;return{snapshot:new nh(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ca(t),Hi(t),t.component??t._loadedComponent??null,t,K0(r),P,Y0(t)),consumedSegments:w,remainingSegments:T}}));return l.pipe(Yn(g=>{if(null===g)return ct(null);const{snapshot:w,consumedSegments:T,remainingSegments:S}=g;e=t._injector??e;const P=t._loadedInjector??e,H=function lD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:_e}=ch(r,T,S,H.filter(Fe=>void 0===Fe.redirectTo));if(0===_e.length&&Z.hasChildren())return this.processChildren(P,H,Z).pipe((0,Dt.U)(Fe=>null===Fe?null:[new Ti(w,Fe)]));if(0===H.length&&0===_e.length)return ct([new Ti(w,[])]);const Ue=Hi(t)===u;return this.processSegment(P,H,Z,_e,Ue?vt:u).pipe((0,Dt.U)(Fe=>null===Fe?null:[new Ti(w,Fe)]))}))}}function dD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function W0(n){const e=[],t=new Set;for(const r of n){if(!dD(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=W0(r.children);e.push(new Ti(r.value,s))}return e.filter(r=>!t.has(r))}function K0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ca(n){return n.data||{}}function Y0(n){return n.resolve||{}}function tv(n){return"string"==typeof n.title||null===n.title}function nv(n){return Yn(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,Dt.U)(()=>e)):ct(e)})}const hh=new m.OlP("ROUTES");let iv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=A(t.loadComponent()).pipe((0,Dt.U)(X0),(0,gr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ac(()=>{this.componentLoaders.delete(t)})),s=new yl(r,()=>new Rr.x).pipe(ml());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,T,S=!1;Array.isArray(g)?T=g:(w=g.create(t).injector,T=qd(w.get(hh,[],m.XFs.Self|m.XFs.Optional)));return{routes:T.map(Ol),injector:w}}),ac(()=>{this.childrenLoaders.delete(r)})),l=new yl(u,()=>new Rr.x).pipe(ml());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return A(t()).pipe((0,Dt.U)(X0),(0,$n.z)(r=>r instanceof m.YKP||Array.isArray(r)?ct(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X0(n){return function No(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let jg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rr.x,this.configLoader=(0,m.f3M)(iv),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Bs),this.rootContexts=(0,m.f3M)(M),this.navigationId=0,this.afterPreactivation=()=>ct(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Ag(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Pl(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ii(r=>0!==r.id),(0,Dt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Yn(r=>{let s=!1,u=!1;return ct(r).pipe((0,gr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yn(l=>{const g=t.browserUrlTree.toString(),w=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!w&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new ua(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ui.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ew(l.source)&&(t.browserUrlTree=l.extractedUrl),ct(l).pipe(Yn(S=>{const P=this.transitions?.getValue();return this.events.next(new Lf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?Ui.E:Promise.resolve(S)}),function q0(n,e,t,r){return Yn(s=>function aD(n,e,t,r,s){return new G0(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,Dt.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,gr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function fD(n,e,t,r,s){return(0,$n.z)(u=>function ev(n,e,t,r,s,u,l="emptyOnly"){return new Zf(n,e,t,r,s,l,u).recognize().pipe(Yn(g=>null===g?function uD(n){return new Fi.y(e=>e.error(n))}(new Xy):ct(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,Dt.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,gr.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(H,S)}t.browserUrlTree=S.urlAfterRedirects}const P=new dc(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:P,source:H,restoredState:Z,extras:_e}=l,Ue=new Lf(S,this.urlSerializer.serialize(P),H,Z);this.events.next(Ue);const Fe=Ly(P,this.rootComponentType).snapshot;return ct(r={...l,targetSnapshot:Fe,urlAfterRedirects:P,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new ua(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ui.E}}),(0,gr.b)(l=>{const g=new Ry(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,Dt.U)(l=>r={...l,guards:qf(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Fg(n,e){return(0,$n.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?ct({...t,guardsResult:!0}):function eD(n,e,t,r){return(0,cn.D)(n).pipe((0,$n.z)(s=>function tD(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ct(u.map(g=>{const w=mc(e)??s,T=kl(g,w);return A(function JE(n){return n&&ah(n.canDeactivate)}(T)?T.canDeactivate(n,e,t,r):w.runInContext(()=>T(n,e,t,r))).pipe(Vi())})).pipe(yc()):ct(!0)}(s.component,s.route,t,e,r)),Vi(s=>!0!==s,!0))}(l,r,s,n).pipe((0,$n.z)(g=>g&&function U0(n){return"boolean"==typeof n}(g)?function qy(n,e,t,r){return(0,cn.D)(e).pipe(vs(s=>rc(function Ll(n,e){return null!==n&&e&&e(new xg(n)),ct(!0)}(s.route.parent,r),function Ug(n,e){return null!==n&&e&&e(new Uf(n)),ct(!0)}(s.route,r),function Wy(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function $y(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Hd(()=>ct(l.guards.map(w=>{const T=mc(l.node)??t,S=kl(w,T);return A(function zy(n){return n&&ah(n.canActivateChild)}(S)?S.canActivateChild(r,n):T.runInContext(()=>S(r,n))).pipe(Vi())})).pipe(yc())));return ct(u).pipe(yc())}(n,s.path,t),function B0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const s=r.map(u=>Hd(()=>{const l=mc(e)??t,g=kl(u,l);return A(function aS(n){return n&&ah(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(Vi())}));return ct(s).pipe(yc())}(n,s.route,t))),Vi(s=>!0!==s,!0))}(r,u,n,e):ct(g)),(0,Dt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),(0,gr.b)(l=>{if(r.guardsResult=l.guardsResult,eu(l.guardsResult))throw y(0,l.guardsResult);const g=new Py(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),ii(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),nv(l=>{if(l.guards.canActivateChecks.length)return ct(l).pipe((0,gr.b)(g=>{const w=new Ny(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),Yn(g=>{let w=!1;return ct(g).pipe(function uS(n,e){return(0,$n.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ct(t);let u=0;return(0,cn.D)(s).pipe(vs(l=>function cS(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!tv(s)&&(u[Bi]=s.title),function Q0(n,e,t,r){const s=function lS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ct({});const u={};return(0,cn.D)(s).pipe((0,$n.z)(l=>function J0(n,e,t,r){const s=mc(e)??r,u=kl(n,s);return A(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Vi(),(0,gr.b)(g=>{u[l]=g}))),sc(1),function _l(n){return(0,Dt.U)(()=>n)}(u),Ao(l=>ou(l)?Ui.E:Ya(l)))}(u,n,e,r).pipe((0,Dt.U)(l=>(n._resolvedData=l,n.data=zf(n,t).resolve,s&&tv(s)&&(n.data[Bi]=s.title),null)))}(l.route,r,n,e)),(0,gr.b)(()=>u++),sc(1),(0,$n.z)(l=>u===s.length?ct(t):Ui.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,gr.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,gr.b)(g=>{const w=new Ff(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}))}),nv(l=>{const g=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,gr.b)(S=>{w.component=S}),(0,Dt.U)(()=>{})));for(const S of w.children)T.push(...g(S));return T};return gl(g(l.targetSnapshot.root)).pipe(So(),To(1))}),nv(()=>this.afterPreactivation()),(0,Dt.U)(l=>{const g=function su(n,e,t){const r=gc(n,e._root,t?t._root:void 0);return new ky(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),(0,gr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new sh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),To(1),(0,gr.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new rs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ac(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ao(l=>{if(u=!0,_(l)){f(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Ml(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),f(l)){const w=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ew(r.source)};t.scheduleNavigation(w,xl,null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Rl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(w){r.reject(w)}}return Ui.E}))}))}cancelNavigationTransition(t,r,s){const u=new Ml(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ew(n){return n!==xl}let tw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===vt);return r}getResolvedTitleForRoute(t){return t.data[Bi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(pD)},providedIn:"root"}),n})(),pD=(()=>{class n extends tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(wf))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(mD)},providedIn:"root"}),n})();class gD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let mD=(()=>{class n extends gD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.n5z(n)))(r||n)}}(),n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ft=new m.OlP("",{providedIn:"root",factory:()=>({})});let rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(iw)},providedIn:"root"}),n})(),iw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vD(n){throw n}function _D(n,e,t){return e.parse("/")}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Ft,{optional:!0})||{},this.errorHandler=this.options.errorHandler||vD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_D,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(rw),this.routeReuseStrategy=(0,m.f3M)(nw),this.urlCreationStrategy=(0,m.f3M)(Oy),this.titleStrategy=(0,m.f3M)(tw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qd((0,m.f3M)(hh,{optional:!0})??[]),this.navigationTransitions=(0,m.f3M)(jg),this.urlSerializer=(0,m.f3M)(Bs),this.location=(0,m.f3M)(Be),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ly(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const w={...s};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ol),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:w}=r,T=w?this.currentUrlTree.fragment:l;let S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,S,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=eu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,xl,null,r)}navigate(t,r={skipLocationChange:!1}){return function ID(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new m.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...sw}:!1===r?{...wD}:r,eu(t))return te(this.currentUrlTree,t,s);const u=this.parseUrl(t);return te(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,w,T,S;return l?(g=l.resolve,w=l.reject,T=l.promise):T=new Promise((P,H)=>{g=P,w=H}),S="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ov{}let av=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ii(t=>t instanceof rs),vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,m.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,cn.D)(s).pipe((0,nc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ct(null);const u=s.pipe((0,$n.z)(l=>null===l?ct(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,cn.D)([u,l]).pipe((0,nc.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(si),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(ov),m.LFG(iv))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jf=new m.OlP("");let aw=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ru&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ru(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();var zs=(()=>((zs=zs||{})[zs.COMPLETE=0]="COMPLETE",zs[zs.FAILED=1]="FAILED",zs[zs.REDIRECTING=2]="REDIRECTING",zs))();const Xf=!1;function Fl(n,e){return{\u0275kind:n,\u0275providers:e}}const cv=new m.OlP("",{providedIn:"root",factory:()=>!1});function ep(){const n=(0,m.f3M)(m.zs3);return e=>{const t=n.get(m.z2F);if(e!==t.components[0])return;const r=n.get(si),s=n.get(uw);1===n.get(Hg)&&r.initialNavigation(),n.get(cw,null,m.XFs.Optional)?.setUpPreloading(),n.get(Jf,null,m.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const uw=new m.OlP(Xf?"bootstrap done indicator":"",{factory:()=>new Rr.x}),Hg=new m.OlP(Xf?"initial navigation":"",{providedIn:"root",factory:()=>1});function TD(){let n=[];return n=Xf?[{provide:m.Xts,multi:!0,useFactory:()=>{const e=(0,m.f3M)(si);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Vf(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Fl(1,n)}const cw=new m.OlP(Xf?"router preloader":"");function bD(n){return Fl(0,[{provide:cw,useExisting:av},{provide:ov,useExisting:n}])}const gh=!1,xD=new m.OlP(gh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),lv=[Be,{provide:Bs,useClass:wl},si,M,{provide:yr,useFactory:function uv(n){return n.routerState.root},deps:[si]},iv,gh?{provide:cv,useValue:!0}:[]];function MD(){return new m.PXZ("Router",si)}let RD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lv,gh&&r?.enableTracing?TD().\u0275providers:[],{provide:hh,multi:!0,useValue:t},{provide:xD,useFactory:hw,deps:[[si,new m.FiY,new m.tp0]]},{provide:Ft,useValue:r||{}},r?.useHash?{provide:ot,useClass:Re}:{provide:ot,useClass:Me},{provide:Jf,useFactory:()=>{const n=(0,m.f3M)(Aa),e=(0,m.f3M)(m.R0b),t=(0,m.f3M)(Ft),r=(0,m.f3M)(jg),s=(0,m.f3M)(Bs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new aw(s,r,n,e,t)}},r?.preloadingStrategy?bD(r.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:MD},r?.initialNavigation?ND(r):[],[{provide:fw,useFactory:ep},{provide:m.tb,multi:!0,useExisting:fw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(xD,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Xe]}),n})();function hw(n){if(gh&&n)throw new m.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ND(n){return["disabled"===n.initialNavigation?Fl(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const e=(0,m.f3M)(si);return()=>{e.setUpLocationChangeListener()}}},{provide:Hg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fl(2,[{provide:Hg,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:e=>{const t=e.get(he,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(si),u=e.get(uw);(function fS(n,e){n.events.pipe(ii(t=>t instanceof rs||t instanceof Ml||t instanceof Rl||t instanceof ua),(0,Dt.U)(t=>t instanceof rs||t instanceof ua?zs.COMPLETE:t instanceof Ml&&(0===t.code||1===t.code)?zs.REDIRECTING:zs.FAILED),ii(t=>t!==zs.REDIRECTING),To(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(jg).afterPreactivation=()=>(r(!0),u.closed?ct(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const fw=new m.OlP(gh?"Router Initializer":"");let dv=(()=>{class n{constructor(){this.bg="green"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=m.lG2({type:n,selectors:[["","appHost",""]],hostVars:2,hostBindings:function(r,s){2&r&&m.Udp("color",s.bg)}})}return n})();const np=["joinCallName"],hv=["joinCallId"],Gg=["makeCallName"];function pw(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"div",2)(1,"h1",3),m._uU(2,"Welcome to RLVC"),m.qZA(),m.TgZ(3,"h3"),m._uU(4,"What you want to do ?"),m.qZA(),m._UZ(5,"hr"),m.TgZ(6,"button",4),m.NdJ("click",function(){m.CHM(t);const s=m.oxw();return s.callJson.loginPage=!1,m.KtG(s.callJson.joinCall=!0)}),m._uU(7,"Join a call"),m.qZA(),m._UZ(8,"hr"),m.TgZ(9,"button",4),m.NdJ("click",function(){m.CHM(t);const s=m.oxw();return s.callJson.loginPage=!1,m.KtG(s.callJson.makeCall=!0)}),m._uU(10,"Make a call"),m.qZA()()}}function fv(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"div",2)(1,"h1"),m._uU(2,"Make a call"),m.qZA(),m.TgZ(3,"h3"),m._uU(4,"Enter your name and make a call"),m.qZA(),m.TgZ(5,"input",5,6),m.NdJ("keyup.enter",function(s){m.CHM(t);const u=m.oxw();return m.KtG(u.makeCall(s))}),m.qZA(),m.TgZ(7,"button",4),m.NdJ("click",function(s){m.CHM(t);const u=m.oxw();return m.KtG(u.makeCall(s))}),m._uU(8,"Make call"),m.qZA(),m.TgZ(9,"h4",7),m.NdJ("click",function(){m.CHM(t);const s=m.oxw();return s.callJson.loginPage=!0,m.KtG(s.callJson.makeCall=!1)}),m._uU(10,"Main page"),m.qZA()()}}function pv(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"div",2)(1,"h1"),m._uU(2,"Join a call"),m.qZA(),m.TgZ(3,"h3"),m._uU(4,"Enter your name and caller id"),m.qZA(),m._UZ(5,"input",8,9),m.TgZ(7,"input",10,11),m.NdJ("keyup.enter",function(s){m.CHM(t);const u=m.oxw();return m.KtG(u.joinCall(s))}),m.qZA(),m.TgZ(9,"button",4),m.NdJ("click",function(s){m.CHM(t);const u=m.oxw();return m.KtG(u.joinCall(s))}),m._uU(10,"Join Call"),m.qZA(),m.TgZ(11,"h4",7),m.NdJ("click",function(){m.CHM(t);const s=m.oxw();return s.callJson.loginPage=!0,m.KtG(s.callJson.joinCall=!1)}),m._uU(12,"Main page"),m.qZA()()}}let gv=(()=>{class n{constructor(t){this.router=t,this.callJson={makeCall:!1,joinCall:!1,loginPage:!0}}joinCall(t){t.preventDefault(),this.joinCallName.nativeElement.value.trim()?this.joinCallId.nativeElement.value.trim()?(sessionStorage.setItem("userName",this.joinCallName.nativeElement.value),sessionStorage.setItem("callId",this.joinCallId.nativeElement.value),this.router.navigateByUrl("meetingRoom")):alert("Required Call id"):alert("Required name")}makeCall(t){t.preventDefault(),this.makeCallName.nativeElement.value.trim()?(sessionStorage.setItem("userName",this.makeCallName.nativeElement.value),this.router.navigate(["meetingRoom"])):alert("Required name")}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(si))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(r,s){if(1&r&&(m.Gf(np,5),m.Gf(hv,5),m.Gf(Gg,5)),2&r){let u;m.iGM(u=m.CRH())&&(s.joinCallName=u.first),m.iGM(u=m.CRH())&&(s.joinCallId=u.first),m.iGM(u=m.CRH())&&(s.makeCallName=u.first)}},decls:4,vars:3,consts:[[1,"mainDiv"],["class","formDiv",4,"ngIf"],[1,"formDiv"],["appHost",""],[1,"btn","btn-primary",3,"click"],["type","text","placeholder","name",3,"keyup.enter"],["makeCallName",""],[1,"homeBtn",3,"click"],["type","text","placeholder","Name"],["joinCallName",""],["type","text","placeholder","Call id",3,"keyup.enter"],["joinCallId",""]],template:function(r,s){1&r&&(m.TgZ(0,"div",0),m.YNc(1,pw,11,0,"div",1),m.YNc(2,fv,11,0,"div",1),m.YNc(3,pv,13,0,"div",1),m.qZA()),2&r&&(m.xp6(1),m.Q6J("ngIf",s.callJson.loginPage),m.xp6(1),m.Q6J("ngIf",s.callJson.makeCall),m.xp6(1),m.Q6J("ngIf",s.callJson.joinCall))},dependencies:[Rs,dv],styles:[".mainDiv[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;background-color:#000}.formDiv[_ngcontent-%COMP%]{width:20rem;display:grid;text-align:center;background-color:#fff;padding:1rem}hr[_ngcontent-%COMP%]{width:100%;height:0}.homeBtn[_ngcontent-%COMP%]{color:#00f;text-decoration:underline;margin-bottom:0;cursor:pointer}"]})}return n})();var me=k(5861),mv=k(4986),oi=k(4763);function yv(){return(0,Nr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Pr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function OD(n,e){return n===e}var Qe,Gs=k(2011),vc=(k(8463),k(3942),k(6881),k(4859),k(1877)),ln=k(2090),yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Es={},vv=vv||{},Bt=yS||self;function qg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _v="closure_uid_"+(1e9*Math.random()>>>0),wv=0;function UD(n,e,t){return n.call.apply(n.bind,arguments)}function VD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?UD:VD).apply(null,arguments)}function Wg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ai(){this.s=this.s,this.o=this.o}ai.prototype.s=!1,ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function FD(n){Object.prototype.hasOwnProperty.call(n,_v)&&n[_v]||(n[_v]=++wv)}(this)},ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ev(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Dv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(qg(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function Ai(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ai.prototype.h=function(){this.defaultPrevented=!0};var BD=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",()=>{},e),Bt.removeEventListener("test",()=>{},e)}catch{}return n}();function rp(n){return/^[\s\xa0]*$/.test(n)}function vh(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function la(n){return-1!=vh().indexOf(n)}function Cv(n){return Cv[" "](n),n}Cv[" "]=function(){};var Yg,Zg=la("Opera"),uu=la("Trident")||la("MSIE"),jD=la("Edge"),ip=jD||uu,$D=la("Gecko")&&!(-1!=vh().toLowerCase().indexOf("webkit")&&!la("Edge"))&&!(la("Trident")||la("MSIE"))&&!la("Edge"),yw=-1!=vh().toLowerCase().indexOf("webkit")&&!la("Edge");function Tv(){var n=Bt.document;return n?n.documentMode:void 0}e:{var Qg="",sp=function(){var n=vh();return $D?/rv:([^\);]+)(\)|;)/.exec(n):jD?/Edge\/([\d\.]+)/.exec(n):uu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yw?/WebKit\/(\S+)/.exec(n):Zg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(sp&&(Qg=sp?sp[1]:""),uu){var Oo=Tv();if(null!=Oo&&Oo>parseFloat(Qg)){Yg=String(Oo);break e}}Yg=Qg}var ap=Bt.document&&uu&&(Tv()||parseInt(Yg,10))||void 0;function up(n,e){if(Ai.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($D){e:{try{Cv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&up.$.h.call(this)}}var vw={2:"touch",3:"pen",4:"mouse"};up.prototype.h=function(){up.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wh="closure_listenable_"+(1e6*Math.random()|0),HD=0;function zD(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++HD,this.fa=this.ia=!1}function _c(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function bv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function _w(n){const e={};for(const t in n)e[t]=n[t];return e}const ww="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Iw(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<ww.length;u++)t=ww[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Jg(n){this.src=n,this.g={},this.h=0}function Sv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=mw(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(_c(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Av(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Jg.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Av(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new zD(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var xv="closure_lm_"+(1e6*Math.random()|0),Xg={};function Mv(n,e,t,r,s){if(r&&r.once)return Dw(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Mv(n,e[u],t,r,s);return null}return t=em(t),n&&n[wh]?n.O(e,t,yh(r)?!!r.capture:!!r,s):Ew(n,e,t,!1,r,s)}function Ew(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=yh(s)?!!s.capture:!!s,g=Nv(n);if(g||(n[xv]=g=new Jg(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function Rv(){const e=GD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)BD||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Tw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Dw(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Dw(n,e[u],t,r,s);return null}return t=em(t),n&&n[wh]?n.P(e,t,yh(r)?!!r.capture:!!r,s):Ew(n,e,t,!0,r,s)}function Cw(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Cw(n,e[u],t,r,s);else r=yh(r)?!!r.capture:!!r,t=em(t),n&&n[wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Av(u=n.g[e],t,r,s))&&(_c(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Nv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Av(e,t,r,s)),(t=-1<n?e[n]:null)&&Pv(t))}function Pv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[wh])Sv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Tw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Nv(e))?(Sv(t,n),0==t.h&&(t.src=null,e[xv]=null)):_c(n)}}}function Tw(n){return n in Xg?Xg[n]:Xg[n]="on"+n}function GD(n,e){if(n.fa)n=!0;else{e=new up(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Pv(n),n=t.call(r,e)}return n}function Nv(n){return(n=n[xv])instanceof Jg?n:null}var Ov="__closure_events_fn_"+(1e9*Math.random()>>>0);function em(n){return"function"==typeof n?n:(n[Ov]||(n[Ov]=function(e){return n.handleEvent(e)}),n[Ov])}function Lr(){ai.call(this),this.i=new Jg(this),this.S=this,this.J=null}function ui(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ai(e,n);else if(e instanceof Ai)e.target=e.target||n;else{var s=e;Iw(e=new Ai(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=kv(l,r,!0,e)&&s}if(s=kv(l=e.g=n,r,!0,e)&&s,s=kv(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=kv(l=e.g=t[u],r,!1,e)&&s}function kv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,w=l.la||l.src;l.ia&&Sv(n.i,l),s=!1!==g.call(w,r)&&s}}return s&&!r.defaultPrevented}Lr.prototype[wh]=!0,Lr.prototype.removeEventListener=function(n,e,t,r){Cw(this,n,e,t,r)},Lr.prototype.N=function(){if(Lr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_c(t[r]);delete n.g[e],n.h--}}this.J=null},Lr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Lr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var tm=Bt.JSON.stringify;class _S{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function nm(){var n=lu;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class qD{constructor(){this.h=this.g=null}add(e,t){const r=bw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var bw=new _S(()=>new Lv,n=>n.reset());class Lv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function WD(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function da(n){Bt.setTimeout(()=>{throw n},0)}let cu,Er=!1,lu=new qD,cp=()=>{const n=Bt.Promise.resolve(void 0);cu=()=>{n.then(qs)}};var qs=()=>{for(var n;n=nm();){try{n.h.call(n.g)}catch(t){da(t)}var e=bw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Er=!1};function Ih(n,e){Lr.call(this),this.h=n||1,this.g=e||Bt,this.j=Si(this.qb,this),this.l=Date.now()}function wc(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ic(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function Vl(n){n.g=Ic(()=>{n.g=null,n.i&&(n.i=!1,Vl(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Qe=Ih.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(wc(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Ih.$.N.call(this),wc(this),delete this.g};class Eh extends ai{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(n){ai.call(this),this.h=n,this.g={}}var Bl=[];function jl(n,e,t,r){Array.isArray(t)||(t&&(Bl[0]=t.toString()),t=Bl);for(var s=0;s<t.length;s++){var u=Mv(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function $l(n){bv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pv(e)},n),n.g={}}function du(){this.g=!0}function Hl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return tm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ha.prototype.N=function(){ha.$.N.call(this),$l(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},du.prototype.Ea=function(){this.g=!1},du.prototype.info=function(){};var Ec={},Fv=null;function lp(){return Fv=Fv||new Lr}function Uv(n){Ai.call(this,Ec.Ta,n)}function dp(n){const e=lp();ui(e,new Uv(e))}function Rw(n,e){Ai.call(this,Ec.STAT_EVENT,n),this.stat=e}function xi(n){const e=lp();ui(e,new Rw(e,n))}function Pw(n,e){Ai.call(this,Ec.Ua,n),this.size=e}function hp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}Ec.Ta="serverreachability",Ec.STAT_EVENT="statevent",Ec.Ua="timingevent";var Dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pp(){}var mp,zl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bv(){Ai.call(this,"d")}function gp(){Ai.call(this,"c")}function yp(){}function Ch(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ha(this),this.P=Nw,this.V=new Ih(n=ip?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new im}function im(){this.i=null,this.g="",this.h=!1}yp.prototype.g=function(){return new XMLHttpRequest},yp.prototype.i=function(){return{}},mp=new yp;var Nw=45e3,sm={},Th={};function om(n,e,t){n.L=1,n.v=um(fa(e)),n.s=t,n.S=!0,Ow(n,null)}function Ow(n,e){n.G=Date.now(),bh(n),n.A=fa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Wv(t.i,"t",r),n.C=0,t=n.l.J,n.h=new im,n.g=sI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Eh(Si(n.Pa,n,n.g),n.O)),jl(n.U,n.g,"readystatechange",n.nb),e=n.I?_w(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),dp(),function Sw(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),w=0;w<g.length;w++){var T=g[w].split("=");if(1<T.length){var S=T[0];T=T[1];var P=S.split("_");l=2<=P.length&&"type"==P[1]?l+(S+"=")+T+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function jv(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function $v(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=kw(n,t),s==Th){4==e&&(n.o=4,xi(14),r=!1),Hl(n.j,n.m,null,"[Incomplete Response]");break}if(s==sm){n.o=4,xi(15),Hl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hl(n.j,n.m,s,null),_p(n,s)}jv(n)&&s!=Th&&s!=sm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),u_(e),e.M=!0,xi(11))):(Hl(n.j,n.m,t,"[Invalid Chunked Response]"),Dc(n),vp(n))}function kw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Th:(t=Number(e.substring(t,r)),isNaN(t)?sm:(r+=1)+t>e.length?Th:(e=e.slice(r,r+t),n.C=r+t,e))}function bh(n){n.Y=Date.now()+n.P,Lw(n,n.P)}function Lw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hp(Si(n.lb,n),e)}function am(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function vp(n){0==n.l.H||n.J||tI(n.l,n)}function Dc(n){am(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,wc(n.V),$l(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function _p(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Zv(t.i,n)))if(!n.K&&Zv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;fm(t),Cp(t)}a_(t),xi(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=hp(Si(t.ib,t),6e3));if(1>=Wl(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Kl(t,11)}else if((n.K||t.g==n)&&fm(t),!rp(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let T=s[e];if(t.V=T[0],T=T[1],2==t.H)if("c"==T[0]){t.K=T[1],t.pa=T[2];const S=T[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const P=T[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const H=T[5];null!=H&&"number"==typeof H&&0<H&&(t.L=r=1.5*H,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const _e=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var u=r.i;u.g||-1==_e.indexOf("spdy")&&-1==_e.indexOf("quic")&&-1==_e.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Yv(u,u.h),u.h=null))}if(r.F){const Ue=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Ue&&(r.Da=Ue,Ln(r.I,r.F,Ue))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=iI(r,r.J?r.pa:null,r.Y),l.K){Qv(r.i,l);var g=l,w=r.L;w&&g.setTimeout(w),g.B&&(am(g),bh(g)),r.g=l}else o_(r);0<t.j.length&&Tp(t)}else"stop"!=T[0]&&"close"!=T[0]||Kl(t,7);else 3==t.H&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Kl(t,7):Dp(t):"noop"!=T[0]&&t.h&&t.h.Aa(T),t.A=0)}dp()}catch{}}function Hv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Uw(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Fw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Qe=Ch.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Lo(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const S=Lo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||ip||this.g&&(this.h.h||this.g.ja()||t_(this.g)))){this.J||4!=S||7==e||dp(),am(this);var t=this.g.da();this.ca=t;t:if(jv(this)){var r=t_(this.g);n="";var s=r.length,u=4==Lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dc(this),vp(this);var l="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Aw(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,w=this.g;if((g=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rp(g)){var T=g;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,xi(12),Dc(this),vp(this);break e}Hl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_p(this,t)}this.S?($v(this,S,l),ip&&this.i&&3==S&&(jl(this.U,this.V,"tick",this.mb),this.V.start())):(Hl(this.j,this.m,l,null),_p(this,l)),4==S&&Dc(this),this.i&&!this.J&&(4==S?tI(this.l,this):(this.i=!1,bh(this)))}else(function dm(n){const e={};n=(n.g&&2<=Lo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(rp(n[r]))continue;var t=WD(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function vS(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Dc(this),vp(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Lo(this.g),e=this.g.ja();this.C<e.length&&(am(this),$v(this,n,e),this.i&&4!=n&&bh(this))}},Qe.cancel=function(){this.J=!0,Dc(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dp(),xi(17)),Dc(this),this.o=2,vp(this)):Lw(this,this.Y-n)};var zv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cc){this.h=n.h,wp(this,n.j),this.s=n.s,this.g=n.g,Gl(this,n.m),this.l=n.l;var e=n.i,t=new Ip;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hu(this,t),this.o=n.o}else n&&(e=String(n).match(zv))?(this.h=!1,wp(this,e[1]||"",!0),this.s=ql(e[2]||""),this.g=ql(e[3]||"",!0),Gl(this,e[4]),this.l=ql(e[5]||"",!0),hu(this,e[6]||"",!0),this.o=ql(e[7]||"")):(this.h=!1,this.i=new Ip(null,this.h))}function fa(n){return new Cc(n)}function wp(n,e,t){n.j=t?ql(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gl(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hu(n,e,t){e instanceof Ip?(n.i=e,function ZD(n,e){e&&!n.j&&(fu(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(jw(this,r),Wv(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ko(e,IS)),n.i=new Ip(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function um(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ql(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ko(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Gv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Gv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ko(e,Bw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ko(e,Bw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ko(t,"/"==t.charAt(0)?wS:qv,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ko(t,KD)),n.join("")};var Bw=/[#\/\?@]/g,qv=/[#\?:]/g,wS=/[#\?]/g,IS=/[#\?@]/g,KD=/#/g;function Ip(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Vw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jw(n,e){fu(n),e=Sh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Dr(n,e){return fu(n),e=Sh(n,e),n.g.has(e)}function Wv(n,e,t){jw(n,e),0<t.length&&(n.i=null,n.g.set(Sh(n,e),Ev(t)),n.h+=t.length)}function Sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Hw(n){this.l=n||zw,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Ip.prototype).add=function(n,e){fu(this),this.i=null,n=Sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){fu(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Qe.ta=function(){fu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Qe.Z=function(n){fu(this);let e=[];if("string"==typeof n)Dr(this,n)&&(e=e.concat(this.g.get(Sh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return fu(this),this.i=null,Dr(this,n=Sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var zw=10;function Kv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Wl(n){return n.h?1:n.g?n.g.size:0}function Zv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Yv(n,e){n.g?n.g.add(e):n.h=e}function Qv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ev(n.i)}Hw.prototype.cancel=function(){if(this.i=Gw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,qw=class{stringify(n){return Bt.JSON.stringify(n,void 0)}parse(n){return Bt.JSON.parse(n,void 0)}};function ES(){this.g=new qw}function Jv(n,e,t){const r=t||"";try{Hv(n,function(s,u){let l=s;yh(s)&&(l=tm(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ds(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ep(n){this.l=n.fc||null,this.j=n.ob||!1}function cm(n,e){Lr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ep.prototype.g=function(){return new cm(this.l,this.j)},Ep.prototype.i=(n={},function(){return n});var Ws=0;function Ks(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function zi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ah(n)}function Ah(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=cm.prototype).open=function(n,e){if(this.readyState!=Ws)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ah(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zi(this)),this.readyState=Ws},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ah(this)),this.g&&(this.readyState=3,Ah(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ks(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zi(this):Ah(this),3==this.readyState&&Ks(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,zi(this))},Qe.Ya=function(n){this.g&&(this.response=n,zi(this))},Qe.ka=function(){this.g&&zi(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var Kw=Bt.JSON.parse;function ar(n){Lr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zw,this.L=this.M=!1}var Zw="",YD=/^https?$/i,QD=["POST","PUT"];function xh(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Yw(n),lm(n)}function Yw(n){n.F||(n.F=!0,ui(n,"complete"),ui(n,"error"))}function e_(n){if(n.h&&typeof vv<"u"&&(!n.C[1]||4!=Lo(n)||2!=n.da()))if(n.v&&4==Lo(n))Ic(n.La,0,n);else if(ui(n,"readystatechange"),4==Lo(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(zv)[1]||null;!s&&Bt.self&&Bt.self.location&&(s=Bt.self.location.protocol.slice(0,-1)),r=!YD.test(s?s.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var u=2<Lo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",Yw(n)}}finally{lm(n)}}}function lm(n,e){if(n.g){Qw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function Qw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function Lo(n){return n.g?n.g.readyState:0}function t_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Zw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Jw(n){let e="";return bv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function hm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Jw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function Mh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function n_(n){this.Ga=0,this.j=[],this.l=new du,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mh("baseRetryDelayMs",5e3,n),this.hb=Mh("retryDelaySeedMs",1e4,n),this.eb=Mh("forwardChannelMaxRetries",2,n),this.xa=Mh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Hw(n&&n.concurrentRequestLimit),this.Ja=new ES,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Dp(n){if(r_(n),3==n.H){var e=n.W++,t=fa(n.I);if(Ln(t,"SID",n.K),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),Rh(n,t),(e=new Ch(n,n.l,e)).L=2,e.v=um(fa(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{t=Bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=sI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bh(e)}rI(n)}function Cp(n){n.g&&(u_(n),n.g.cancel(),n.g=null)}function r_(n){Cp(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),fm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function Tp(n){if(!Kv(n.i)&&!n.m){n.m=!0;var e=n.Na;cu||cp(),Er||(cu(),Er=!0),lu.add(e,n),n.C=0}}function i_(n,e){var t;t=e?e.m:n.W++;const r=fa(n.I);Ln(r,"SID",n.K),Ln(r,"RID",t),Ln(r,"AID",n.V),Rh(n,r),n.o&&n.s&&hm(r,n.o,n.s),t=new Ch(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=s_(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Yv(n.i,t),om(t,r,e)}function Rh(n,e){n.na&&bv(n.na,function(t,r){Ln(e,r,t)}),n.h&&Hv({},function(t,r){Ln(e,r,t)})}function s_(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Si(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let w=0;w<t;w++){let T=s[w].g;const S=s[w].map;if(T-=u,0>T)u=Math.max(0,s[w].g-100),g=!1;else try{Jv(S,l,"req"+T+"_")}catch{r&&r(S)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function o_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cu||cp(),Er||(cu(),Er=!0),lu.add(e,n),n.A=0}}function a_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hp(Si(n.Ma,n),nI(n,n.A)),n.A++,0))}function u_(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function eI(n){n.g=new Ch(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=fa(n.wa);Ln(e,"RID","rpc"),Ln(e,"SID",n.K),Ln(e,"AID",n.V),Ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ln(e,"TO",n.qa),Ln(e,"TYPE","xmlhttp"),Rh(n,e),n.o&&n.s&&hm(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=um(fa(e)),t.s=null,t.S=!0,Ow(t,n)}function fm(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function tI(n,e){var t=null;if(n.g==e){fm(n),u_(n),n.g=null;var r=2}else{if(!Zv(n.i,e))return;t=e.F,Qv(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;ui(r=lp(),new Pw(r,t)),Tp(n)}else o_(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function Xw(n,e){return!(Wl(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hp(Si(n.Na,n,e),nI(n,n.C)),n.C++,0)))}(n,e)||2==r&&a_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Kl(n,5);break;case 4:Kl(n,10);break;case 3:Kl(n,6);break;default:Kl(n,2)}}function nI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Kl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Si(n.pb,n);t||(t=new Cc("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||wp(t,"https"),um(t)),function Ww(n,e){const t=new du;if(Bt.Image){const r=new Image;r.onload=Wg(Ds,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Wg(Ds,t,r,"TestLoadImage: error",!1,e),r.onabort=Wg(Ds,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wg(Ds,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xi(2);n.H=0,n.h&&n.h.za(e),rI(n),r_(n)}function rI(n){if(n.H=0,n.ma=[],n.h){const e=Gw(n.i);(0!=e.length||0!=n.j.length)&&(Dv(n.ma,e),Dv(n.ma,n.j),n.i.i.length=0,Ev(n.j),n.j.length=0),n.h.ya()}}function iI(n,e,t){var r=t instanceof Cc?fa(t):new Cc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Gl(r,r.m);else{var s=Bt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new Cc(null);r&&wp(u,r),e&&(u.g=e),s&&Gl(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Ln(r,t,e),Ln(r,"VER",n.ra),Rh(n,r),r}function sI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ha&&!n.va?new Ep({ob:!0}):n.va)).Oa(n.J),e}function pm(){if(uu&&!(10<=Number(ap)))throw Error("Environmental error: no available transport.")}function Cs(n,e){Lr.call(this),this.g=new n_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!rp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ph(this)}function aI(n){Bv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uI(){gp.call(this),this.status=1}function Ph(n){this.g=n}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gm(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function yn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Qe=ar.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mp.g(),this.C=function fp(n){return n.h||(n.h=n.i())}(this.u?this.u:mp),this.g.onreadystatechange=Si(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void xh(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Bt.FormData&&n instanceof Bt.FormData,!(0<=mw(QD,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Qw(this),0<this.B&&((this.L=function Xv(n){return uu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.ua,this)):this.A=Ic(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){xh(this,u)}},Qe.ua=function(){typeof vv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),lm(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lm(this,!0)),ar.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?e_(this):this.kb())},Qe.kb=function(){e_(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<Lo(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kw(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=n_.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Ch(this,this.l,n);let u=this.s;if(this.U&&(u?(u=_w(u),Iw(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=s_(this,s,e),Ln(t=fa(this.I),"RID",n),Ln(t,"CVER",22),this.F&&Ln(t,"X-HTTP-Session-Id",this.F),Rh(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Jw(u)))+"&"+e:this.o&&hm(t,this.o,u)),Yv(this.i,s),this.bb&&Ln(t,"TYPE","init"),this.P?(Ln(t,"$req",e),Ln(t,"SID","null"),s.aa=!0,om(s,t,null)):om(s,t,e),this.H=2}}else 3==this.H&&(n?i_(this,n):0==this.j.length||Kv(this.i)||i_(this))},Qe.Ma=function(){if(this.u=null,eI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=hp(Si(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xi(10),Cp(this),eI(this))},Qe.ib=function(){null!=this.v&&(this.v=null,Cp(this),a_(this),xi(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),xi(2)):(this.l.info("Failed to ping google.com"),xi(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=function oI(){}.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},pm.prototype.g=function(n,e){return new Cs(n,e)},Cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;xi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=iI(n,null,n.Y),Tp(n)},Cs.prototype.close=function(){Dp(this.g)},Cs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=tm(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Tp(e)},Cs.prototype.N=function(){this.g.h=null,delete this.j,Dp(this.g),delete this.g,Cs.$.N.call(this)},Ph.prototype.Ba=function(){ui(this.g,"a")},Ph.prototype.Aa=function(n){ui(this.g,new aI(n))},Ph.prototype.za=function(n){ui(this.g,new uI)},Ph.prototype.ya=function(){ui(this.g,"b")},Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)gm(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){gm(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){gm(this,r),s=0;break}}this.h=s,this.i+=e},Fo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var cI={};function mm(n){return-128<=n&&128>n?function Kg(n,e){var t=cI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new yn([0|e],0>e?-1:0)}):new yn([0|n],0>n?-1:0)}function Uo(n){if(isNaN(n)||!isFinite(n))return Zl;if(0>n)return ci(Uo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ym;return new yn(e,0)}var ym=4294967296,Zl=mm(0),vm=mm(1),l_=mm(16777216);function pa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Kr(n){return-1==n.h}function ci(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new yn(t,~n.h).add(vm)}function _m(n,e){return n.add(ci(e))}function pu(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function wm(n,e){this.g=n,this.h=e}function Nh(n,e){if(pa(e))throw Error("division by zero");if(pa(n))return new wm(Zl,Zl);if(Kr(n))return e=Nh(ci(n),e),new wm(ci(e.g),ci(e.h));if(Kr(e))return e=Nh(n,ci(e)),new wm(ci(e.g),e.h);if(30<n.g.length){if(Kr(n)||Kr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=vm,r=e;0>=r.X(n);)t=XD(t),r=XD(r);var s=Yl(t,1),u=Yl(r,1);for(r=Yl(r,2),t=Yl(t,2);!pa(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=Yl(r,1),t=Yl(t,1)}return e=_m(n,s.R(e)),new wm(s,e)}for(s=Zl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Uo(t)).R(e);Kr(l)||0<l.X(n);)l=(u=Uo(t-=r)).R(e);pa(u)&&(u=vm),s=s.add(u),n=_m(n,l)}return new wm(s,n)}function XD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new yn(t,n.h)}function Yl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new yn(s,n.h)}(Qe=yn.prototype).ea=function(){if(Kr(this))return-ci(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ym+r)*e,e*=ym}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(pa(this))return"0";if(Kr(this))return"-"+ci(this).toString(n);for(var e=Uo(Math.pow(n,6)),t=this,r="";;){var s=Nh(t,e).g,u=((0<(t=_m(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(pa(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return Kr(n=_m(this,n))?-1:pa(n)?0:1},Qe.abs=function(){return Kr(this)?ci(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new yn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(pa(this)||pa(n))return Zl;if(Kr(this))return Kr(n)?ci(this).R(ci(n)):ci(ci(this).R(n));if(Kr(n))return ci(this.R(ci(n)));if(0>this.X(l_)&&0>n.X(l_))return Uo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(s)>>>16,w=65535&n.D(s);t[2*r+2*s]+=l*w,pu(t,2*r+2*s),t[2*r+2*s+1]+=u*w,pu(t,2*r+2*s+1),t[2*r+2*s+1]+=l*g,pu(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,pu(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new yn(t,0)},Qe.gb=function(n){return Nh(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new yn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new yn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new yn(t,this.h^n.h)},pm.prototype.createWebChannel=pm.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,rm.COMPLETE="complete",pp.EventType=zl,zl.OPEN="a",zl.CLOSE="b",zl.ERROR="c",zl.MESSAGE="d",Lr.prototype.listen=Lr.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,yn.prototype.add=yn.prototype.add,yn.prototype.multiply=yn.prototype.R,yn.prototype.modulo=yn.prototype.gb,yn.prototype.compare=yn.prototype.X,yn.prototype.toNumber=yn.prototype.ea,yn.prototype.toString=yn.prototype.toString,yn.prototype.getBits=yn.prototype.D,yn.fromNumber=Uo,yn.fromString=function c_(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ci(c_(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Uo(Math.pow(e,8)),r=Zl,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=Uo(Math.pow(e,u)),r=r.R(u).add(Uo(l))):r=(r=r.R(t)).add(Uo(l))}return r};var lI=Es.createWebChannelTransport=function(){return new pm},DS=Es.getStatEventTarget=function(){return lp()},Ct=Es.ErrorCode=Dh,eC=Es.EventType=rm,tC=Es.Event=Ec,dI=Es.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oh=Es.FetchXmlHttpFactory=Ep,Im=Es.WebChannel=pp,Em=Es.XhrIo=ar,Dm=Es.Md5=Fo,Sn=Es.Integer=yn;class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Ql="9.23.0";const Tc=new vc.Yd("@firebase/firestore");function Cm(){return Tc.logLevel}function ke(n,...e){if(Tc.logLevel<=vc.in.DEBUG){const t=e.map(d_);Tc.debug(`Firestore (${Ql}): ${n}`,...t)}}function ur(n,...e){if(Tc.logLevel<=vc.in.ERROR){const t=e.map(d_);Tc.error(`Firestore (${Ql}): ${n}`,...t)}}function Zs(n,...e){if(Tc.logLevel<=vc.in.WARN){const t=e.map(d_);Tc.warn(`Firestore (${Ql}): ${n}`,...t)}}function d_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function dt(n,e){n||rt()}function Ze(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class Sp{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class sC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Sp(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function gI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class f_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=gI(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function Jl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Hn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Hn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Hn(0,0))}static max(){return new yt(new Hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tm{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Tm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends Tm{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new on(t)}static emptyPath(){return new on([])}}const CS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Tm{construct(e,t,r){return new Qn(e,t,r)}static isValidIdentifier(e){return CS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Ce(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Ce(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ce(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new Ce(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(on.fromString(e))}static fromName(e){return new Ke(on.fromString(e).popFirst(5))}static empty(){return new Ke(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new on(e.slice()))}}function cC(n){return new Ts(n.readTime,n.key,-1)}class Ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ts(yt.min(),Ke.empty(),-1)}static max(){return new Ts(yt.max(),Ke.empty(),-1)}}function Am(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ys(n){return g_.apply(this,arguments)}function g_(){return g_=(0,me.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==vI)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),g_.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},w=>r(w))}),l=!0,u===s&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(s=>s?ee.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let w=0;w<u;w++){const T=w;t(e[T]).next(S=>{l[T]=S,++g,g===u&&r(l)},S=>s(S))}})}static doWhile(e,t){return new ee((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function Sc(n){return"IndexedDbTransactionError"===n.name}let bs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ed(n){return null==n}function Mp(n){return 0===n&&1/n==-1/0}function D_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ma(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class En{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new En(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}}class Nm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Zr.RED,this.left=s??Zr.EMPTY,this.right=u??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Zr(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Zr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C_(this.data.getIterator())}getIteratorFrom(e){return new C_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new An(this.comparator);return t.data=e,t}}class C_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gi{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Gi([])}unionWith(e){let t=new An(Qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class T_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new T_("Invalid base64 string: "+s):s}}(e);return new Ur(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const CC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if(dt(!!n),"string"==typeof n){let e=0;const t=CC.exec(n);if(dt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xc(n){return"string"==typeof n?Ur.fromBase64String(n):Ur.fromUint8Array(n)}function Rp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Om(n){const e=n.mapValue.fields.__previous_value__;return Rp(e)?Om(e):e}function Pp(n){const e=Ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}class TS{constructor(e,t,r,s,u,l,g,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=w,this.useFetchStreams=T}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rp(n)?4:RI(n)?9007199254740991:10:rt()}function ya(n,e){if(n===e)return!0;const t=Pc(n);if(t!==Pc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pp(n).isEqual(Pp(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Ac(r.timestampValue),l=Ac(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,xc(n.bytesValue).isEqual(xc(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Jn(r.geoPointValue.latitude)===Jn(s.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Jn(r.integerValue)===Jn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Jn(r.doubleValue),l=Jn(s.doubleValue);return u===l?Mp(u)===Mp(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(D_(u)!==D_(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!ya(u[g],l[g])))return!1;return!0}(n,e);default:return rt()}var s}function Np(n,e){return void 0!==(n.values||[]).find(t=>ya(t,e))}function Nc(n,e){if(n===e)return 0;const t=Pc(n),r=Pc(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Jn(s.integerValue||s.doubleValue),g=Jn(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return MI(n.timestampValue,e.timestampValue);case 4:return MI(Pp(n),Pp(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(s,u){const l=xc(s),g=xc(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let w=0;w<l.length&&w<g.length;w++){const T=Ut(l[w],g[w]);if(0!==T)return T}return Ut(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ut(Jn(s.latitude),Jn(u.latitude));return 0!==l?l:Ut(Jn(s.longitude),Jn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let w=0;w<l.length&&w<g.length;++w){const T=Nc(l[w],g[w]);if(T)return T}return Ut(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Rc.mapValue&&u===Rc.mapValue)return 0;if(s===Rc.mapValue)return 1;if(u===Rc.mapValue)return-1;const l=s.fields||{},g=Object.keys(l),w=u.fields||{},T=Object.keys(w);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const P=Ut(g[S],T[S]);if(0!==P)return P;const H=Nc(l[g[S]],w[T[S]]);if(0!==H)return H}return Ut(g.length,T.length)}(n.mapValue,e.mapValue);default:throw rt()}}function MI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=Ac(n),r=Ac(e),s=Ut(t.seconds,r.seconds);return 0!==s?s:Ut(t.nanos,r.nanos)}function Lh(n){return b_(n)}function b_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Ac(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xc(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=b_(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${b_(r.fields[g])}`;return u+"}"}(n.mapValue):rt();var e}function rd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function id(n){return!!n&&"integerValue"in n}function Fh(n){return!!n&&"arrayValue"in n}function S_(n){return!!n&&"nullValue"in n}function A_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Op(n){return!!n&&"mapValue"in n}function Uh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ma(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Uh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uh(t)}setAll(e){let t=Qn.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=Uh(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Op(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ma(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new di(Uh(this.value))}}function OI(n){const e=[];return ma(n.fields,(t,r)=>{const s=new Qn([t]);if(Op(r)){const u=OI(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Gi(e)}class Fn{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new Fn(e,0,yt.min(),yt.min(),yt.min(),di.empty(),0)}static newFoundDocument(e,t,r,s){return new Fn(e,1,t,yt.min(),r,s,0)}static newNoDocument(e,t){return new Fn(e,2,t,yt.min(),yt.min(),di.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,yt.min(),yt.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Js{constructor(e,t){this.position=e,this.inclusive=t}}function kI(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(l.referenceValue),t.key):Nc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Fm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ya(n.position[t],e.position[t]))return!1;return!0}class qi{constructor(e,t="asc"){this.field=e,this.dir=t}}function bC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Um{}class Wt extends Um{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new N_(e,t,r):"array-contains"===t?new UI(e,r):"in"===t?new Bm(e,r):"not-in"===t?new k_(e,r):"array-contains-any"===t?new SC(e,r):new Wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new FI(e,r):new O_(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nc(t,this.value)):null!==t&&Pc(this.value)===Pc(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends Um{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vn(e,t)}matches(e){return Vh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vh(n){return"and"===n.op}function Bh(n){return function kp(n){for(const e of n.filters)if(e instanceof vn)return!1;return!0}(n)&&Vh(n)}function M_(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+Lh(n.value);if(Bh(n))return n.filters.map(e=>M_(e)).join(",");{const e=n.filters.map(t=>M_(t)).join(",");return`${n.op}(${e})`}}function LI(n,e){return n instanceof Wt?(t=n,(r=e)instanceof Wt&&t.op===r.op&&t.field.isEqual(r.field)&&ya(t.value,r.value)):n instanceof vn?function(t,r){return r instanceof vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&LI(u,r.filters[l]),!0)}(n,e):void rt();var t,r}function P_(n){return n instanceof Wt?`${(e=n).field.canonicalString()} ${e.op} ${Lh(e.value)}`:n instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(P_).join(" ,")+"}"}(n):"Filter";var e}class N_ extends Wt{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class FI extends Wt{constructor(e,t){super(e,"in",t),this.keys=Vm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class O_ extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=Vm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class UI extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fh(t)&&Np(t.arrayValue,this.value)}}class Bm extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Np(this.value.arrayValue,t)}}class k_ extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Np(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Np(this.value.arrayValue,t)}}class SC extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Np(this.value.arrayValue,r))}}class AC{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function L_(n,e=null,t=[],r=[],s=null,u=null,l=null){return new AC(n,e,t,r,s,u,l)}function sd(n){const e=Ze(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>M_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),ed(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Lh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Lh(r)).join(",")),e.dt=t}return e.dt}function jh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fm(n.startAt,e.startAt)&&Fm(n.endAt,e.endAt)}function $h(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class va{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=w,this.wt=null,this._t=null}}function od(n){return new va(n)}function V_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function B_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Fp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function j_(n){return null!==n.collectionGroup}function vr(n){const e=Ze(n);if(null===e.wt){e.wt=[];const t=Fp(e),r=B_(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new qi(t)),e.wt.push(new qi(Qn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qi(Qn.keyField(),u))}}}return e.wt}function Tr(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=L_(e.path,e.collectionGroup,vr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of vr(e))t.push(new qi(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Js(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Js(e.startAt.position,e.startAt.inclusive):null;e._t=L_(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function $_(n,e){e.getFirstInequalityField(),Fp(n);const t=n.filters.concat([e]);return new va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jm(n,e,t){return new va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $m(n,e){return jh(Tr(n),Tr(e))&&n.limitType===e.limitType}function xC(n){return`${sd(Tr(n))}|lt:${n.limitType}`}function Hm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>P_(r)).join(", ")}]`),ed(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Lh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Lh(r)).join(",")),`Target(${t})`}(Tr(n))}; limitType=${n.limitType})`}function ad(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ke.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of vr(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=kI(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,vr(t),r)||t.endAt&&!function(s,u,l){const g=kI(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,vr(t),r)));var t,r}function BI(n){return(e,t)=>{let r=!1;for(const s of vr(n)){const u=H_(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function H_(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),w=l.data.field(s);return null!==g&&null!==w?Nc(g,w):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}const jI=new En(Ke.comparator);function is(){return jI}const $I=new En(Ke.comparator);function Up(...n){let e=$I;for(const t of n)e=e.insert(t.key,t);return e}function zm(n){let e=$I;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vo(){return Oc()}function z_(){return Oc()}function Oc(){return new gu(n=>n.toString(),(n,e)=>n.isEqual(e))}const G_=new En(Ke.comparator),SS=new An(Ke.comparator);function Ht(...n){let e=SS;for(const t of n)e=e.add(t);return e}const MC=new An(Ut);function ud(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(e)?"-0":e}}function HI(n){return{integerValue:""+n}}function q_(n,e){return function v_(n){return"number"==typeof n&&Number.isInteger(n)&&!Mp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?HI(e):ud(n,e)}class zh{constructor(){this._=void 0}}function AS(n,e,t){return n instanceof Gh?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Rp(s)&&(s=Om(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof cd?zI(n,e):n instanceof kc?W_(n,e):function(r,s){const u=PC(r,s),l=K_(u)+K_(r.gt);return id(u)&&id(r.gt)?HI(l):ud(r.serializer,l)}(n,e)}function RC(n,e,t){return n instanceof cd?zI(n,e):n instanceof kc?W_(n,e):t}function PC(n,e){return n instanceof qh?id(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Gh extends zh{}class cd extends zh{constructor(e){super(),this.elements=e}}function zI(n,e){const t=Z_(e);for(const r of n.elements)t.some(s=>ya(s,r))||t.push(r);return{arrayValue:{values:t}}}class kc extends zh{constructor(e){super(),this.elements=e}}function W_(n,e){let t=Z_(e);for(const r of n.elements)t=t.filter(s=>!ya(s,r));return{arrayValue:{values:t}}}class qh extends zh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function K_(n){return Jn(n.integerValue||n.doubleValue)}function Z_(n){return Fh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class GI{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jp{}function Y_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Hp(n.key,zn.none()):new ld(n.key,n.data,zn.none());{const t=n.data,r=di.empty();let s=new An(Qn.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new Lc(n.key,r,new Gi(s.toArray()),zn.none())}}function qI(n,e,t){n instanceof ld?function(r,s,u){const l=r.value.clone(),g=FC(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Lc?function(r,s,u){if(!Bp(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=FC(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(LC(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $p(n,e,t,r){return n instanceof ld?function(s,u,l,g){if(!Bp(s.precondition,u))return l;const w=s.value.clone(),T=UC(s.fieldTransforms,g,u);return w.setAll(T),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lc?function(s,u,l,g){if(!Bp(s.precondition,u))return l;const w=UC(s.fieldTransforms,g,u),T=u.data;return T.setAll(LC(s)),T.setAll(w),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,Bp(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function OC(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=PC(r.transform,s||null);null!=u&&(null===t&&(t=di.empty()),t.set(r.field,u))}return t||null}function kC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Jl(t,r,(s,u)=>function NC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cd&&r instanceof cd||t instanceof kc&&r instanceof kc?Jl(t.elements,r.elements,ya):t instanceof qh&&r instanceof qh?ya(t.gt,r.gt):t instanceof Gh&&r instanceof Gh);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ld extends jp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lc extends jp{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function LC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FC(n,e,t){const r=new Map;dt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,RC(l,g,t[s]))}return r}function UC(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,AS(u,l,e))}return r}class Hp extends jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WI extends jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&qI(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$p(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$p(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=z_();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const w=Y_(l,g);null!==w&&r.set(s.key,w),l.isValidDocument()||l.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(t,r)=>kC(t,r))&&Jl(this.baseMutations,e.baseMutations,(t,r)=>kC(t,r))}}class ZI{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){dt(e.mutations.length===r.length);let s=G_;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new ZI(e,t,r,s)}}class Wh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class YI{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xn,nn;function VC(n){if(void 0===n)return ur("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Xn.OK:return ue.OK;case Xn.CANCELLED:return ue.CANCELLED;case Xn.UNKNOWN:return ue.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return ue.INTERNAL;case Xn.UNAVAILABLE:return ue.UNAVAILABLE;case Xn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Xn.NOT_FOUND:return ue.NOT_FOUND;case Xn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Xn.ABORTED:return ue.ABORTED;case Xn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Xn.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(nn=Xn||(Xn={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";class zp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gp}static getOrCreateInstance(){return null===Gp&&(Gp=new zp),Gp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Gp=null;const MS=new Sn([4294967295,4294967295],0);function BC(n){const e=function QI(){return new TextEncoder}().encode(n),t=new Dm;return t.update(e),new Uint8Array(t.digest())}function JI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Sn([t,r],0),new Sn([s,u],0)]}class J_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fc(`Invalid padding: ${t}`);if(r<0)throw new Fc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Fc(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Fc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Sn.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Sn.fromNumber(r)));return 1===s.compare(MS)&&(s=new Sn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=BC(e),[r,s]=JI(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new J_(u,s,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=BC(e),[r,s]=JI(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qp{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,qm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new qp(yt.min(),s,new En(Ut),is(),Ht())}}class qm{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qm(r,t,Ht(),Ht(),Ht())}}class X_{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class jC{constructor(e,t){this.targetId=e,this.Vt=t}}class XI{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class eE{constructor(){this.St=0,this.Dt=tE(),this.Ct=Ur.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ht(),t=Ht(),r=Ht();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new qm(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=tE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $C{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=is(),this.zt=HC(),this.Wt=new En(Ut)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if($h(l))if(0===s){const g=new Ke(l.path);this.Yt(r,g,Fn.newNoDocument(g,yt.min()))}else dt(1===s);else{const g=this.ie(r);if(g!==s){const w=this.re(e,g);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=zp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(T,S,P){var H,Z,_e,Ue,Fe,It;const St={localCacheCount:S,existenceFilterCount:P.count},_t=P.unchangedNames;return _t&&(St.bloomFilter={applied:0===T,hashCount:null!==(H=_t?.hashCount)&&void 0!==H?H:0,bitmapLength:null!==(Ue=null===(_e=null===(Z=_t?.bits)||void 0===Z?void 0:Z.bitmap)||void 0===_e?void 0:_e.length)&&void 0!==Ue?Ue:0,padding:null!==(It=null===(Fe=_t?.bits)||void 0===Fe?void 0:Fe.padding)&&void 0!==It?It:0}),St}(w,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let w,T;try{w=xc(u).toUint8Array()}catch(S){if(S instanceof T_)return Zs("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{T=new J_(w,l,g)}catch(S){return Zs(S instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===T.It?1:s!==t-this.oe(e.targetId,T)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&$h(g.target)){const w=new Ke(g.target.path);null!==this.jt.get(w)||this.ae(l,w)||this.Yt(l,w,Fn.newNoDocument(w,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Ht();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(w=>{const T=this.se(w);return!T||"TargetPurposeLimboResolution"===T.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new qp(e,t,this.Wt,this.jt,r);return this.jt=is(),this.zt=HC(),this.Wt=new En(Ut),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new eE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new An(Ut),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eE),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function HC(){return new En(Ke.comparator)}function tE(){return new En(Ke.comparator)}const nE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RS=(()=>({and:"AND",or:"OR"}))();class Bo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function e0(n,e){return n.useProto3Json||ed(e)?e:{value:e}}function Uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PS(n,e){return Uc(n,e.toTimestamp())}function dn(n){return dt(!!n),yt.fromTimestamp(function(e){const t=Ac(e);return new Hn(t.seconds,t.nanos)}(n))}function t0(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Wm(n){const e=on.fromString(n);return dt(a0(e)),e}function Wp(n,e){return t0(n.databaseId,e.path)}function _a(n,e){const t=Wm(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(sE(t))}function Kp(n,e){return t0(n.databaseId,e)}function Kh(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sE(n){return dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function r0(n,e,t){return{name:Wp(n,e),fields:t.value.mapValue.fields}}function yu(n,e){return{documents:[Kp(n,e.path)]}}function Km(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Kp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Kp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return o0(vn.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(T=>{return{field:Vc((S=T).field),direction:NS(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=e0(n,e.limit);var g,w;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function Zm(n){let e=function n0(n){const e=Wm(n);return 4===e.length?on.emptyPath():sE(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){dt(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const P=uE(S);return P instanceof vn&&Bh(P)?P.getFilters():[P]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new qi(Zh((P=S).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let g=null;t.limit&&(g=function(S){let P;return P="object"==typeof S?S.value:S,ed(P)?null:P}(t.limit));let w=null;var S;t.startAt&&(w=new Js((S=t.startAt).values||[],!!S.before));let T=null;return t.endAt&&(T=function(S){return new Js(S.values||[],!S.before)}(t.endAt)),function VI(n,e,t,r,s,u,l,g){return new va(n,e,t,r,s,u,l,g)}(e,s,l,u,g,"F",w,T)}function uE(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zh(e.unaryFilter.field);return Wt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Zh(e.unaryFilter.field);return Wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zh(e.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zh(e.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?Wt.create(Zh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>uE(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function NS(n){return nE[n]}function GC(n){return rE[n]}function qC(n){return RS[n]}function Vc(n){return{fieldPath:n.canonicalString()}}function Zh(n){return Qn.fromServerFormat(n.fieldPath)}function o0(n){return n instanceof Wt?function(e){if("=="===e.op){if(A_(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NAN"}};if(S_(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(A_(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NAN"}};if(S_(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(e.field),op:GC(e.op),value:e.value}}}(n):n instanceof vn?function(e){const t=e.getFilters().map(r=>o0(r));return 1===t.length?t[0]:{compositeFilter:{op:qC(e.op),filters:t}}}(n):rt()}function OS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function a0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class vu{constructor(e,t,r,s,u=yt.min(),l=yt.min(),g=Ur.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=w}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u0{constructor(e){this.fe=e}}function Qh(n){const e=Zm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jm(e,e.limit,"L"):e}class dd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Mp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?RI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Ke.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}dd.Ve=new dd;class BS{constructor(){this.rn=new hE}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ts.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class hE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new An(on.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new An(on.comparator)).toArray()}}class hi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hi(e,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hi.DEFAULT_COLLECTION_PERCENTILE=10,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hi.DEFAULT=new hi(41943040,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hi.DISABLED=new hi(-1,0,0);class _u{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _u(0)}static Mn(){return new _u(-1)}}class mE{constructor(){this.changes=new gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class a{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class c{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&$p(r.mutation,s,Gi.empty(),Hn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const s=Vo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=Up();return u.forEach((g,w)=>{l=l.insert(g,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Vo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=is();const l=Oc(),g=Oc();return t.forEach((w,T)=>{const S=r.get(T.key);s.has(T.key)&&(void 0===S||S.mutation instanceof Lc)?u=u.insert(T.key,T):void 0!==S?(l.set(T.key,S.mutation.getFieldMask()),$p(S.mutation,T,S.mutation.getFieldMask(),Hn.now())):l.set(T.key,Gi.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((T,S)=>l.set(T,S)),t.forEach((T,S)=>{var P;return g.set(T,new a(S,null!==(P=l.get(T))&&void 0!==P?P:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Oc();let s=new En((l,g)=>l-g),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(w=>{const T=t.get(w);if(null===T)return;let S=r.get(w)||Gi.empty();S=g.applyToLocalView(T,S),r.set(w,S);const P=(s.get(g.batchId)||Ht()).add(w);s=s.insert(g.batchId,P)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const w=g.getNext(),T=w.key,S=w.value,P=z_();S.forEach(H=>{if(!u.has(H)){const Z=Y_(t.get(H),r.get(H));null!==Z&&P.set(H,Z),u=u.add(H)}}),l.push(this.documentOverlayCache.saveOverlays(e,T,P))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):j_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ee.resolve(Vo());let g=-1,w=u;return l.next(T=>ee.forEach(T,(S,P)=>(g<P.largestBatchId&&(g=P.largestBatchId),u.get(S)?ee.resolve():this.remoteDocumentCache.getEntry(e,S).next(H=>{w=w.insert(S,H)}))).next(()=>this.populateOverlays(e,T,u)).next(()=>this.computeViews(e,w,T,Ht())).next(S=>({batchId:g,changes:zm(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let s=Up();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Up();return this.indexManager.getCollectionParents(e,s).next(l=>ee.forEach(l,g=>{const w=(T=t,S=g.child(s),new va(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(T=>{T.forEach((S,P)=>{u=u.insert(S,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,w)=>{const T=w.getKey();null===u.get(T)&&(u=u.insert(T,Fn.newInvalidDocument(T)))});let l=Up();return u.forEach((g,w)=>{const T=s.get(g);void 0!==T&&$p(T.mutation,w,Gi.empty(),Hn.now()),ad(t,w)&&(l=l.insert(g,w))}),l})}}class d{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:dn(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Qh(r.bundledQuery),readTime:dn(r.readTime)}),ee.resolve();var r}}class p{constructor(){this.overlays=new En(Ke.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vo();return ee.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const s=Vo(),u=t.length+1,l=new Ke(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const w=g.getNext().value,T=w.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new En((T,S)=>T-S);const l=this.overlays.getIterator();for(;l.hasNext();){const T=l.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let S=u.get(T.largestBatchId);null===S&&(S=Vo(),u=u.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const g=Vo(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((T,S)=>g.set(T,S)),!(g.size()>=s)););return ee.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Wh(t,r));let u=this.ls.get(t);void 0===u&&(u=Ht(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class v{constructor(){this.fs=new An(E.ds),this.ws=new An(E._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new E(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new E(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ke(new on([])),r=new E(t,e),s=new E(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ke(new on([])),r=new E(t,e),s=new E(t,e+1);let u=Ht();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new E(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class E{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ke.comparator(e.key,t.key)||Ut(e.As,t.As)}static _s(e,t){return Ut(e.As,t.As)||Ke.comparator(e.key,t.key)}}class C{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new An(E.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new KI(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.Rs=this.Rs.add(new E(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new E(t,0),s=new E(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const g=this.Ps(l.As);u.push(g)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Ut);return t.forEach(s=>{const u=new E(s,0),l=new E(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const l=new E(new Ke(u),0);let g=new An(Ut);return this.Rs.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===s&&(g=g.add(w.As)),!0)},l),ee.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){dt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,s=>{const u=new E(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new E(t,0),s=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x{constructor(e){this.Ds=e,this.docs=new En(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=is();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Fn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=is();const l=t.path,g=new Ke(l.child("")),w=this.docs.getIteratorFrom(g);for(;w.hasNext();){const{key:T,value:{document:S}}=w.getNext();if(!l.isPrefixOf(T.path))break;T.path.length>l.length+1||Am(cC(S),r)<=0||(s.has(S.key)||ad(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,s){rt()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new R(this)}getSize(e){return ee.resolve(this.size)}}class R extends mE{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class L{constructor(e){this.persistence=e,this.xs=new gu(t=>sd(t),jh),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new v,this.targetCount=0,this.Ms=_u.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),ee.waitFor(u).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class z{constructor(e,t){this.$s={},this.overlays={},this.Os=new bs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new L(this),this.indexManager=new BS,this.remoteDocumentCache=new x(r=>this.referenceDelegate.Ls(r)),this.serializer=new u0(t),this.qs=new d(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new C(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const s=new J(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class J extends _I{constructor(e){super(),this.currentSequenceNumber=e}}class ve{constructor(e){this.persistence=e,this.Qs=new v,this.js=null}static zs(e){return new ve(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const s=Ke.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yE{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Ht(),s=Ht();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new yE(e,t.fromCache,r,s)}}class qS{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(V_(t))return ee.resolve(null);let r=Tr(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=jm(t,null,"F"),r=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Ht(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(w=>{const T=this.ji(t,g);return this.zi(t,T,l,w.readTime)?this.Ki(e,jm(t,null,"F")):this.Wi(e,T,t,w)}))})))}Gi(e,t,r,s){return V_(t)||s.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(Cm()<=vc.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hm(t)),this.Wi(e,l,t,function yI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=yt.fromTimestamp(1e9===r?new Hn(t+1,0):new Hn(t,r));return new Ts(s,Ke.empty(),e)}(s,-1)))})}ji(e,t){let r=new An(BI(e));return t.forEach((s,u)=>{ad(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return Cm()<=vc.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Hm(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ts.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class sM{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new En(Ut),this.Yi=new gu(u=>sd(u),jh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function KS(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,me.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let w=Ht();for(const T of s){l.push(T.batchId);for(const S of T.mutations)w=w.add(S.key)}for(const T of u){g.push(T.batchId);for(const S of T.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(T=>({er:T,removedBatchIds:l,addedBatchIds:g}))})})}),iT.apply(this,arguments)}function ZS(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function uM(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ay(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=(0,me.Z)(function*(n,e,t){const r=Ze(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Sc(l))throw l;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),sT.apply(this,arguments)}function vE(n,e,t){const r=Ze(n);let s=yt.min(),u=Ht();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,w,T){const S=Ze(g),P=S.Yi.get(T);return void 0!==P?ee.resolve(S.Ji.get(P)):S.Bs.getTargetData(w,T)}(r,l,Tr(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:yt.min(),t?u:Ht())).next(g=>(function XS(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function Hh(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class lT{constructor(){this.activeTargetIds=function Gm(){return MC}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nA{constructor(){this.Hr=new lT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new lT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dM{Yr(e){}shutdown(){}}class rA{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let IE=null;function hT(){return null===IE?IE=268435456+Math.round(2147483648*Math.random()):IE++,"0x"+IE.toString(16)}const hM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ss="WebChannelConnection";class pM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=hT(),g=this.To(e,t);ke("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const w={};return this.Eo(w,s,u),this.Ao(e,g,w,r).then(T=>(ke("RestConnection",`Received RPC '${e}' ${l}: `,T),T),T=>{throw Zs("RestConnection",`RPC '${e}' ${l} failed with error: `,T,"url: ",g,"request:",r),T})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ql,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${hM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=hT();return new Promise((l,g)=>{const w=new Em;w.setWithCredentials(!0),w.listenOnce(eC.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case Ct.NO_ERROR:const S=w.getResponseJson();ke(ss,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case Ct.TIMEOUT:ke(ss,`RPC '${e}' ${u} timed out`),g(new Ce(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Ct.HTTP_ERROR:const P=w.getStatus();if(ke(ss,`RPC '${e}' ${u} failed with status:`,P,"response text:",w.getResponseText()),P>0){let H=w.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const _e=function(Ue){const Fe=Ue.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Fe)>=0?Fe:ue.UNKNOWN}(Z.status);g(new Ce(_e,Z.message))}else g(new Ce(ue.UNKNOWN,"Server responded with status "+w.getStatus()))}else g(new Ce(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{ke(ss,`RPC '${e}' ${u} completed.`)}});const T=JSON.stringify(s);ke(ss,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",T,r,15)})}Ro(e,t,r){const s=hT(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lI(),g=DS(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;void 0!==T&&(w.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(w.xmlHttpFactory=new Oh({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const S=u.join("");ke(ss,`Creating RPC '${e}' stream ${s}: ${S}`,w);const P=l.createWebChannel(S,w);let H=!1,Z=!1;const _e=new fM({ro:Fe=>{Z?ke(ss,`Not sending because RPC '${e}' stream ${s} is closed:`,Fe):(H||(ke(ss,`Opening RPC '${e}' stream ${s} transport.`),P.open(),H=!0),ke(ss,`RPC '${e}' stream ${s} sending:`,Fe),P.send(Fe))},oo:()=>P.close()}),Ue=(Fe,It,St)=>{Fe.listen(It,_t=>{try{St(_t)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Ue(P,Im.EventType.OPEN,()=>{Z||ke(ss,`RPC '${e}' stream ${s} transport opened.`)}),Ue(P,Im.EventType.CLOSE,()=>{Z||(Z=!0,ke(ss,`RPC '${e}' stream ${s} transport closed`),_e.wo())}),Ue(P,Im.EventType.ERROR,Fe=>{Z||(Z=!0,Zs(ss,`RPC '${e}' stream ${s} transport errored:`,Fe),_e.wo(new Ce(ue.UNAVAILABLE,"The operation could not be completed")))}),Ue(P,Im.EventType.MESSAGE,Fe=>{var It;if(!Z){const St=Fe.data[0];dt(!!St);const Ot=St.error||(null===(It=St[0])||void 0===It?void 0:It.error);if(Ot){ke(ss,`RPC '${e}' stream ${s} received error:`,Ot);const Gt=Ot.status;let an=function(fg){const iM=Xn[fg];if(void 0!==iM)return VC(iM)}(Gt),os=Ot.message;void 0===an&&(an=ue.INTERNAL,os="Unknown error status: "+Gt+" with message "+Ot.message),Z=!0,_e.wo(new Ce(an,os)),P.close()}else ke(ss,`RPC '${e}' stream ${s} received:`,St),_e._o(St)}}),Ue(g,tC.STAT_EVENT,Fe=>{Fe.stat===dI.PROXY?ke(ss,`RPC '${e}' stream ${s} detected buffering proxy`):Fe.stat===dI.NOPROXY&&ke(ss,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_e.fo()},0),_e}}function EE(){return typeof document<"u"?document:null}function _0(n){return new Bo(n,!0)}class fT{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class sA{constructor(e,t,r,s,u,l,g,w){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new fT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Ce(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,me.Z)(function*(){e.state=0,e.start()}))}tu(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gM extends sA{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function oE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:rt(),s=e.targetChange.targetIds||[],u=function(w,T){return w.useProto3Json?(dt(void 0===T||"string"==typeof T),Ur.fromBase64String(T||"")):(dt(void 0===T||T instanceof Uint8Array),Ur.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(w){const T=void 0===w.code?ue.UNKNOWN:VC(w.code);return new Ce(T,w.message||"")}(l);t=new XI(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=_a(n,r.document.name),u=dn(r.document.updateTime),l=r.document.createTime?dn(r.document.createTime):yt.min(),g=new di({mapValue:{fields:r.document.fields}}),w=Fn.newFoundDocument(s,u,l,g);t=new X_(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=_a(n,r.document),u=r.readTime?dn(r.readTime):yt.min(),l=Fn.newNoDocument(s,u);t=new X_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=_a(n,r.document);t=new X_([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new YI(s,u);t=new jC(r.targetId,l)}}var w;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return yt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?dn(u.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Kh(this.serializer),t.addTarget=function(s,u){let l;const g=u.target;if(l=$h(g)?{documents:yu(s,g)}:{query:Km(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=iE(s,u.resumeToken);const w=e0(s,u.expectedCount);null!==w&&(l.expectedCount=w)}else if(u.snapshotVersion.compareTo(yt.min())>0){l.readTime=Uc(s,u.snapshotVersion.toTimestamp());const w=e0(s,u.expectedCount);null!==w&&(l.expectedCount=w)}return l}(this.serializer,e);const r=function aE(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Kh(this.serializer),t.removeTarget=e,this.Wo(t)}}class mM extends sA{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function mu(n,e){return n&&n.length>0?(dt(void 0!==e),n.map(t=>function(r,s){let u=dn(r.updateTime?r.updateTime:s);return u.isEqual(yt.min())&&(u=dn(s)),new GI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.cu(r,t)}return dt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Zp(n,e){let t;if(e instanceof ld)t={update:r0(n,e.key,e.value)};else if(e instanceof Hp)t={delete:Wp(n,e.key)};else if(e instanceof Lc)t={update:r0(n,e.key,e.data),updateMask:OS(e.fieldMask)};else{if(!(e instanceof WI))return rt();t={verify:Wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof Gh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qh)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:PS(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}(this.serializer,r))};this.Wo(t)}}class yM extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ue.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(ue.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class _M{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ur(t),this.mu=!1):ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wM{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,me.Z)(function*(){var w;ef(l)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,me.Z)(function*(T){const S=Ze(T);S.vu.add(4),yield uy(S),S.bu.set("Unknown"),S.vu.delete(4),yield w0(S)}),function(T){return w.apply(this,arguments)})(l))}))}),this.bu=new _M(r,s)}}function w0(n){return gT.apply(this,arguments)}function gT(){return gT=(0,me.Z)(function*(n){if(ef(n))for(const e of n.Ru)yield e(!0)}),gT.apply(this,arguments)}function uy(n){return mT.apply(this,arguments)}function mT(){return mT=(0,me.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),mT.apply(this,arguments)}function DE(n,e){const t=Ze(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_T(t)?vT(t):ly(t).Ko()&&yT(t,e))}function I0(n,e){const t=Ze(n),r=ly(t);t.Au.delete(e),r.Ko()&&oA(t,e),0===t.Au.size&&(r.Ko()?r.jo():ef(t)&&t.bu.set("Unknown"))}function yT(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ly(n).su(e)}function oA(n,e){n.Vu.qt(e),ly(n).iu(e)}function vT(n){n.Vu=new $C({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ly(n).start(),n.bu.gu()}function _T(n){return ef(n)&&!ly(n).Uo()&&n.Au.size>0}function ef(n){return 0===Ze(n).vu.size}function aA(n){n.Vu=void 0}function IM(n){return wT.apply(this,arguments)}function wT(){return wT=(0,me.Z)(function*(n){n.Au.forEach((e,t)=>{yT(n,e)})}),wT.apply(this,arguments)}function EM(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,me.Z)(function*(n,e){aA(n),_T(n)?(n.bu.Iu(e),vT(n)):n.bu.set("Unknown")}),IT.apply(this,arguments)}function DM(n,e,t){return ET.apply(this,arguments)}function ET(){return ET=(0,me.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof XI&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield CE(n,r)}else if(e instanceof X_?n.Vu.Ht(e):e instanceof jC?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield ZS(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const T=s.Au.get(w);T&&s.Au.set(w,T.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,w)=>{const T=s.Au.get(g);if(!T)return;s.Au.set(g,T.withResumeToken(Ur.EMPTY_BYTE_STRING,T.snapshotVersion)),oA(s,g);const S=new vu(T.target,g,w,T.sequenceNumber);yT(s,S)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield CE(n,r)}var r}),ET.apply(this,arguments)}function CE(n,e,t){return DT.apply(this,arguments)}function DT(){return DT=(0,me.Z)(function*(n,e,t){if(!Sc(e))throw e;n.vu.add(1),yield uy(n),n.bu.set("Offline"),t||(t=()=>ZS(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield w0(n)}))}),DT.apply(this,arguments)}function uA(n,e){return e().catch(t=>CE(n,t,e))}function cy(n){return CT.apply(this,arguments)}function CT(){return CT=(0,me.Z)(function*(n){const e=Ze(n),t=tf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;CM(e);)try{const s=yield uM(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,TM(e,s)}catch(s){yield CE(e,s)}cA(e)&&lA(e)}),CT.apply(this,arguments)}function CM(n){return ef(n)&&n.Eu.length<10}function TM(n,e){n.Eu.push(e);const t=tf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function cA(n){return ef(n)&&!tf(n).Uo()&&n.Eu.length>0}function lA(n){tf(n).start()}function bM(n){return TT.apply(this,arguments)}function TT(){return TT=(0,me.Z)(function*(n){tf(n).hu()}),TT.apply(this,arguments)}function SM(n){return bT.apply(this,arguments)}function bT(){return bT=(0,me.Z)(function*(n){const e=tf(n);for(const t of n.Eu)e.uu(t.mutations)}),bT.apply(this,arguments)}function AM(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=(0,me.Z)(function*(n,e,t){const r=n.Eu.shift(),s=ZI.from(r,e,t);yield uA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield cy(n)}),ST.apply(this,arguments)}function xM(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,me.Z)(function*(n,e){var t;e&&tf(n).ou&&(yield(t=(0,me.Z)(function*(r,s){if(function Q_(n){switch(n){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}(u=s.code)&&u!==ue.ABORTED){const l=r.Eu.shift();tf(r).Qo(),yield uA(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield cy(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),cA(n)&&lA(n)}),AT.apply(this,arguments)}function dA(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,me.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=ef(t);t.vu.add(3),yield uy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield w0(t)}),xT.apply(this,arguments)}function RT(){return RT=(0,me.Z)(function*(n,e){const t=Ze(n);e?(t.vu.delete(2),yield w0(t)):e||(t.vu.add(2),yield uy(t),t.bu.set("Unknown"))}),RT.apply(this,arguments)}function ly(n){return n.Su||(n.Su=function(e,t,r){const s=Ze(e);return s.fu(),new gM(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:IM.bind(null,n),ao:EM.bind(null,n),nu:DM.bind(null,n)}),n.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(n.Su.Qo(),_T(n)?vT(n):n.bu.set("Unknown")):(yield n.Su.stop(),aA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function tf(n){return n.Du||(n.Du=function(e,t,r){const s=Ze(e);return s.fu(),new mM(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:bM.bind(null,n),ao:xM.bind(null,n),au:SM.bind(null,n),cu:AM.bind(null,n)}),n.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(n.Du.Qo(),yield cy(n)):(yield n.Du.stop(),n.Eu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class PT{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new PT(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ce(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(n,e){if(ur("AsyncQueue",`${e}: ${n}`),Sc(n))return new Ce(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class hy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=Up(),this.sortedSet=new En(this.comparator)}static emptySet(e){return new hy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new hy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hA{constructor(){this.Cu=new En(Ke.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class fy{constructor(e,t,r,s,u,l,g,w,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=w,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new fy(e,t,hy.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class MM{constructor(){this.Nu=void 0,this.listeners=[]}}class RM{constructor(){this.queries=new gu(e=>xC(e),$m),this.onlineState="Unknown",this.ku=new Set}}function NT(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new MM),s)try{u.Nu=yield t.onListen(r)}catch(l){const g=dy(l,`Initialization of query '${Hm(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&FT(t)}),OT.apply(this,arguments)}function kT(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),LT.apply(this,arguments)}function PM(n,e){const t=Ze(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.$u(s)&&(r=!0);l.Nu=s}}r&&FT(t)}function NM(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function FT(n){n.ku.forEach(e=>{e.next()})}class UT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new fy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=fy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class gA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class yA{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ht(),this.mutatedKeys=Ht(),this.tc=BI(e),this.ec=new hy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new hA,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,T="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,P)=>{const H=s.get(S),Z=ad(this.query,P)?P:null,_e=!!H&&this.mutatedKeys.has(H.key),Ue=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let Fe=!1;H&&Z?H.data.isEqual(Z.data)?_e!==Ue&&(r.track({type:3,doc:Z}),Fe=!0):this.rc(H,Z)||(r.track({type:2,doc:Z}),Fe=!0,(w&&this.tc(Z,w)>0||T&&this.tc(Z,T)<0)&&(g=!0)):!H&&Z?(r.track({type:0,doc:Z}),Fe=!0):H&&!Z&&(r.track({type:1,doc:H}),Fe=!0,(w||T)&&(g=!0)),Fe&&(Z?(l=l.add(Z),u=Ue?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((T,S)=>function(P,H){const Z=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return Z(P)-Z(H)}(T.type,S.type)||this.tc(T.doc,S.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,w=g!==this.Xu;return this.Xu=g,0!==u.length||w?{snapshot:new fy(this.query,e.ec,s,u,e.mutatedKeys,0===g,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new mA(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new gA(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Ht();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return fy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class LM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FM{constructor(e){this.key=e,this.fc=!1}}class UM{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new gu(g=>xC(g),$m),this._c=new Map,this.mc=new Set,this.gc=new En(Ke.comparator),this.yc=new Map,this.Ic=new v,this.Tc={},this.Ec=new Map,this.Ac=_u.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function VM(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,me.Z)(function*(n,e){const t=function ub(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$M.bind(null,e),e.dc.nu=PM.bind(null,e.eventManager),e.dc.Pc=NM.bind(null,e.eventManager),e}(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield function oy(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,ee.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new vu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Tr(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield function BT(n,e,t,r,s){return jT.apply(this,arguments)}(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&DE(t.remoteStore,l)}return s}),VT.apply(this,arguments)}function jT(){return jT=(0,me.Z)(function*(n,e,t,r,s){n.Rc=(P,H,Z)=>{return(_e=(0,me.Z)(function*(Ue,Fe,It,St){let _t=Fe.view.sc(It);_t.zi&&(_t=yield vE(Ue.localStore,Fe.query,!1).then(({documents:an})=>Fe.view.sc(an,_t)));const Ot=St&&St.targetChanges.get(Fe.targetId),Gt=Fe.view.applyChanges(_t,Ue.isPrimaryClient,Ot);return QT(Ue,Fe.targetId,Gt.cc),Gt.snapshot}),function(Ue,Fe,It,St){return _e.apply(this,arguments)})(n,P,H,Z);var _e};const u=yield vE(n.localStore,e,!0),l=new yA(e,u.ir),g=l.sc(u.documents),w=qm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),T=l.applyChanges(g,n.isPrimaryClient,w);QT(n,t,T.cc);const S=new LM(e,t,l);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),T.snapshot}),jT.apply(this,arguments)}function BM(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,me.Z)(function*(n,e){const t=Ze(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!$m(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ay(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),I0(t.remoteStore,r.targetId),py(t,r.targetId)}).catch(Ys))):(py(t,r.targetId),yield ay(t.localStore,r.targetId,!0))}),$T.apply(this,arguments)}function HT(){return HT=(0,me.Z)(function*(n,e,t){const r=function cb(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zM.bind(null,e),e}(n);try{const s=yield function(u,l){const g=Ze(u),w=Hn.now(),T=l.reduce((H,Z)=>H.add(Z.key),Ht());let S,P;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=is(),_e=Ht();return g.Zi.getEntries(H,T).next(Ue=>{Z=Ue,Z.forEach((Fe,It)=>{It.isValidDocument()||(_e=_e.add(Fe))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Z)).next(Ue=>{S=Ue;const Fe=[];for(const It of l){const St=OC(It,S.get(It.key).overlayedDocument);null!=St&&Fe.push(new Lc(It.key,St,OI(St.value.mapValue),zn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,w,Fe,l)}).next(Ue=>{P=Ue;const Fe=Ue.applyToLocalDocumentSet(S,_e);return g.documentOverlayCache.saveOverlays(H,Ue.batchId,Fe)})}).then(()=>({batchId:P.batchId,changes:zm(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let w=u.Tc[u.currentUser.toKey()];w||(w=new En(Ut)),w=w.insert(l,g),u.Tc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield md(r,s.changes),yield cy(r.remoteStore)}catch(s){const u=dy(s,"Failed to persist write");t.reject(u)}}),HT.apply(this,arguments)}function vA(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,me.Z)(function*(n,e){const t=Ze(n);try{const r=yield function aM(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((S,P)=>{const H=s.get(P);if(!H)return;g.push(t.Bs.removeMatchingKeys(u,S.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(u,S.addedDocuments,P)));let Z=H.withSequenceNumber(u.currentSequenceNumber);var _e,Ue,Fe;null!==e.targetMismatches.get(P)?Z=Z.withResumeToken(Ur.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,r)),s=s.insert(P,Z),Ue=Z,Fe=S,(0===(_e=H).resumeToken.approximateByteSize()||Ue.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,Z))});let w=is(),T=Ht();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(function YS(n,e,t){let r=Ht(),s=Ht();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=is();return t.forEach((g,w)=>{const T=u.get(g);w.isFoundDocument()!==T.isFoundDocument()&&(s=s.add(g)),w.isNoDocument()&&w.version.isEqual(yt.min())?(e.removeEntry(g,w.readTime),l=l.insert(g,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(w),l=l.insert(g,w)):ke("LocalStore","Ignoring outdated watch update for ",g,". Current version:",T.version," Watch version:",w.version)}),{nr:l,sr:s}})}(u,l,e.documentUpdates).next(S=>{w=S.nr,T=S.sr})),!r.isEqual(yt.min())){const S=t.Bs.getLastRemoteSnapshotVersion(u).next(P=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(S)}return ee.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,T)).next(()=>w)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?dt(l.fc):s.removedDocuments.size>0&&(dt(l.fc),l.fc=!1))}),yield md(t,r,e)}catch(r){yield Ys(r)}}),zT.apply(this,arguments)}function _A(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=Ze(u);g.onlineState=l;let w=!1;g.queries.forEach((T,S)=>{for(const P of S.listeners)P.Mu(l)&&(w=!0)}),w&&FT(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $M(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=(0,me.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new En(Ke.comparator);l=l.insert(u,Fn.newNoDocument(u,yt.min()));const g=Ht().add(u),w=new qp(yt.min(),new Map,new En(Ut),l,g);yield vA(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),JT(r)}else yield ay(r.localStore,e,!1).then(()=>py(r,e,t)).catch(Ys)}),GT.apply(this,arguments)}function HM(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=yield function oM(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,w,T){const S=w.batch,P=S.keys();let H=ee.resolve();return P.forEach(Z=>{H=H.next(()=>T.getEntry(g,Z)).next(_e=>{const Ue=w.docVersions.get(Z);dt(null!==Ue),_e.version.compareTo(Ue)<0&&(S.applyToRemoteDocument(_e,w),_e.isValidDocument()&&(_e.setReadTime(w.commitVersion),T.addEntry(_e)))})}),H.next(()=>l.mutationQueue.removeMutationBatch(g,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=Ht();for(let w=0;w<l.mutationResults.length;++w)l.mutationResults[w].transformResults.length>0&&(g=g.add(l.batch.mutations[w].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);YT(t,r,null),ZT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield md(t,s)}catch(s){yield Ys(s)}}),qT.apply(this,arguments)}function zM(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,me.Z)(function*(n,e,t){const r=Ze(n);try{const s=yield function(u,l){const g=Ze(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return g.mutationQueue.lookupMutationBatch(w,l).next(S=>(dt(null!==S),T=S.keys(),g.mutationQueue.removeMutationBatch(w,S))).next(()=>g.mutationQueue.performConsistencyCheck(w)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(w,T,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>g.localDocuments.getDocuments(w,T))})}(r.localStore,e);YT(r,e,t),ZT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield md(r,s)}catch(s){yield Ys(s)}}),WT.apply(this,arguments)}function ZT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function YT(n,e,t){const r=Ze(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function py(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||wA(n,r)})}function wA(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(I0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),JT(n))}function QT(n,e,t){for(const r of t)r instanceof gA?(n.Ic.addReference(r.key,e),qM(n,r)):r instanceof mA?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||wA(n,r.key)):rt()}function qM(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.mc.add(r),JT(n))}function JT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ke(on.fromString(e)),r=n.Ac.next();n.yc.set(r,new FM(t)),n.gc=n.gc.insert(t,r),DE(n.remoteStore,new vu(Tr(od(t.path)),r,"TargetPurposeLimboResolution",bs.ct))}}function md(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=(0,me.Z)(function*(n,e,t){const r=Ze(n),s=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,w)=>{l.push(r.Rc(w,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T?.fromCache?"not-current":"current"),T){s.push(T);const S=yE.Li(w.targetId,T);u.push(S)}}))}),yield Promise.all(l),r.dc.nu(s),yield(g=(0,me.Z)(function*(w,T){const S=Ze(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ee.forEach(T,H=>ee.forEach(H.Fi,Z=>S.persistence.referenceDelegate.addReference(P,H.targetId,Z)).next(()=>ee.forEach(H.Bi,Z=>S.persistence.referenceDelegate.removeReference(P,H.targetId,Z)))))}catch(P){if(!Sc(P))throw P;ke("LocalStore","Failed to update sequence numbers: "+P)}for(const P of T){const H=P.targetId;if(!P.fromCache){const Z=S.Ji.get(H),Ue=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);S.Ji=S.Ji.insert(H,Ue)}}}),function(w,T){return g.apply(this,arguments)})(r.localStore,u))}),XT.apply(this,arguments)}function WM(n,e){return eb.apply(this,arguments)}function eb(){return eb=(0,me.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield KS(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new Ce(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(t,r.er)}var s}),eb.apply(this,arguments)}function KM(n,e){const t=Ze(n),r=t.yc.get(e);if(r&&r.fc)return Ht().add(r.key);{let s=Ht();const u=t._c.get(e);if(!u)return s;for(const l of u){const g=t.wc.get(l);s=s.unionWith(g.view.nc)}return s}}class E0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.serializer=_0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function WS(n,e,t,r){return new sM(n,e,t,r)}(this.persistence,new qS,e.initialUser,this.serializer)}createPersistence(e){return new z(ve.zs,this.serializer)}createSharedClientState(e){return new nA}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gy{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>_A(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=WM.bind(null,r.syncEngine),yield function MT(n,e){return RT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RM}createDatastore(e){const t=_0(e.databaseInfo.databaseId),r=new pM(e.databaseInfo);return new yM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>_A(this.syncEngine,g,0),l=rA.D()?new rA:new dM,new wM(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,w,T){const S=new UM(r,s,u,l,g,w);return T&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Ze(t);ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield uy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class TE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class aR{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Fr.UNAUTHENTICATED,this.clientId=f_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,me.Z)(function*(g){ke("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=dy(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function bE(n,e){return db.apply(this,arguments)}function db(){return db=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,me.Z)(function*(u){r.isEqual(u)||(yield KS(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),db.apply(this,arguments)}function hb(n,e){return fb.apply(this,arguments)}function fb(){return fb=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pb(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>dA(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>dA(e.remoteStore,u)),n._onlineComponents=e}),fb.apply(this,arguments)}function pb(n){return gb.apply(this,arguments)}function gb(){return gb=(0,me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function TA(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Zs("Error using user provided cache. Falling back to memory cache: "+t),yield bE(n,new E0)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield bE(n,new E0);return n._offlineComponents}),gb.apply(this,arguments)}function SE(n){return mb.apply(this,arguments)}function mb(){return mb=(0,me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield hb(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield hb(n,new gy))),n._onlineComponents}),mb.apply(this,arguments)}function AE(n){return pb(n).then(e=>e.localStore)}function my(n){return vb.apply(this,arguments)}function vb(){return vb=(0,me.Z)(function*(n){const e=yield SE(n),t=e.eventManager;return t.onListen=VM.bind(null,e.syncEngine),t.onUnlisten=BM.bind(null,e.syncEngine),t}),vb.apply(this,arguments)}function xA(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,u,l,g,w){const T=new TE({next:P=>{u.enqueueAndForget(()=>kT(s,S));const H=P.docs.has(l);!H&&P.fromCache?w.reject(new Ce(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&P.fromCache&&g&&"server"===g.source?w.reject(new Ce(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new UT(od(l.path),T,{includeMetadataChanges:!0,Ku:!0});return NT(s,S)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}function MA(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,u,l,g,w){const T=new TE({next:P=>{u.enqueueAndForget(()=>kT(s,S)),P.fromCache&&"server"===g.source?w.reject(new Ce(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new UT(l,T,{includeMetadataChanges:!0,Ku:!0});return NT(s,S)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}function RA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const PA=new Map;function _b(n,e,t){if(!t)throw new Ce(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OA(n){if(!Ke.isDocumentKey(n))throw new Ce(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kA(n){if(Ke.isDocumentKey(n))throw new Ce(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xE(n);throw new Ce(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function LA(n,e){if(e<=0)throw new Ce(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class FA{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ce(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ce(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function NA(n,e,t,r){if(!0===e&&!0===r)throw new Ce(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=RA(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ce(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fI;switch(t.type){case"firstParty":return new sC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ce(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PA.get(e);t&&(ke("ComponentProvider","Removing Datastore"),PA.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Hc extends Wi{constructor(e,t,r){super(e,t,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Ke(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function ME(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=f_.A()),_b("doc","path",e),n instanceof D0){const r=on.fromString(e,...t);return OA(r),new tr(n,null,new Ke(r))}{if(!(n instanceof tr||n instanceof Hc))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return OA(r),new tr(n.firestore,n instanceof Hc?n.converter:null,new Ke(r))}}function BA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof tr||n instanceof Hc)&&(e instanceof tr||e instanceof Hc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wb(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&$m(n._query,e._query)&&n.converter===e.converter}class yR{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new fT(this,"async_queue_retry"),this.Xc=()=>{const t=EE();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=EE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=EE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Cr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sc(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=PT.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ib(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class nr extends D0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new yR,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jA(this),this._firestoreClient.terminate()}}function Vr(n){return n._firestoreClient||jA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jA(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TS(n._databaseId,g,n._persistenceKey,(T=s).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,RA(T.experimentalLongPollingOptions),T.useFetchStreams));var g,T;n._firestoreClient=new aR(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zc(Ur.fromBase64String(e))}catch(t){throw new Ce(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zc(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ce(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class RE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const xR=/^__.*__$/;class MR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ld(e,this.data,t,this.fieldTransforms)}}class zA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class PE{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new PE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return kE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(GA(this.ca)&&xR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class RR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_0(e)}ya(e,t,r,s=!1){return new PE({ca:e,methodName:t,ga:r,path:Qn.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=_0(n._databaseId);return new RR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NE(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);Tb("Data must be an object, but it was:",l,r);const g=KA(r,l);let w,T;if(u.merge)w=new Gi(l.fieldMask),T=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const P of u.mergeFields){const H=b0(e,P,t);if(!l.contains(H))throw new Ce(ue.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);YA(S,H)||S.push(H)}w=new Gi(S),T=l.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,T=l.fieldTransforms;return new MR(new di(g),w,T)}class T0 extends og{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof T0}}function WA(n,e,t,r=!1){return ug(t,n.ya(r?4:3,e))}function ug(n,e){if(ZA(n=(0,ln.m9)(n)))return Tb("Unsupported field value:",e,n),KA(n,e);if(n instanceof og)return function(t,r){if(!GA(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=ug(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,ln.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return q_(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Hn.fromDate(t);return{timestampValue:Uc(r.serializer,s)}}if(t instanceof Hn){const s=new Hn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uc(r.serializer,s)}}if(t instanceof RE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zc)return{bytesValue:iE(r.serializer,t._byteString)};if(t instanceof tr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:t0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${xE(t)}`)}(n,e)}function KA(n,e){const t={};return xI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(n,(r,s)=>{const u=ug(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ZA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hn||n instanceof RE||n instanceof zc||n instanceof tr||n instanceof og)}function Tb(n,e,t){if(!ZA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function b0(n,e,t){if((e=(0,ln.m9)(e))instanceof yd)return e._internalPath;if("string"==typeof e)return OE(n,e);throw kE("Field path arguments must be of type string or ",n,!1,void 0,t)}const kR=new RegExp("[~\\*/\\[\\]]");function OE(n,e,t){if(e.search(kR)>=0)throw kE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch{throw kE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kE(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let w="";return(u||l)&&(w+=" (found",u&&(w+=` in field ${r}`),l&&(w+=` in document ${s}`),w+=")"),new Ce(ue.INVALID_ARGUMENT,g+n+w)}function YA(n,e){return n.some(t=>t.isEqual(e))}class S0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LR extends S0{data(){return super.data()}}function LE(n,e){return"string"==typeof e?OE(n,e):e instanceof yd?e._internalPath:e._delegate._internalPath}function QA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ce(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bb{}class A0 extends bb{}function nf(n,e,...t){let r=[];e instanceof bb&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof yy).length,l=s.filter(g=>g instanceof x0).length;if(u>1||u>0&&l>0)throw new Ce(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class x0 extends A0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new x0(e,t,r)}_apply(e){const t=this._parse(e);return tx(e._query,t),new Wi(e.firestore,e.converter,$_(e._query,t))}_parse(e){const t=ag(e.firestore);return function(s,u,l,g,w,T,S){let P;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ce(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){ex(S,T);const H=[];for(const Z of S)H.push(XA(g,s,Z));P={arrayValue:{values:H}}}else P=XA(g,s,S)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||ex(S,T),P=WA(l,"where",S,"in"===T||"not-in"===T);return Wt.create(w,T,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class yy extends bb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const g of l)tx(u,g),u=$_(u,g)}(e._query,t),new Wi(e.firestore,e.converter,$_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Sb extends A0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Sb(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Ce(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ce(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new qi(s,u);return function(g,w){if(null===B_(g)){const T=Fp(g);null!==T&&nx(0,T,w.field)}}(r,l),l}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new va(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class FE extends A0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new FE(e,t,r)}_apply(e){return new Wi(e.firestore,e.converter,jm(e._query,this._limit,this._limitType))}}class UE extends A0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new UE(e,t,r)}_apply(e){const t=JA(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(s=t,new va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class VE extends A0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new VE(e,t,r)}_apply(e){const t=JA(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(s=t,new va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function JA(n,e,t,r){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof S0)return function(s,u,l,g,w){if(!g)throw new Ce(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const T=[];for(const S of vr(s))if(S.field.isKeyField())T.push(rd(u,g.key));else{const P=g.data.field(S.field);if(Rp(P))throw new Ce(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const H=S.field.canonicalString();throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}T.push(P)}return new Js(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=ag(n.firestore);return function(u,l,g,w,T,S){const P=u.explicitOrderBy;if(T.length>P.length)throw new Ce(ue.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Z=0;Z<T.length;Z++){const _e=T[Z];if(P[Z].field.isKeyField()){if("string"!=typeof _e)throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof _e}`);if(!j_(u)&&-1!==_e.indexOf("/"))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${_e}' contains a slash.`);const Ue=u.path.child(on.fromString(_e));if(!Ke.isDocumentKey(Ue))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ue}' is not because it contains an odd number of segments.`);const Fe=new Ke(Ue);H.push(rd(l,Fe))}else{const Ue=WA(g,w,_e);H.push(Ue)}}return new Js(H,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function XA(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new Ce(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&-1!==t.indexOf("/"))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ke.isDocumentKey(r))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rd(n,new Ke(r))}if(t instanceof tr)return rd(n,t._key);throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xE(t)}.`)}function ex(n,e){if(!Array.isArray(n)||0===n.length)throw new Ce(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tx(n,e){if(e.isInequality()){const r=Fp(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=B_(n);null!==u&&nx(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ce(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nx(n,e,t){if(!t.isEqual(e))throw new Ce(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ab{convertValue(e,t="none"){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ma(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new RE(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Om(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pp(e));default:return null}}convertTimestamp(e){const t=Ac(e);return new Hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);dt(a0(r));const s=new Mc(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return s.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function BE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vd extends S0{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class M0 extends vd{data(e={}){return super.data(e)}}class rf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new cg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new M0(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new M0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new M0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==l.type&&(w=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),T=u.indexOf(l.doc.key)),{type:WR(l.type),doc:g,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function ix(n,e){return n instanceof vd&&e instanceof vd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rf&&e instanceof rf&&n._firestore===e._firestore&&wb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class sf extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function sx(n,e,t){n=rn(n,tr);const r=rn(n.firestore,nr),s=BE(n.converter,e,t);return vy(r,[NE(ag(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,zn.none())])}function ox(n,e,t,...r){n=rn(n,tr);const s=rn(n.firestore,nr),u=ag(s);let l;return l="string"==typeof(e=(0,ln.m9)(e))||e instanceof yd?function Cb(n,e,t,r,s,u){const l=n.ya(1,e,t),g=[b0(e,r,t)],w=[s];if(u.length%2!=0)throw new Ce(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)g.push(b0(e,u[H])),w.push(u[H+1]);const T=[],S=di.empty();for(let H=g.length-1;H>=0;--H)if(!YA(T,g[H])){const Z=g[H];let _e=w[H];_e=(0,ln.m9)(_e);const Ue=l.da(Z);if(_e instanceof T0)T.push(Z);else{const Fe=ug(_e,Ue);null!=Fe&&(T.push(Z),S.set(Z,Fe))}}const P=new Gi(T);return new zA(S,P,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function Db(n,e,t,r){const s=n.ya(1,e,t);Tb("Data must be an object, but it was:",s,r);const u=[],l=di.empty();ma(r,(w,T)=>{const S=OE(e,w,t);T=(0,ln.m9)(T);const P=s.da(S);if(T instanceof T0)u.push(S);else{const H=ug(T,P);null!=H&&(u.push(S),l.set(S,H))}});const g=new Gi(u);return new zA(l,g,s.fieldTransforms)}(u,"updateDoc",n._key,e),vy(s,[l.toMutation(n._key,zn.exists(!0))])}function ax(n,...e){var t,r,s;n=(0,ln.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Ib(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(Ib(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let w,T,S;if(n instanceof tr)T=rn(n.firestore,nr),S=od(n._key.path),w={next:P=>{e[l]&&e[l](xb(T,n,P))},error:e[l+1],complete:e[l+2]};else{const P=rn(n,Wi);T=rn(P.firestore,nr),S=P._query;const H=new sf(T);w={next:Z=>{e[l]&&e[l](new rf(T,H,P,Z))},error:e[l+1],complete:e[l+2]},QA(n._query)}return function(P,H,Z,_e){const Ue=new TE(_e),Fe=new UT(H,Ue,Z);return P.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return NT(yield my(P),Fe)})),()=>{Ue.Dc(),P.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return kT(yield my(P),Fe)}))}}(Vr(T),S,g,w)}function vy(n,e){return function(t,r){const s=new Cr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function jM(n,e,t){return HT.apply(this,arguments)}(yield function yb(n){return SE(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(Vr(n),e)}function xb(n,e,t){const r=t.docs.get(e._key),s=new sf(n);return new vd(n,s,e._key,r,new cg(t.hasPendingWrites,t.fromCache),e.converter)}function lx(){if(typeof Uint8Array>"u")throw new Ce("unimplemented","Uint8Arrays are not available in this environment.")}function dx(){if(!function DC(){return typeof atob<"u"}())throw new Ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}class R0{constructor(e){this._delegate=e}static fromBase64String(e){return dx(),new R0(zc.fromBase64String(e))}static fromUint8Array(e){return lx(),new R0(zc.fromUint8Array(e))}toBase64(){return dx(),this._delegate.toBase64()}toUint8Array(){return lx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Rb(n){return function IP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class jE extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new R0(new zc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ia.forKey(t,this.firestore,null)}}class lg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new M0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new N0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new lg(e,new jE(e),t),s.set(t,u)),u}}lg.INSTANCES=new WeakMap;class Ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ia(t,new tr(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new Ia(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,function VA(n,e,...t){if(n=(0,ln.m9)(n),_b("collection","path",e),n instanceof D0){const r=on.fromString(e,...t);return kA(r),new Hc(n,null,r)}{if(!(n instanceof tr||n instanceof Hc))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return kA(r),new Hc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof tr&&BA(this._delegate,e)}set(e,t){t=function Mb(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ce("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?sx(this._delegate,e,t):sx(this._delegate,e)}catch(r){throw Ss(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ox(this._delegate,e):ox(this._delegate,e,t,...r)}catch(s){throw Ss(s,"updateDoc()","DocumentReference.update()")}}delete(){return function eP(n){return vy(rn(n.firestore,nr),[new Hp(n._key,zn.none())])}(this._delegate)}onSnapshot(...e){const t=gx(e),r=mx(e,s=>new P0(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return ax(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function ZR(n){n=rn(n,tr);const e=rn(n.firestore,nr),t=Vr(e),r=new sf(e);return function lR(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(s,u,l){try{const g=yield function(w,T){const S=Ze(w);return S.persistence.runTransaction("read document","readonly",P=>S.localDocuments.getDocument(P,T))}(s,u);g.isFoundDocument()?l.resolve(g):g.isNoDocument()?l.resolve(null):l.reject(new Ce(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const w=dy(g,`Failed to get document '${u} from cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield AE(n),e,t);var r})),t.promise}(t,n._key).then(s=>new vd(e,r,n._key,s,new cg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function YR(n){n=rn(n,tr);const e=rn(n.firestore,nr);return xA(Vr(e),n._key,{source:"server"}).then(t=>xb(e,n,t))}(this._delegate):function KR(n){n=rn(n,tr);const e=rn(n.firestore,nr);return xA(Vr(e),n._key).then(t=>xb(e,n,t))}(this._delegate),t.then(r=>new P0(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function gx(n){for(const e of n)if("object"==typeof e&&!Rb(e))return e;return{}}function mx(n,e){var t,r;let s;return s=Rb(n[0])?n[0]:Rb(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class P0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ix(this._delegate,e._delegate)}}class N0 extends P0{data(e){const t=this._delegate.data(e);return function rC(n,e){n||rt()}(void 0!==t),t}}class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jE(e)}where(e,t,r){try{return new As(this.firestore,nf(this._delegate,function FR(n,e,t){const r=e,s=LE("where",n);return x0._create(s,r,t)}(e,t,r)))}catch(s){throw Ss(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new As(this.firestore,nf(this._delegate,function UR(n,e="asc"){const t=e,r=LE("orderBy",n);return Sb._create(r,t)}(e,t)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new As(this.firestore,nf(this._delegate,function VR(n){return LA("limit",n),FE._create("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new As(this.firestore,nf(this._delegate,function BR(n){return LA("limitToLast",n),FE._create("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new As(this.firestore,nf(this._delegate,function jR(...n){return UE._create("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new As(this.firestore,nf(this._delegate,function $R(...n){return UE._create("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new As(this.firestore,nf(this._delegate,function HR(...n){return VE._create("endBefore",n,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new As(this.firestore,nf(this._delegate,function zR(...n){return VE._create("endAt",n,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return wb(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function JR(n){n=rn(n,Wi);const e=rn(n.firestore,nr),t=Vr(e),r=new sf(e);return function dR(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(s,u,l){try{const g=yield vE(s,u,!0),w=new yA(u,g.ir),T=w.sc(g.documents),S=w.applyChanges(T,!1);l.resolve(S.snapshot)}catch(g){const w=dy(g,`Failed to execute query '${u} against cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield AE(n),e,t);var r})),t.promise}(t,n._query).then(s=>new rf(e,r,n,s))}(this._delegate):"server"===e?.source?function XR(n){n=rn(n,Wi);const e=rn(n.firestore,nr),t=Vr(e),r=new sf(e);return MA(t,n._query,{source:"server"}).then(s=>new rf(e,r,n,s))}(this._delegate):function QR(n){n=rn(n,Wi);const e=rn(n.firestore,nr),t=Vr(e),r=new sf(e);return QA(n._query),MA(t,n._query).then(s=>new rf(e,r,n,s))}(this._delegate),t.then(r=>new Pb(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=gx(e),r=mx(e,s=>new Pb(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return ax(this._delegate,t,r)}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}class CP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new N0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new As(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new N0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new N0(this._firestore,r))})}isEqual(e){return ix(this._delegate,e._delegate)}}class _y extends As{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ia(this.firestore,e):null}doc(e){try{return new Ia(this.firestore,void 0===e?ME(this._delegate):ME(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function tP(n,e){const t=rn(n.firestore,nr),r=ME(n),s=BE(n.converter,e);return vy(t,[NE(ag(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ia(this.firestore,t))}isEqual(e){return BA(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}var AP=k(6451),$E=k(5363),xP=k(6063);class MP extends Rr.x{constructor(e=1/0,t=1/0,r=xP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let w=1;w<r.length&&r[w]<=l;w+=2)g=w;g&&r.splice(0,g+1)}}}var RP=k(3099);function yx(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,RP.B)({connector:()=>new MP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function vx(n,e){return(0,Za.m)(e)?Yn(()=>n,e):Yn(()=>n)}var Ob=k(9468);k(8140);class nS{constructor(){return(0,oi.vb)("app-check")}}typeof window<"u"&&window;var CN=k(1274);const jx=new m.OlP("angularfire2.auth.use-emulator"),$x=new m.OlP("angularfire2.auth.settings"),Hx=new m.OlP("angularfire2.auth.tenant-id"),zx=new m.OlP("angularfire2.auth.langugage-code"),Gx=new m.OlP("angularfire2.auth.use-device-language"),qx=new m.OlP("angularfire.auth.persistence"),Wx=(n,e,t,r,s,u,l,g)=>(0,Gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),l)for(const[T,S]of Object.entries(l))w.settings[T]=S;return g&&w.setPersistence(g),w},[t,r,s,u,l,g]);let Kx=(()=>{class n{constructor(t,r,s,u,l,g,w,T,S,P,H,Z){const _e=new Rr.x,Ue=ct(void 0).pipe((0,$E.Q)(l.outsideAngular),Yn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8463)))),(0,Dt.U)(()=>(0,Gs.on)(t,u,r)),(0,Dt.U)(Fe=>Wx(Fe,u,g,T,S,P,w,H)),yx({bufferSize:1,refCount:!1}));if(ls(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{Ue.pipe(Vi()).subscribe();const It=Ue.pipe(Yn(Ot=>Ot.getRedirectResult().then(Gt=>Gt,()=>null)),oi.iC,yx({bufferSize:1,refCount:!1})),St=Ue.pipe(Yn(Ot=>new Fi.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Ot.onAuthStateChanged(an=>Gt.next(an),an=>Gt.error(an),()=>Gt.complete()))})))),_t=Ue.pipe(Yn(Ot=>new Fi.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Ot.onIdTokenChanged(an=>Gt.next(an),an=>Gt.error(an),()=>Gt.complete()))}))));this.authState=It.pipe(vx(St),(0,Ob.R)(l.outsideAngular),(0,$E.Q)(l.insideAngular)),this.user=It.pipe(vx(_t),(0,Ob.R)(l.outsideAngular),(0,$E.Q)(l.insideAngular)),this.idToken=this.user.pipe(Yn(Ot=>Ot?(0,cn.D)(Ot.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Yn(Ot=>Ot?(0,cn.D)(Ot.getIdTokenResult()):ct(null))),this.credential=(0,AP.T)(It,_e,this.authState.pipe(ii(Ot=>!Ot))).pipe((0,Dt.U)(Ot=>Ot?.user?Ot:null),(0,Ob.R)(l.outsideAngular),(0,$E.Q)(l.insideAngular))}return(0,Gs.pX)(this,Ue,u,{spy:{apply:(Fe,It,St)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&St.then(_t=>_e.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Gs.Dh),m.LFG(Gs.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(oi.HU),m.LFG(jx,8),m.LFG($x,8),m.LFG(Hx,8),m.LFG(zx,8),m.LFG(Gx,8),m.LFG(qx,8),m.LFG(nS,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Zx(n,e){return function bN(n,e=mv.z){return new Fi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function iS(n,e){return Zx(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function QE(n,e){return iS(n,e).pipe(bo(void 0),yv(),(0,Dt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const w=s.find(S=>S.doc.ref.isEqual(l.ref)),T=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(l.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),u}))}function Yx(n,e,t){return QE(n,t).pipe(ic((r,s)=>function AN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function xN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function gw(n,e=Us.y){return n=n??OD,(0,Nr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Pr.x)(r,l=>{const g=e(l);(u||!n(s,g))&&(u=!1,s=g,r.next(l))}))})}(),(0,Dt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function sS(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function Qx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Jx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=QE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(bo(void 0),yv(),ii(([r,s])=>s.length>0||!r),(0,Dt.U)(([r,s])=>s),oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ic((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Qx(e);return Yx(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return iS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),oi.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(oi.iC)}add(e){return this.ref.add(e)}doc(e){return new Xx(this.ref.doc(e),this.afs)}}class Xx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=nM(r,t);return new Jx(s,u,this.afs)}snapshotChanges(){return function SN(n,e){return Zx(n,e).pipe(bo(void 0),yv(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(oi.iC)}}class MN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?QE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ii(t=>t.length>0),oi.iC):QE(this.query,this.afs.schedulers.outsideAngular).pipe(oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ic((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Qx(e);return Yx(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return iS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),oi.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(oi.iC)}}const eM=new m.OlP("angularfire2.enableFirestorePersistence"),tM=new m.OlP("angularfire2.firestore.persistenceSettings"),RN=new m.OlP("angularfire2.firestore.settings"),PN=new m.OlP("angularfire2.firestore.use-emulator");function nM(n,e=(t=>t)){return{query:e(n),ref:n}}let rM=(()=>{class n{constructor(t,r,s,u,l,g,w,T,S,P,H,Z,_e,Ue,Fe,It,St){this.schedulers=w;const _t=(0,Gs.on)(t,g,r),Ot=S;P&&Wx(_t,g,H,_e,Ue,Fe,Z,It),[this.firestore,this.persistenceEnabled$]=(0,Gs.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Gt=g.runOutsideAngular(()=>_t.firestore());if(u&&Gt.settings(u),Ot&&Gt.useEmulator(...Ot),s&&!ls(l)){const an=()=>{try{return(0,cn.D)(Gt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(os){return typeof console<"u"&&console.warn(os),ct(!1)}};return[Gt,g.runOutsideAngular(an)]}return[Gt,ct(!1)]},[u,Ot,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=nM(s,r),g=this.schedulers.ngZone.run(()=>u);return new Jx(g,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new MN(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new Xx(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Gs.Dh),m.LFG(Gs.xv,8),m.LFG(eM,8),m.LFG(RN,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(oi.HU),m.LFG(tM,8),m.LFG(PN,8),m.LFG(Kx,8),m.LFG(jx,8),m.LFG($x,8),m.LFG(Hx,8),m.LFG(zx,8),m.LFG(Gx,8),m.LFG(qx,8),m.LFG(nS,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NN=(()=>{class n{constructor(){CN.Z.registerVersion("angularfire",oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:eM,useValue:!0},{provide:tM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[rM]}),n})();const ON=["webCamVideo"],kN=["remoteVideo"],LN=[{path:"",component:gv,pathMatch:"full"},{path:"meetingRoom",component:(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.firestore=s,this.mediaDevice=navigator.mediaDevices,this.userName=sessionStorage.userName,this.startCameraAndAudio()}endCall(){console.log(this.route),console.log(this.router),sessionStorage.clear(),this.router.navigateByUrl(""),this.stopCameraAndAudio()}startCall(){return(0,me.Z)(function*(){})()}joinCall(){return(0,me.Z)(function*(){})()}startCameraAndAudio(){this.mediaDevice.getUserMedia({video:!0,audio:!0}).then(t=>{console.log(t),this.mediaStream=t,this.webCamVideo.nativeElement.srcObject=t,this.webCamVideo.nativeElement.addEventListener("loadedmetadata",()=>{this.webCamVideo.nativeElement.play()})}).catch(t=>alert(t))}stopCameraAndAudio(){this.mediaStream&&(this.mediaStream.getTracks().forEach(t=>{t.stop()}),this.webCamVideo.nativeElement.removeEventListener("loadedmetadata",()=>{this.webCamVideo.nativeElement.play()}),this.webCamVideo.nativeElement.srcObject=null,this.mediaStream=null)}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(si),m.Y36(yr),m.Y36(rM))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-meeting-room"]],viewQuery:function(r,s){if(1&r&&(m.Gf(ON,5),m.Gf(kN,5)),2&r){let u;m.iGM(u=m.CRH())&&(s.webCamVideo=u.first),m.iGM(u=m.CRH())&&(s.remoteVideo=u.first)}},decls:21,vars:0,consts:[[1,"mainDiv"],[1,"headerSec"],[1,"videoSec"],["autoplay","","playsinline",""],["webCamVideo",""],["remoteVideo",""],[1,"buttonSec"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(r,s){1&r&&(m.TgZ(0,"main",0),m._UZ(1,"section",1),m.TgZ(2,"section",2)(3,"span")(4,"h1"),m._uU(5,"You"),m.qZA(),m._UZ(6,"video",3,4),m.qZA(),m.TgZ(8,"span")(9,"h1"),m._uU(10,"Remote"),m.qZA(),m._UZ(11,"video",3,5),m.qZA()(),m.TgZ(13,"section",6)(14,"button",7),m.NdJ("click",function(){return s.startCall()}),m._uU(15,"Start the call"),m.qZA(),m.TgZ(16,"button",7),m.NdJ("click",function(){return s.joinCall()}),m._uU(17,"Join the call"),m.qZA(),m.TgZ(18,"button",8),m.NdJ("click",function(){return s.endCall()}),m._uU(19,"End the Call"),m.qZA()(),m._UZ(20,"section"),m.qZA())},styles:[".mainDiv[_ngcontent-%COMP%]{width:100vw;height:100vh;display:grid;grid-template-rows:1fr 5fr 2fr}.headerSec[_ngcontent-%COMP%]{background-color:#7e7c7c}.videoSec[_ngcontent-%COMP%]{background-color:#c7c7c7;display:grid;grid-auto-flow:column}.videoSec[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:grid;justify-content:center;text-align:center}.buttonSec[_ngcontent-%COMP%]{background-color:gray;display:flex;justify-content:space-around;align-items:center}"]})}return n})(),canActivate:[(()=>{class n{constructor(t){this.router=t}canActivate(t,r){try{if(null==sessionStorage.getItem("userName"))throw this.router.navigate([""]),new Error("not login");return!0}catch{return this.router.navigate([""]),!1}}static#e=this.\u0275fac=function(r){return new(r||n)(m.LFG(si))};static#t=this.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"**",redirectTo:""}];let FN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=m.oAB({type:n});static#n=this.\u0275inj=m.cJS({imports:[RD.forRoot(LN,{useHash:!0}),RD]})}return n})(),UN=(()=>{class n{constructor(){this.title="RLVC"}ngOnDestroy(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){1&r&&m._UZ(0,"router-outlet")},dependencies:[K]})}return n})();const VN_firebaseConfig={apiKey:"AIzaSyD3GChDwzmoOXuEhytA1slQm-12ZGarsGM",authDomain:"fir-rlvc.firebaseapp.com",projectId:"fir-rlvc",storageBucket:"fir-rlvc.appspot.com",messagingSenderId:"1061693431183",appId:"1:1061693431183:web:21dd3323eb7530e406bffa",measurementId:"G-XFCP0V38D8"};let BN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=m.oAB({type:n,bootstrap:[UN]});static#n=this.\u0275inj=m.cJS({imports:[ra,FN,Gs.hO.initializeApp(VN_firebaseConfig),NN]})}return n})();al().bootstrapModule(BN).catch(n=>console.error(n))},9751:(mt,Se,k)=>{k.d(Se,{y:()=>we});var m=k(2961),Y=k(727),O=k(8822),re=k(9635),ie=k(2416),se=k(576),ge=k(2806);let we=(()=>{class q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const qe=new q;return qe.source=this,qe.operator=Te,qe}subscribe(Te,qe,ot){const fe=function B(q){return q&&q instanceof m.Lv||function j(q){return q&&(0,se.m)(q.next)&&(0,se.m)(q.error)&&(0,se.m)(q.complete)}(q)&&(0,Y.Nn)(q)}(Te)?Te:new m.Hp(Te,qe,ot);return(0,ge.x)(()=>{const{operator:Me,source:Re}=this;fe.add(Me?Me.call(fe,Re):Re?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(qe){Te.error(qe)}}forEach(Te,qe){return new(qe=he(qe))((ot,fe)=>{const Me=new m.Hp({next:Re=>{try{Te(Re)}catch(Be){fe(Be),Me.unsubscribe()}},error:fe,complete:ot});this.subscribe(Me)})}_subscribe(Te){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Te)}[O.L](){return this}pipe(...Te){return(0,re.U)(Te)(this)}toPromise(Te){return new(Te=he(Te))((qe,ot)=>{let fe;this.subscribe(Me=>fe=Me,Me=>ot(Me),()=>qe(fe))})}}return q.create=je=>new q(je),q})();function he(q){var je;return null!==(je=q??ie.v.Promise)&&void 0!==je?je:Promise}},7579:(mt,Se,k)=>{k.d(Se,{x:()=>ge});var m=k(9751),Y=k(727);const re=(0,k(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),se=k(2806);let ge=(()=>{class he extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const q=new we(this,this);return q.operator=B,q}_throwIfClosed(){if(this.closed)throw new re}next(B){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(B)}})}error(B){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:q}=this;for(;q.length;)q.shift().error(B)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:q,isStopped:je,observers:Te}=this;return q||je?Y.Lc:(this.currentObservers=null,Te.push(B),new Y.w0(()=>{this.currentObservers=null,(0,ie.P)(Te,B)}))}_checkFinalizedStatuses(B){const{hasError:q,thrownError:je,isStopped:Te}=this;q?B.error(je):Te&&B.complete()}asObservable(){const B=new m.y;return B.source=this,B}}return he.create=(j,B)=>new we(j,B),he})();class we extends ge{constructor(j,B){super(),this.destination=j,this.source=B}next(j){var B,q;null===(q=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===q||q.call(B,j)}error(j){var B,q;null===(q=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===q||q.call(B,j)}complete(){var j,B;null===(B=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===B||B.call(j)}_subscribe(j){var B,q;return null!==(q=null===(B=this.source)||void 0===B?void 0:B.subscribe(j))&&void 0!==q?q:Y.Lc}}},2961:(mt,Se,k)=>{k.d(Se,{Hp:()=>ot,Lv:()=>q});var m=k(576),Y=k(727),O=k(2416),re=k(7849);function ie(){}const se=he("C",void 0,void 0);function he(Pe,Ie,Ee){return{kind:Pe,value:Ie,error:Ee}}var j=k(3410),B=k(2806);class q extends Y.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,Y.Nn)(Ie)&&Ie.add(this)):this.destination=Be}static create(Ie,Ee,ze){return new ot(Ie,Ee,ze)}next(Ie){this.isStopped?Re(function we(Pe){return he("N",Pe,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Re(function ge(Pe){return he("E",void 0,Pe)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Re(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Te(Pe,Ie){return je.call(Pe,Ie)}class qe{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ie)}catch(ze){fe(ze)}}error(Ie){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ie)}catch(ze){fe(ze)}else fe(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ee){fe(Ee)}}}class ot extends q{constructor(Ie,Ee,ze){let Oe;if(super(),(0,m.m)(Ie)||!Ie)Oe={next:Ie??void 0,error:Ee??void 0,complete:ze??void 0};else{let tt;this&&O.v.useDeprecatedNextContext?(tt=Object.create(Ie),tt.unsubscribe=()=>this.unsubscribe(),Oe={next:Ie.next&&Te(Ie.next,tt),error:Ie.error&&Te(Ie.error,tt),complete:Ie.complete&&Te(Ie.complete,tt)}):Oe=Ie}this.destination=new qe(Oe)}}function fe(Pe){O.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Pe):(0,re.h)(Pe)}function Re(Pe,Ie){const{onStoppedNotification:Ee}=O.v;Ee&&j.z.setTimeout(()=>Ee(Pe,Ie))}const Be={closed:!0,next:ie,error:function Me(Pe){throw Pe},complete:ie}},727:(mt,Se,k)=>{k.d(Se,{Lc:()=>se,w0:()=>ie,Nn:()=>ge});var m=k(576);const O=(0,k(3888).d)(he=>function(B){he(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((q,je)=>`${je+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var re=k(8737);class ie{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Te of B)Te.remove(this);else B.remove(this);const{initialTeardown:q}=this;if((0,m.m)(q))try{q()}catch(Te){j=Te instanceof O?Te.errors:[Te]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Te of je)try{we(Te)}catch(qe){j=j??[],qe instanceof O?j=[...j,...qe.errors]:j.push(qe)}}if(j)throw new O(j)}}add(j){var B;if(j&&j!==this)if(this.closed)we(j);else{if(j instanceof ie){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(j)}}_hasParent(j){const{_parentage:B}=this;return B===j||Array.isArray(B)&&B.includes(j)}_addParent(j){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(j),B):B?[B,j]:j}_removeParent(j){const{_parentage:B}=this;B===j?this._parentage=null:Array.isArray(B)&&(0,re.P)(B,j)}remove(j){const{_finalizers:B}=this;B&&(0,re.P)(B,j),j instanceof ie&&j._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const se=ie.EMPTY;function ge(he){return he instanceof ie||he&&"closed"in he&&(0,m.m)(he.remove)&&(0,m.m)(he.add)&&(0,m.m)(he.unsubscribe)}function we(he){(0,m.m)(he)?he():he.unsubscribe()}},2416:(mt,Se,k)=>{k.d(Se,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Se,k)=>{k.d(Se,{E:()=>Y});const Y=new(k(9751).y)(ie=>ie.complete())},8996:(mt,Se,k)=>{k.d(Se,{D:()=>Ie});var m=k(8421),Y=k(5363),O=k(9468),se=k(9751),we=k(2202),he=k(576),j=k(9672);function q(Ee,ze){if(!Ee)throw new Error("Iterable cannot be null");return new se.y(Oe=>{(0,j.f)(Oe,ze,()=>{const tt=Ee[Symbol.asyncIterator]();(0,j.f)(Oe,ze,()=>{tt.next().then(ne=>{ne.done?Oe.complete():Oe.next(ne.value)})},0,!0)})})}var je=k(3670),Te=k(8239),qe=k(1144),ot=k(6495),fe=k(2206),Me=k(4532),Re=k(3260);function Ie(Ee,ze){return ze?function Pe(Ee,ze){if(null!=Ee){if((0,je.c)(Ee))return function re(Ee,ze){return(0,m.Xf)(Ee).pipe((0,O.R)(ze),(0,Y.Q)(ze))}(Ee,ze);if((0,qe.z)(Ee))return function ge(Ee,ze){return new se.y(Oe=>{let tt=0;return ze.schedule(function(){tt===Ee.length?Oe.complete():(Oe.next(Ee[tt++]),Oe.closed||this.schedule())})})}(Ee,ze);if((0,Te.t)(Ee))return function ie(Ee,ze){return(0,m.Xf)(Ee).pipe((0,O.R)(ze),(0,Y.Q)(ze))}(Ee,ze);if((0,fe.D)(Ee))return q(Ee,ze);if((0,ot.T)(Ee))return function B(Ee,ze){return new se.y(Oe=>{let tt;return(0,j.f)(Oe,ze,()=>{tt=Ee[we.h](),(0,j.f)(Oe,ze,()=>{let ne,Et;try{({value:ne,done:Et}=tt.next())}catch(Je){return void Oe.error(Je)}Et?Oe.complete():Oe.next(ne)},0,!0)}),()=>(0,he.m)(tt?.return)&&tt.return()})}(Ee,ze);if((0,Re.L)(Ee))return function Be(Ee,ze){return q((0,Re.Q)(Ee),ze)}(Ee,ze)}throw(0,Me.z)(Ee)}(Ee,ze):(0,m.Xf)(Ee)}},8421:(mt,Se,k)=>{k.d(Se,{Xf:()=>je});var m=k(7582),Y=k(1144),O=k(8239),re=k(9751),ie=k(3670),se=k(2206),ge=k(4532),we=k(6495),he=k(3260),j=k(576),B=k(7849),q=k(8822);function je(Pe){if(Pe instanceof re.y)return Pe;if(null!=Pe){if((0,ie.c)(Pe))return function Te(Pe){return new re.y(Ie=>{const Ee=Pe[q.L]();if((0,j.m)(Ee.subscribe))return Ee.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,Y.z)(Pe))return function qe(Pe){return new re.y(Ie=>{for(let Ee=0;Ee<Pe.length&&!Ie.closed;Ee++)Ie.next(Pe[Ee]);Ie.complete()})}(Pe);if((0,O.t)(Pe))return function ot(Pe){return new re.y(Ie=>{Pe.then(Ee=>{Ie.closed||(Ie.next(Ee),Ie.complete())},Ee=>Ie.error(Ee)).then(null,B.h)})}(Pe);if((0,se.D)(Pe))return Me(Pe);if((0,we.T)(Pe))return function fe(Pe){return new re.y(Ie=>{for(const Ee of Pe)if(Ie.next(Ee),Ie.closed)return;Ie.complete()})}(Pe);if((0,he.L)(Pe))return function Re(Pe){return Me((0,he.Q)(Pe))}(Pe)}throw(0,ge.z)(Pe)}function Me(Pe){return new re.y(Ie=>{(function Be(Pe,Ie){var Ee,ze,Oe,tt;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,m.KL)(Pe);!(ze=yield Ee.next()).done;)if(Ie.next(ze.value),Ie.closed)return}catch(ne){Oe={error:ne}}finally{try{ze&&!ze.done&&(tt=Ee.return)&&(yield tt.call(Ee))}finally{if(Oe)throw Oe.error}}Ie.complete()})})(Pe,Ie).catch(Ee=>Ie.error(Ee))})}},6451:(mt,Se,k)=>{k.d(Se,{T:()=>se});var m=k(8189),Y=k(8421),O=k(515),re=k(7669),ie=k(8996);function se(...ge){const we=(0,re.yG)(ge),he=(0,re._6)(ge,1/0),j=ge;return j.length?1===j.length?(0,Y.Xf)(j[0]):(0,m.J)(he)((0,ie.D)(j,we)):O.E}},5403:(mt,Se,k)=>{k.d(Se,{x:()=>Y});var m=k(2961);function Y(re,ie,se,ge,we){return new O(re,ie,se,ge,we)}class O extends m.Lv{constructor(ie,se,ge,we,he,j){super(ie),this.onFinalize=he,this.shouldUnsubscribe=j,this._next=se?function(B){try{se(B)}catch(q){ie.error(q)}}:super._next,this._error=we?function(B){try{we(B)}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(B){ie.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(mt,Se,k)=>{k.d(Se,{U:()=>O});var m=k(4482),Y=k(5403);function O(re,ie){return(0,m.e)((se,ge)=>{let we=0;se.subscribe((0,Y.x)(ge,he=>{ge.next(re.call(ie,he,we++))}))})}},8189:(mt,Se,k)=>{k.d(Se,{J:()=>O});var m=k(5577),Y=k(4671);function O(re=1/0){return(0,m.z)(Y.y,re)}},5577:(mt,Se,k)=>{k.d(Se,{z:()=>we});var m=k(4004),Y=k(8421),O=k(4482),re=k(9672),ie=k(5403),ge=k(576);function we(he,j,B=1/0){return(0,ge.m)(j)?we((q,je)=>(0,m.U)((Te,qe)=>j(q,Te,je,qe))((0,Y.Xf)(he(q,je))),B):("number"==typeof j&&(B=j),(0,O.e)((q,je)=>function se(he,j,B,q,je,Te,qe,ot){const fe=[];let Me=0,Re=0,Be=!1;const Pe=()=>{Be&&!fe.length&&!Me&&j.complete()},Ie=ze=>Me<q?Ee(ze):fe.push(ze),Ee=ze=>{Te&&j.next(ze),Me++;let Oe=!1;(0,Y.Xf)(B(ze,Re++)).subscribe((0,ie.x)(j,tt=>{je?.(tt),Te?Ie(tt):j.next(tt)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Me--;fe.length&&Me<q;){const tt=fe.shift();qe?(0,re.f)(j,qe,()=>Ee(tt)):Ee(tt)}Pe()}catch(tt){j.error(tt)}}))};return he.subscribe((0,ie.x)(j,Ie,()=>{Be=!0,Pe()})),()=>{ot?.()}}(q,je,he,B)))}},5363:(mt,Se,k)=>{k.d(Se,{Q:()=>re});var m=k(9672),Y=k(4482),O=k(5403);function re(ie,se=0){return(0,Y.e)((ge,we)=>{ge.subscribe((0,O.x)(we,he=>(0,m.f)(we,ie,()=>we.next(he),se),()=>(0,m.f)(we,ie,()=>we.complete(),se),he=>(0,m.f)(we,ie,()=>we.error(he),se)))})}},3099:(mt,Se,k)=>{k.d(Se,{B:()=>ie});var m=k(8421),Y=k(7579),O=k(2961),re=k(4482);function ie(ge={}){const{connector:we=(()=>new Y.x),resetOnError:he=!0,resetOnComplete:j=!0,resetOnRefCountZero:B=!0}=ge;return q=>{let je,Te,qe,ot=0,fe=!1,Me=!1;const Re=()=>{Te?.unsubscribe(),Te=void 0},Be=()=>{Re(),je=qe=void 0,fe=Me=!1},Pe=()=>{const Ie=je;Be(),Ie?.unsubscribe()};return(0,re.e)((Ie,Ee)=>{ot++,!Me&&!fe&&Re();const ze=qe=qe??we();Ee.add(()=>{ot--,0===ot&&!Me&&!fe&&(Te=se(Pe,B))}),ze.subscribe(Ee),!je&&ot>0&&(je=new O.Hp({next:Oe=>ze.next(Oe),error:Oe=>{Me=!0,Re(),Te=se(Be,he,Oe),ze.error(Oe)},complete:()=>{fe=!0,Re(),Te=se(Be,j),ze.complete()}}),(0,m.Xf)(Ie).subscribe(je))})(q)}}function se(ge,we,...he){if(!0===we)return void ge();if(!1===we)return;const j=new O.Hp({next:()=>{j.unsubscribe(),ge()}});return(0,m.Xf)(we(...he)).subscribe(j)}},9468:(mt,Se,k)=>{k.d(Se,{R:()=>Y});var m=k(4482);function Y(O,re=0){return(0,m.e)((ie,se)=>{se.add(O.schedule(()=>ie.subscribe(se),re))})}},8505:(mt,Se,k)=>{k.d(Se,{b:()=>ie});var m=k(576),Y=k(4482),O=k(5403),re=k(4671);function ie(se,ge,we){const he=(0,m.m)(se)||ge||we?{next:se,error:ge,complete:we}:se;return he?(0,Y.e)((j,B)=>{var q;null===(q=he.subscribe)||void 0===q||q.call(he);let je=!0;j.subscribe((0,O.x)(B,Te=>{var qe;null===(qe=he.next)||void 0===qe||qe.call(he,Te),B.next(Te)},()=>{var Te;je=!1,null===(Te=he.complete)||void 0===Te||Te.call(he),B.complete()},Te=>{var qe;je=!1,null===(qe=he.error)||void 0===qe||qe.call(he,Te),B.error(Te)},()=>{var Te,qe;je&&(null===(Te=he.unsubscribe)||void 0===Te||Te.call(he)),null===(qe=he.finalize)||void 0===qe||qe.call(he)}))}):re.y}},4408:(mt,Se,k)=>{k.d(Se,{o:()=>ie});var m=k(727);class Y extends m.w0{constructor(ge,we){super()}schedule(ge,we=0){return this}}const O={setInterval(se,ge,...we){const{delegate:he}=O;return he?.setInterval?he.setInterval(se,ge,...we):setInterval(se,ge,...we)},clearInterval(se){const{delegate:ge}=O;return(ge?.clearInterval||clearInterval)(se)},delegate:void 0};var re=k(8737);class ie extends Y{constructor(ge,we){super(ge,we),this.scheduler=ge,this.work=we,this.pending=!1}schedule(ge,we=0){var he;if(this.closed)return this;this.state=ge;const j=this.id,B=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(B,j,we)),this.pending=!0,this.delay=we,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(B,this.id,we),this}requestAsyncId(ge,we,he=0){return O.setInterval(ge.flush.bind(ge,this),he)}recycleAsyncId(ge,we,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(ge,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ge,we);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,we){let j,he=!1;try{this.work(ge)}catch(B){he=!0,j=B||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ge,scheduler:we}=this,{actions:he}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(he,this),null!=ge&&(this.id=this.recycleAsyncId(we,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Se,k)=>{k.d(Se,{v:()=>O});var m=k(6063);class Y{constructor(ie,se=Y.now){this.schedulerActionCtor=ie,this.now=se}schedule(ie,se=0,ge){return new this.schedulerActionCtor(this,ie).schedule(ge,se)}}Y.now=m.l.now;class O extends Y{constructor(ie,se=Y.now){super(ie,se),this.actions=[],this._active=!1}flush(ie){const{actions:se}=this;if(this._active)return void se.push(ie);let ge;this._active=!0;do{if(ge=ie.execute(ie.state,ie.delay))break}while(ie=se.shift());if(this._active=!1,ge){for(;ie=se.shift();)ie.unsubscribe();throw ge}}}},4986:(mt,Se,k)=>{k.d(Se,{z:()=>O});var m=k(4408);const O=new(k(7565).v)(m.o)},6063:(mt,Se,k)=>{k.d(Se,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(mt,Se,k)=>{k.d(Se,{z:()=>m});const m={setTimeout(Y,O,...re){const{delegate:ie}=m;return ie?.setTimeout?ie.setTimeout(Y,O,...re):setTimeout(Y,O,...re)},clearTimeout(Y){const{delegate:O}=m;return(O?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(mt,Se,k)=>{k.d(Se,{h:()=>Y});const Y=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Se,k)=>{k.d(Se,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(mt,Se,k)=>{k.d(Se,{_6:()=>se,jO:()=>re,yG:()=>ie});var m=k(576);function O(ge){return ge[ge.length-1]}function re(ge){return(0,m.m)(O(ge))?ge.pop():void 0}function ie(ge){return function Y(ge){return ge&&(0,m.m)(ge.schedule)}(O(ge))?ge.pop():void 0}function se(ge,we){return"number"==typeof O(ge)?ge.pop():we}},8737:(mt,Se,k)=>{function m(Y,O){if(Y){const re=Y.indexOf(O);0<=re&&Y.splice(re,1)}}k.d(Se,{P:()=>m})},3888:(mt,Se,k)=>{function m(Y){const re=Y(ie=>{Error.call(ie),ie.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(Se,{d:()=>m})},2806:(mt,Se,k)=>{k.d(Se,{O:()=>re,x:()=>O});var m=k(2416);let Y=null;function O(ie){if(m.v.useDeprecatedSynchronousErrorHandling){const se=!Y;if(se&&(Y={errorThrown:!1,error:null}),ie(),se){const{errorThrown:ge,error:we}=Y;if(Y=null,ge)throw we}}else ie()}function re(ie){m.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ie)}},9672:(mt,Se,k)=>{function m(Y,O,re,ie=0,se=!1){const ge=O.schedule(function(){re(),se?Y.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Y.add(ge),!se)return ge}k.d(Se,{f:()=>m})},4671:(mt,Se,k)=>{function m(Y){return Y}k.d(Se,{y:()=>m})},1144:(mt,Se,k)=>{k.d(Se,{z:()=>m});const m=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(mt,Se,k)=>{k.d(Se,{D:()=>Y});var m=k(576);function Y(O){return Symbol.asyncIterator&&(0,m.m)(O?.[Symbol.asyncIterator])}},576:(mt,Se,k)=>{function m(Y){return"function"==typeof Y}k.d(Se,{m:()=>m})},3670:(mt,Se,k)=>{k.d(Se,{c:()=>O});var m=k(8822),Y=k(576);function O(re){return(0,Y.m)(re[m.L])}},6495:(mt,Se,k)=>{k.d(Se,{T:()=>O});var m=k(2202),Y=k(576);function O(re){return(0,Y.m)(re?.[m.h])}},8239:(mt,Se,k)=>{k.d(Se,{t:()=>Y});var m=k(576);function Y(O){return(0,m.m)(O?.then)}},3260:(mt,Se,k)=>{k.d(Se,{L:()=>re,Q:()=>O});var m=k(7582),Y=k(576);function O(ie){return(0,m.FC)(this,arguments,function*(){const ge=ie.getReader();try{for(;;){const{value:we,done:he}=yield(0,m.qq)(ge.read());if(he)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(we)}}finally{ge.releaseLock()}})}function re(ie){return(0,Y.m)(ie?.getReader)}},4482:(mt,Se,k)=>{k.d(Se,{A:()=>Y,e:()=>O});var m=k(576);function Y(re){return(0,m.m)(re?.lift)}function O(re){return ie=>{if(Y(ie))return ie.lift(function(se){try{return re(se,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(mt,Se,k)=>{k.d(Se,{U:()=>O,z:()=>Y});var m=k(4671);function Y(...re){return O(re)}function O(re){return 0===re.length?m.y:1===re.length?re[0]:function(se){return re.reduce((ge,we)=>we(ge),se)}}},7849:(mt,Se,k)=>{k.d(Se,{h:()=>O});var m=k(2416),Y=k(3410);function O(re){Y.z.setTimeout(()=>{const{onUnhandledError:ie}=m.v;if(!ie)throw re;ie(re)})}},4532:(mt,Se,k)=>{function m(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>m})},4650:(mt,Se,k)=>{k.d(Se,{$8M:()=>na,$WT:()=>dr,$Z:()=>dw,AFp:()=>nn,AaK:()=>we,CHM:()=>Pa,CRH:()=>va,CZH:()=>Xn,CqO:()=>sm,D6c:()=>gE,EJc:()=>qp,EpF:()=>Ch,F4k:()=>Nw,FYo:()=>Jy,FiY:()=>Wa,Gf:()=>F_,GfV:()=>G0,JOm:()=>vt,KtG:()=>Na,LFG:()=>tn,Lbi:()=>QI,Lck:()=>E_,MMx:()=>En,NdJ:()=>Th,OlP:()=>Zt,P3R:()=>sh,PXZ:()=>qC,Q6J:()=>Dh,QGY:()=>im,Qsj:()=>sD,R0b:()=>dn,RDi:()=>Ag,Rgc:()=>Wt,SBq:()=>dh,Sil:()=>eE,Suo:()=>U_,TTD:()=>Zc,TgZ:()=>fp,Udp:()=>Jv,X6Q:()=>lE,XFs:()=>pt,Xpm:()=>Ni,Xts:()=>$y,Y36:()=>mh,YKP:()=>AI,YNc:()=>xi,Yjl:()=>jt,Yz7:()=>ut,Z0I:()=>Dn,ZZ4:()=>wa,_UZ:()=>zl,_Vd:()=>lh,_c5:()=>pE,_uU:()=>Mh,aQg:()=>_u,c2e:()=>JI,cJS:()=>ft,cg1:()=>Nh,dDg:()=>zC,dqk:()=>Jt,eFA:()=>a0,eJc:()=>ad,eoX:()=>oE,f3M:()=>On,g9A:()=>Gp,h0i:()=>td,hGG:()=>eT,iGM:()=>Lp,ifc:()=>ye,ip1:()=>YI,jDz:()=>Zr,kL8:()=>Yl,lG2:()=>wt,lqb:()=>Ll,lri:()=>r0,n5z:()=>Ku,oAB:()=>X,oxw:()=>bh,q4F:()=>q0,qLn:()=>Zf,qZA:()=>pp,rWj:()=>s0,sBO:()=>eg,s_b:()=>kp,soG:()=>Fc,tb:()=>aE,tp0:()=>Dt,uIk:()=>Ih,vHH:()=>fe,vpe:()=>qi,wAp:()=>Ct,xp6:()=>rw,z2F:()=>Jp,zSh:()=>yc,zs3:()=>fh});var m=k(7579),Y=k(727),O=k(9751),re=k(6451),ie=k(3099);function se(i){for(let o in i)if(i[o]===se)return o;throw Error("Could not find renamed property on target object.")}function we(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(we).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function he(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const j=se({__forward_ref__:se});function B(i){return i.__forward_ref__=B,i.toString=function(){return we(this())},i}function q(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===B}function Te(i){return i&&!!i.\u0275providers}const ot="https://g.co/ng/security#xss";class fe extends Error{constructor(o,a){super(Me(o,a)),this.code=o}}function Me(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function Re(i){return"string"==typeof i?i:null==i?"":String(i)}function ze(i,o){throw new fe(-201,!1)}function pe(i,o){null==i&&function oe(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function ut(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ft(i){return{providers:i.providers||[],imports:i.imports||[]}}function qt(i){return gn(i,Nn)||gn(i,Qr)}function Dn(i){return null!==qt(i)}function gn(i,o){return i.hasOwnProperty(o)?i[o]:null}function cr(i){return i&&(i.hasOwnProperty(Br)||i.hasOwnProperty(Sr))?i[Br]:null}const Nn=se({\u0275prov:se}),Br=se({\u0275inj:se}),Qr=se({ngInjectableDef:se}),Sr=se({ngInjectorDef:se});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Jr;function _r(i){const o=Jr;return Jr=i,o}function jr(i,o,a){const c=qt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&pt.Optional?null:void 0!==o?o:void ze(we(i))}const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fi={},Xr="__NG_DI_FLAG__",lr="ngTempTokenPath",$r="ngTokenPath",Mn=/\n/gm,ei="\u0275",hn="__source";let Ms;function Kt(i){const o=Ms;return Ms=i,o}function Qi(i,o=pt.Default){if(void 0===Ms)throw new fe(-203,!1);return null===Ms?jr(i,void 0,o):Ms.get(i,o&pt.Optional?null:void 0,o)}function tn(i,o=pt.Default){return(function Gc(){return Jr}()||Qi)(q(i),o)}function On(i,o=pt.Default){return tn(i,Gn(o))}function Gn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ri(i){const o=[];for(let a=0;a<i.length;a++){const c=q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let d,p=pt.Default;for(let v=0;v<c.length;v++){const E=c[v],C=Pi(E);"number"==typeof C?-1===C?d=E.token:p|=C:d=E}o.push(tn(d,p))}else o.push(tn(c))}return o}function wn(i,o){return i[Xr]=o,i.prototype[Xr]=o,i}function Pi(i){return i[Xr]}function F(i){return{toString:i}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),ye=(()=>{return(i=ye||(ye={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ye;var i})();const Q={},Le=[],Tt=se({\u0275cmp:se}),Yt=se({\u0275dir:se}),Vn=se({\u0275pipe:se}),Cn=se({\u0275mod:se}),sn=se({\u0275fac:se}),zt=se({__NG_ELEMENT_ID__:se});let Ar=0;function Ni(i){return F(()=>{const o=wu(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||ye.Emulated,id:"c"+Ar++,styles:i.styles||Le,_:null,schemas:i.schemas||null,tView:null};uf(a);const c=i.dependencies;return a.directiveDefs=$o(c,!1),a.pipeDefs=$o(c,!0),a})}function Ea(i){return gt(i)||Xt(i)}function le(i){return null!==i}function X(i){return F(()=>({type:i.type,bootstrap:i.bootstrap||Le,declarations:i.declarations||Le,imports:i.imports||Le,exports:i.exports||Le,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ht(i,o){if(null==i)return Q;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function wt(i){return F(()=>{const o=wu(i);return uf(o),o})}function jt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function gt(i){return i[Tt]||null}function Xt(i){return i[Yt]||null}function Qt(i){return i[Vn]||null}function dr(i){const o=gt(i)||Xt(i)||Qt(i);return null!==o&&o.standalone}function qn(i,o){const a=i[Cn]||null;if(!a&&!0===o)throw new Error(`Type ${we(i)} does not have '\u0275mod' property.`);return a}function wu(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Le,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ht(i.inputs,o),outputs:ht(i.outputs)}}function uf(i){i.features?.forEach(o=>o(i))}function $o(i,o){if(!i)return null;const a=o?Qt:Ea;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(le)}const gi=0,We=1,kt=2,In=3,mi=4,un=5,Wn=6,Da=7,kn=8,Ca=9,Rs=10,Vt=11,Ta=12,eo=13,as=14,to=15,Bn=16,Ho=17,us=18,Xi=19,zo=20,wr=21,mn=22,ba=1,qc=2,Go=7,Ps=8,no=9,hr=10;function ni(i){return Array.isArray(i)&&"object"==typeof i[ba]}function ri(i){return Array.isArray(i)&&!0===i[ba]}function Sa(i){return 0!=(4&i.flags)}function qo(i){return i.componentOffset>-1}function Wc(i){return 1==(1&i.flags)}function yi(i){return!!i.template}function Eu(i){return 0!=(256&i[kt])}function es(i,o){return i.hasOwnProperty(sn)?i[sn]:null}class ro{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Zc(){return Aa}function Aa(i){return i.type.prototype.ngOnChanges&&(i.setInput=Yc),Dd}function Dd(){const i=hf(this),o=i?.current;if(o){const a=i.previous;if(a===Q)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Yc(i,o,a,c){const d=this.declaredInputs[a],p=hf(i)||function Tu(i,o){return i[Ns]=o}(i,{previous:Q,current:null}),v=p.current||(p.current={}),E=p.previous,C=E[d];v[d]=new ro(C&&C.currentValue,o,E===Q),i[c]=o}Zc.ngInherit=!0;const Ns="__ngSimpleChanges__";function hf(i){return i[Ns]||null}const zr=function(i,o,a){};function fr(i){for(;Array.isArray(i);)i=i[gi];return i}function pr(i,o){return fr(o[i.index])}function Td(i,o){return i.data[o]}function rr(i,o){const a=o[i];return ni(a)?a:a[gi]}function hs(i){return 64==(64&i[kt])}function ks(i,o){return null==o?null:i[o]}function Zo(i){i[us]=0}function Ma(i,o){i[un]+=o;let a=i,c=i[In];for(;null!==c&&(1===o&&1===a[un]||-1===o&&0===a[un]);)c[un]+=o,a=c,c=c[In]}const Rt={lFrame:Xc(null),bindingsEnabled:!0};function xu(){return Rt.bindingsEnabled}function de(){return Rt.lFrame.lView}function Lt(){return Rt.lFrame.tView}function Pa(i){return Rt.lFrame.contextLView=i,i[kn]}function Na(i){return Rt.lFrame.contextLView=null,i}function ir(){let i=io();for(;null!==i&&64===i.type;)i=i.parent;return i}function io(){return Rt.lFrame.currentTNode}function Gr(i,o){const a=Rt.lFrame;a.currentTNode=i,a.isParent=o}function Md(){return Rt.lFrame.isParent}function so(){return Rt.lFrame.bindingIndex++}function Pu(i,o){const a=Rt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Zn(o)}function Zn(i){Rt.lFrame.currentDirectiveIndex=i}function Jc(){return Rt.lFrame.currentQueryIndex}function Nu(i){Rt.lFrame.currentQueryIndex=i}function Pd(i){const o=i[We];return 2===o.type?o.declTNode:1===o.type?i[Wn]:null}function Ou(i,o,a){if(a&pt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&pt.Host||(d=Pd(p),null===d||(p=p[to],10&d.type))););if(null===d)return!1;o=d,i=p}const c=Rt.lFrame=La();return c.currentTNode=o,c.lView=i,!0}function ku(i){const o=La(),a=i[We];Rt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function La(){const i=Rt.lFrame,o=null===i?null:i.child;return null===o?Xc(i):o}function Xc(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Fa(){const i=Rt.lFrame;return Rt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Nd=Fa;function Lu(){const i=Fa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return Rt.lFrame.selectedIndex}function ps(i){Rt.lFrame.selectedIndex=i}function Tn(){const i=Rt.lFrame;return Td(i.tView,i.selectedIndex)}function Vu(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:R}=p;v&&(i.contentHooks??(i.contentHooks=[])).push(-a,v),E&&((i.contentHooks??(i.contentHooks=[])).push(a,E),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,E)),C&&(i.viewHooks??(i.viewHooks=[])).push(-a,C),x&&((i.viewHooks??(i.viewHooks=[])).push(a,x),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,x)),null!=R&&(i.destroyHooks??(i.destroyHooks=[])).push(a,R)}}function el(i,o,a){nl(i,o,3,a)}function tl(i,o,a,c){(3&i[kt])===a&&nl(i,o,a,c)}function kd(i,o){let a=i[kt];(3&a)===o&&(a&=2047,a+=1,i[kt]=a)}function nl(i,o,a,c){const p=c??-1,v=o.length-1;let E=0;for(let C=void 0!==c?65535&i[us]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(i[us]+=65536),(E<p||-1==p)&&(Qo(i,a,o,C),i[us]=(4294901760&i[us])+C+2),C++}function Qo(i,o,a,c){const d=a[c]<0,p=a[c+1],E=i[d?-a[c]:a[c]];if(d){if(i[kt]>>11<i[us]>>16&&(3&i[kt])===o){i[kt]+=2048,zr(4,E,p);try{p.call(E)}finally{zr(5,E,p)}}}else{zr(4,E,p);try{p.call(E)}finally{zr(5,E,p)}}}const Jo=-1;class gs{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Xo(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],v=a[c++],E=a[c++];i.setAttribute(o,v,E,p)}else{const p=d,v=a[++c];co(p)?i.setProperty(o,p,v):i.setAttribute(o,p,v),c++}}return c}function rl(i){return 3===i||4===i||6===i}function co(i){return 64===i.charCodeAt(0)}function lo(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||$u(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function $u(i,o,a,c,d){let p=0,v=i.length;if(-1===o)v=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==v&&(i.splice(v,0,o),p=v+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function ho(i){return i!==Jo}function Ls(i){return 32767&i}function fo(i,o){let a=function Ld(i){return i>>16}(i),c=o;for(;a>0;)c=c[to],a--;return c}let Hu=!0;function Va(i){const o=Hu;return Hu=i,o}const zu=255,Fd=5;let po=0;const ki={};function il(i,o){const a=ta(i,o);if(-1!==a)return a;const c=o[We];c.firstCreatePass&&(i.injectorIndex=o.length,ea(c.data,i),ea(o,null),ea(c.blueprint,null));const d=Ud(i,o),p=i.injectorIndex;if(ho(d)){const v=Ls(d),E=fo(d,o),C=E[We].data;for(let x=0;x<8;x++)o[p+x]=E[v+x]|C[v+x]}return o[p+8]=d,p}function ea(i,o){i.push(0,0,0,0,0,0,0,0,o)}function ta(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ud(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=$a(d),null===c)return Jo;if(a++,d=d[to],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Jo}function fn(i,o,a){!function ms(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(zt)&&(c=a[zt]),null==c&&(c=a[zt]=po++);const d=c&zu;o.data[i+(d>>Fd)]|=1<<d}(i,o,a)}function Gu(i,o,a){if(a&pt.Optional||void 0!==i)return i;ze()}function sl(i,o,a,c){if(a&pt.Optional&&void 0===c&&(c=null),!(a&(pt.Self|pt.Host))){const d=i[Ca],p=_r(void 0);try{return d?d.get(o,c,a&pt.Optional):jr(o,c,a&pt.Optional)}finally{_r(p)}}return Gu(c,0,a)}function qu(i,o,a,c=pt.Default,d){if(null!==i){if(1024&o[kt]){const v=function al(i,o,a,c,d){let p=i,v=o;for(;null!==p&&null!==v&&1024&v[kt]&&!(256&v[kt]);){const E=Wu(p,v,a,c|pt.Self,ki);if(E!==ki)return E;let C=p.parent;if(!C){const x=v[wr];if(x){const R=x.get(a,ki,c);if(R!==ki)return R}C=$a(v),v=v[to]}p=C}return d}(i,o,a,c,ki);if(v!==ki)return v}const p=Wu(i,o,a,c,ki);if(p!==ki)return p}return sl(o,a,c,d)}function Wu(i,o,a,c,d){const p=function ol(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(zt)?i[zt]:void 0;return"number"==typeof o?o>=0?o&zu:vf:o}(a);if("function"==typeof p){if(!Ou(o,i,c))return c&pt.Host?Gu(d,0,c):sl(o,a,c,d);try{const v=p(c);if(null!=v||c&pt.Optional)return v;ze()}finally{Nd()}}else if("number"==typeof p){let v=null,E=ta(i,o),C=Jo,x=c&pt.Host?o[Bn][Wn]:null;for((-1===E||c&pt.SkipSelf)&&(C=-1===E?Ud(i,o):o[E+8],C!==Jo&&ja(c,!1)?(v=o[We],E=Ls(C),o=fo(C,o)):E=-1);-1!==E;){const R=o[We];if(Ba(p,E,R.data)){const L=sr(E,o,a,v,c,x);if(L!==ki)return L}C=o[E+8],C!==Jo&&ja(c,o[We].data[E+8]===x)&&Ba(p,E,o)?(v=R,E=Ls(C),o=fo(C,o)):E=-1}}return d}function sr(i,o,a,c,d,p){const v=o[We],E=v.data[i+8],R=go(E,v,a,null==c?qo(E)&&Hu:c!=v&&0!=(3&E.type),d&pt.Host&&p===E);return null!==R?jn(o,v,R,E):ki}function go(i,o,a,c,d){const p=i.providerIndexes,v=o.data,E=1048575&p,C=i.directiveStart,R=p>>20,z=d?E+R:i.directiveEnd;for(let J=c?E:E+R;J<z;J++){const ve=v[J];if(J<C&&a===ve||J>=C&&ve.type===a)return J}if(d){const J=v[C];if(J&&yi(J)&&J.type===a)return C}return null}function jn(i,o,a,c){let d=i[a];const p=o.data;if(function Ig(i){return i instanceof gs}(d)){const v=d;v.resolving&&function Pe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new fe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Re(i)}(p[a]));const E=Va(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?_r(v.injectImpl):null;Ou(i,c,pt.Default);try{d=i[a]=v.factory(void 0,p,i,c),o.firstCreatePass&&a>=c.directiveStart&&function wg(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const v=Aa(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,v)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==C&&_r(C),Va(E),v.resolving=!1,Nd()}}return d}function Ba(i,o,a){return!!(a[o+(i>>Fd)]&1<<i)}function ja(i,o){return!(i&pt.Self||i&pt.Host&&o)}class ys{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return qu(this._tNode,this._lView,o,Gn(c),a)}}function vf(){return new ys(ir(),de())}function Ku(i){return F(()=>{const o=i.prototype.constructor,a=o[sn]||mo(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[sn]||mo(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function mo(i){return je(i)?()=>{const o=mo(q(i));return o&&o()}:es(i)}function $a(i){const o=i[We],a=o.type;return 2===a?o.declTNode:1===a?i[Wn]:null}function na(i){return function Vd(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(rl(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(ir(),i)}const ra="__parameters__";function vo(i,o,a){return F(()=>{const c=function yo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const v=new d(...p);return E.annotation=v,E;function E(C,x,R){const L=C.hasOwnProperty(ra)?C[ra]:Object.defineProperty(C,ra,{value:[]})[ra];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Zt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ut({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ns(i,o){i.forEach(a=>Array.isArray(a)?ns(a,o):o(a))}function Df(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function wo(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function qr(i,o,a){let c=Ii(i,o);return c>=0?i[1|c]=a:(c=~c,function dl(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function cn(i,o){const a=Ii(i,o);if(a>=0)return i[1|a]}function Ii(i,o){return function Rr(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),v=i[p<<a];if(o===v)return p<<a;v>o?d=p:c=p+1}return~(d<<a)}(i,o,1)}const Wa=wn(vo("Optional"),8),Dt=wn(vo("SkipSelf"),4);var vt=(()=>((vt=vt||{})[vt.Important=1]="Important",vt[vt.DashCase=2]="DashCase",vt))();const zd=new Map;let ji=0;const W="__ngContext__";function te(i,o){ni(o)?(i[W]=o[zo],function qd(i){zd.set(i[zo],i)}(o)):i[W]=o}let $i;function Bs(i,o){return $i(i,o)}function Il(i){const o=i[In];return ri(o)?o[In]:o}function El(i){return xf(i[eo])}function Mo(i){return xf(i[mi])}function xf(i){for(;null!==i&&!ri(i);)i=i[mi];return i}function Ro(i,o,a,c,d){if(null!=c){let p,v=!1;ri(c)?p=c:ni(c)&&(v=!0,c=c[gi]);const E=fr(c);0===i&&null!==a?null==d?Cl(o,a,E):aa(o,a,E,d||null,!0):1===i&&null!==a?aa(o,a,E,d||null,!0):2===i?function Nf(i,o,a){const c=Po(i,o);c&&function Tl(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,E,v):3===i&&o.destroyNode(E),null!=p&&function xl(i,o,a,c,d){const p=a[Go];p!==fr(a)&&Ro(o,i,c,p,d);for(let E=hr;E<a.length;E++){const C=a[E];Al(C[We],C,i,o,c,p)}}(o,i,p,a,d)}}function Rf(i,o,a){return i.createElement(o,a)}function Tg(i,o){const a=i[no],c=a.indexOf(o),d=o[In];512&o[kt]&&(o[kt]&=-513,Ma(d,-1)),a.splice(c,1)}function Dl(i,o){if(i.length<=hr)return;const a=hr+o,c=i[a];if(c){const d=c[Ho];null!==d&&d!==i&&Tg(d,c),o>0&&(i[a-1][mi]=c[mi]);const p=wo(i,hr+o);!function Sy(i,o){Al(i,o,o[Vt],2,null,null),o[gi]=null,o[Wn]=null}(c[We],c);const v=p[Xi];null!==v&&v.detachView(p[We]),c[In]=null,c[mi]=null,c[kt]&=-65}return c}function Zd(i,o){if(!(128&o[kt])){const a=o[Vt];a.destroyNode&&Al(i,o,a,3,null,null),function L0(i){let o=i[eo];if(!o)return oa(i[We],i);for(;o;){let a=null;if(ni(o))a=o[eo];else{const c=o[hr];c&&(a=c)}if(!a){for(;o&&!o[mi]&&o!==i;)ni(o)&&oa(o[We],o),o=o[In];null===o&&(o=i),ni(o)&&oa(o[We],o),a=o&&o[mi]}o=a}}(o)}}function oa(i,o){if(!(128&o[kt])){o[kt]&=-65,o[kt]|=128,function eu(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof gs)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const E=d[p[v]],C=p[v+1];zr(4,E,C);try{C.call(E)}finally{zr(5,E,C)}}else{zr(4,d,p);try{p.call(d)}finally{zr(5,d,p)}}}}}(i,o),function xy(i,o){const a=i.cleanup,c=o[Da];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+3];v>=0?c[d=v]():c[d=-v].unsubscribe(),p+=2}else{const v=c[d=a[p+1]];a[p].call(v)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[Da]=null}}(i,o),1===o[We].type&&o[Vt].destroy();const a=o[Ho];if(null!==a&&ri(o[In])){a!==o[In]&&Tg(a,o);const c=o[Xi];null!==c&&c.detachView(i)}!function I(i){zd.delete(i[zo])}(o)}}function lc(i,o,a){return function My(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[gi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===ye.None||p===ye.Emulated)return null}return pr(c,a)}}(i,o.parent,a)}function aa(i,o,a,c,d){i.insertBefore(o,a,c,d)}function Cl(i,o,a){i.appendChild(o,a)}function bg(i,o,a,c,d){null!==c?aa(i,o,a,c,d):Cl(i,o,a)}function Po(i,o){return i.parentNode(o)}let Pf,Pl,hc,tu=function bl(i,o,a){return 40&i.type?pr(i,a):null};function nu(i,o,a,c){const d=lc(i,c,o),p=o[Vt],E=function Qd(i,o,a){return tu(i,o,a)}(c.parent||o[Wn],c,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)bg(p,d,a[C],E,!1);else bg(p,d,a,E,!1);void 0!==Pf&&Pf(p,c,o,a,d)}function Xd(i,o){if(null!==o){const a=o.type;if(3&a)return pr(o,i);if(4&a)return ws(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return Xd(i,c);{const d=i[o.index];return ri(d)?ws(-1,d):fr(d)}}if(32&a)return Bs(o,i)()||fr(i[o.index]);{const c=eh(i,o);return null!==c?Array.isArray(c)?c[0]:Xd(Il(i[Bn]),c):Xd(i,o.next)}}return null}function eh(i,o){return null!==o?i[Bn][Wn].projection[o.projection]:null}function ws(i,o){const a=hr+i+1;if(a<o.length){const c=o[a],d=c[We].firstChild;if(null!==d)return Xd(c,d)}return o[Go]}function Sl(i,o,a,c,d,p,v){for(;null!=a;){const E=c[a.index],C=a.type;if(v&&0===o&&(E&&te(fr(E),c),a.flags|=2),32!=(32&a.flags))if(8&C)Sl(i,o,a.child,c,d,p,!1),Ro(o,i,d,E,p);else if(32&C){const x=Bs(a,c);let R;for(;R=x();)Ro(o,i,d,R,p);Ro(o,i,d,E,p)}else 16&C?kf(i,o,c,a,d,p):Ro(o,i,d,E,p);a=v?a.projectionNext:a.next}}function Al(i,o,a,c,d,p){Sl(a,c,i.firstChild,o,d,p,!1)}function kf(i,o,a,c,d,p){const v=a[Bn],C=v[Wn].projection[c.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)Ro(o,i,d,C[x],p);else Sl(i,o,C,v[In],d,p,!0)}function rs(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Ml(i,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&Xo(i,o,c),null!==d&&rs(i,o,d),null!==p&&function Lf(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function Ag(i){Pl=i}function Vf(i){return function Uf(){if(void 0===hc&&(hc=null,Jt.trustedTypes))try{hc=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return hc}()?.createScriptURL(i)||i}class Mg{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}function kr(i){return i instanceof Mg?i.changingThisBreaksApplicationSecurity:i}function Ti(i,o){const a=function fc(i){return i instanceof Mg&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ot})`)}return a===o}const Gf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function rh(i){const o=qf();return o?o.sanitize(Pn.URL,i)||"":Ti(i,"URL")?kr(i):function pc(i){return(i=String(i)).match(Gf)?i:"unsafe:"+i}(Re(i))}function Ol(i){const o=qf();if(o)return Vf(o.sanitize(Pn.RESOURCE_URL,i)||"");if(Ti(i,"ResourceURL"))return Vf(kr(i));throw new fe(904,!1)}function sh(i,o,a){return function Vy(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Ol:rh}(o,a)(i)}function qf(){const i=de();return i&&i[Ta]}const $y=new Zt("ENVIRONMENT_INITIALIZER"),kl=new Zt("INJECTOR",-1),oh=new Zt("INJECTOR_DEF_TYPES");class F0{get(o,a=fi){if(a===fi){const c=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw c.name="NullInjectorError",c}return a}}function Wf(...i){return{\u0275providers:ah(0,i),\u0275fromNgModule:!0}}function ah(i,...o){const a=[],c=new Set;let d;return ns(o,p=>{const v=p;Hy(v,a,[],c)&&(d||(d=[]),d.push(v))}),void 0!==d&&U0(d,a),a}function U0(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];zy(d,p=>{o.push(p)})}}function Hy(i,o,a,c){if(!(i=q(i)))return!1;let d=null,p=cr(i);const v=!p&&gt(i);if(p||v){if(v&&!v.standalone)return!1;d=i}else{const C=i.ngModule;if(p=cr(C),!p)return!1;d=C}const E=c.has(d);if(v){if(E)return!1;if(c.add(d),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of C)Hy(x,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let x;c.add(d);try{ns(p.imports,R=>{Hy(R,o,a,c)&&(x||(x=[]),x.push(R))})}finally{}void 0!==x&&U0(x,o)}if(!E){const x=es(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:Le},{provide:oh,useValue:d,multi:!0},{provide:$y,useValue:()=>tn(d),multi:!0})}const C=p.providers;null==C||E||zy(C,R=>{o.push(R)})}}return d!==i&&void 0!==i.providers}function zy(i,o){for(let a of i)Te(a)&&(a=a.\u0275providers),Array.isArray(a)?zy(a,o):o(a)}const JE=se({provide:String,useValue:se});function Gy(i){return null!==i&&"object"==typeof i&&JE in i}function ou(i){return"function"==typeof i}const yc=new Zt("Set Injector scope."),Fg={},eD={};let qy;function Ug(){return void 0===qy&&(qy=new F0),qy}class Ll{}class B0 extends Ll{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(o,v=>this.processProvider(v)),this.records.set(kl,uh(void 0,this)),d.has("environment")&&this.records.set(Ll,uh(void 0,this));const p=this.records.get(yc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(oh.multi,Le,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Kt(this),c=_r(void 0);try{return o()}finally{Kt(a),_r(c)}}get(o,a=fi,c=pt.Default){this.assertNotDestroyed(),c=Gn(c);const d=Kt(this),p=_r(void 0);try{if(!(c&pt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function Yy(i){return"function"==typeof i||"object"==typeof i&&i instanceof Zt}(o)&&qt(o);E=C&&this.injectableDefInScope(C)?uh(Wy(o),Fg):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&pt.Self?Ug():this.parent).get(o,a=c&pt.Optional&&a===fi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[lr]=v[lr]||[]).unshift(we(o)),d)throw v;return function Hr(i,o,a,c){const d=i[lr];throw o[hn]&&d.unshift(o[hn]),i.message=function V(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==ei?i.slice(2):i;let d=we(o);if(Array.isArray(o))d=o.map(we).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];p.push(v+":"+("string"==typeof E?JSON.stringify(E):we(E)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Mn,"\n  ")}`}("\n"+i.message,d,a,c),i[$r]=d,i[lr]=null,i}(v,o,"R3InjectorError",this.source)}throw v}finally{_r(p),Kt(d)}}resolveInjectorInitializers(){const o=Kt(this),a=_r(void 0);try{const c=this.get($y.multi,Le,pt.Self);for(const d of c)d()}finally{Kt(o),_r(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(we(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(o){let a=ou(o=q(o))?o:q(o&&o.provide);const c=function nD(i){return Gy(i)?uh(void 0,i.useValue):uh(function Ky(i,o,a){let c;if(ou(i)){const d=q(i);return es(d)||Wy(d)}if(Gy(i))c=()=>q(i.useValue);else if(function V0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ri(i.deps||[]));else if(function XE(i){return!(!i||!i.useExisting)}(i))c=()=>tn(q(i.useExisting));else{const d=q(i&&(i.useClass||i.provide));if(!function Zy(i){return!!i.deps}(i))return es(d)||Wy(d);c=()=>new d(...Ri(i.deps))}return c}(i),Fg)}(o);if(ou(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=uh(void 0,Fg,!0),d.factory=()=>Ri(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Fg&&(a.value=eD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function j0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Wy(i){const o=qt(i),a=null!==o?o.factory:es(i);if(null!==a)return a;if(i instanceof Zt)throw new fe(204,!1);if(i instanceof Function)return function tD(i){const o=i.length;if(o>0)throw function Yu(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new fe(204,!1);const a=function Un(i){return i&&(i[Nn]||i[Qr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new fe(204,!1)}function uh(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function ch(i,o){for(const a of i)Array.isArray(a)?ch(a,o):a&&Te(a)?ch(a.\u0275providers,o):o(a)}class rD{}class $0{}class z0{resolveComponentFactory(o){throw function iD(i){const o=Error(`No component factory found for ${we(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let lh=(()=>{class i{}return i.NULL=new z0,i})();function Vg(){return au(ir(),de())}function au(i,o){return new dh(pr(i,o))}let dh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Vg,i})();function Kf(i){return i instanceof dh?i.nativeElement:i}class Jy{}let sD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function oD(){const i=de(),a=rr(ir().index,i);return(ni(a)?a:i)[Vt]}(),i})(),aD=(()=>{class i{}return i.\u0275prov=ut({token:i,providedIn:"root",factory:()=>null}),i})();class G0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const q0=new G0("15.2.10"),Bg={},Xy="ngOriginalError";function ev(i){return i[Xy]}class Zf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&ev(o);for(;a&&ev(a);)a=ev(a);return a||null}}function ca(i){return i instanceof Function?i():i}function J0(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const tv="ng-template";function nv(i,o,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const v=i[c++];if(a&&"class"===p&&-1!==J0(v.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function rv(i){return 4===i.type&&i.value!==tv}function hh(i,o,a){return o===(4!==i.type||a?i.value:tv)}function iv(i,o,a){let c=4;const d=i.attrs||[],p=function ew(i){for(let o=0;o<i.length;o++)if(rl(i[o]))return o;return i.length}(d);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!hh(i,C,a)||""===C&&1===o.length){if(No(c))return!1;v=!0}}else{const x=8&c?C:o[++E];if(8&c&&null!==i.attrs){if(!nv(i.attrs,x,a)){if(No(c))return!1;v=!0}continue}const L=X0(8&c?"class":C,d,rv(i),a);if(-1===L){if(No(c))return!1;v=!0;continue}if(""!==x){let z;z=L>p?"":d[L+1].toLowerCase();const J=8&c?z:null;if(J&&-1!==J0(J,x,0)||2&c&&x!==z){if(No(c))return!1;v=!0}}}}else{if(!v&&!No(c)&&!No(C))return!1;if(v&&No(C))continue;v=!1,c=C|1&c}}return No(c)||v}function No(i){return 0==(1&i)}function X0(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const v=o[d];if(v===i)return d;if(3===v||6===v)p=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=p?1:2}return-1}return function tw(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Qf(i,o,a=!1){for(let c=0;c<o.length;c++)if(iv(i,o[c],a))return!0;return!1}function nw(i,o){return i?":not("+o.trim()+")":o}function gD(i){let o=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&c){const E=i[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!No(v)&&(o+=nw(p,d),d=""),c=v,p=p||!No(c);a++}return""!==d&&(o+=nw(p,d)),o}const Ft={};function rw(i){iw(Lt(),de(),Ir()+i,!1)}function iw(i,o,a,c){if(!c)if(3==(3&o[kt])){const p=i.preOrderCheckHooks;null!==p&&el(o,p,a)}else{const p=i.preOrderHooks;null!==p&&tl(o,p,0,a)}ps(a)}function ow(i,o=null,a=null,c){const d=ov(i,o,a,c);return d.resolveInjectorInitializers(),d}function ov(i,o=null,a=null,c,d=new Set){const p=[a||Le,Wf(i)];return c=c||("object"==typeof i?void 0:we(i)),new B0(p,o||Ug(),c||null,d)}let fh=(()=>{class i{static create(a,c){if(Array.isArray(a))return ow({name:""},c,a,"");{const d=a.name??"";return ow({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=fi,i.NULL=new F0,i.\u0275prov=ut({token:i,providedIn:"any",factory:()=>tn(kl)}),i.__NG_ELEMENT_ID__=-1,i})();function mh(i,o=pt.Default){const a=de();return null===a?tn(i,o):qu(ir(),a,q(i),o)}function dw(){throw new Error("invalid")}function hw(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const v=i.data[p];Nu(a[c]),v.contentQueries(2,o[p],p)}}}function zg(i,o,a,c,d,p,v,E,C,x,R){const L=o.blueprint.slice();return L[gi]=d,L[kt]=76|c,(null!==R||i&&1024&i[kt])&&(L[kt]|=1024),Zo(L),L[In]=L[to]=i,L[kn]=a,L[Rs]=v||i&&i[Rs],L[Vt]=E||i&&i[Vt],L[Ta]=C||i&&i[Ta]||null,L[Ca]=x||i&&i[Ca]||null,L[Wn]=p,L[zo]=function Gd(){return ji++}(),L[wr]=R,L[Bn]=2==o.type?i[Bn]:L,L}function tp(i,o,a,c,d){let p=i.data[o];if(null===p)p=function dv(i,o,a,c,d){const p=io(),v=Md(),C=i.data[o]=function OD(i,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(i,o,a,c,d),function Rd(){return Rt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const v=function Mu(){const i=Rt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Gr(p,!0),p}function np(i,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function hv(i,o,a){ku(o);try{const c=i.viewQuery;null!==c&&ip(1,c,a);const d=i.template;null!==d&&pw(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hw(i,o),i.staticViewQueries&&ip(2,i.viewQuery,a);const p=i.components;null!==p&&function fw(i,o){for(let a=0;a<o.length;a++)la(i,o[a])}(o,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[kt]&=-5,Lu()}}function Gg(i,o,a,c){const d=o[kt];if(128!=(128&d)){ku(o);try{Zo(o),function ts(i){return Rt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&pw(i,o,a,2,c);const v=3==(3&d);if(v){const x=i.preOrderCheckHooks;null!==x&&el(o,x,null)}else{const x=i.preOrderHooks;null!==x&&tl(o,x,0,null),kd(o,0)}if(function BD(i){for(let o=El(i);null!==o;o=Mo(o)){if(!o[qc])continue;const a=o[no];for(let c=0;c<a.length;c++){const d=a[c];512&d[kt]||Ma(d[In],1),d[kt]|=512}}}(o),function Ai(i){for(let o=El(i);null!==o;o=Mo(o))for(let a=hr;a<o.length;a++){const c=o[a],d=c[We];hs(c)&&Gg(d,c,d.template,c[kn])}}(o),null!==i.contentQueries&&hw(i,o),v){const x=i.contentCheckHooks;null!==x&&el(o,x)}else{const x=i.contentHooks;null!==x&&tl(o,x,1),kd(o,1)}!function PD(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ps(~d);else{const p=d,v=a[++c],E=a[++c];Pu(v,p),E(2,o[p])}}}finally{ps(-1)}}(i,o);const E=i.components;null!==E&&function ND(i,o){for(let a=0;a<o.length;a++)rp(i,o[a])}(o,E);const C=i.viewQuery;if(null!==C&&ip(2,C,c),v){const x=i.viewCheckHooks;null!==x&&el(o,x)}else{const x=i.viewHooks;null!==x&&tl(o,x,2),kd(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[kt]&=-41,512&o[kt]&&(o[kt]&=-513,Ma(o[In],-1))}finally{Lu()}}}function pw(i,o,a,c,d){const p=Ir(),v=2&c;try{ps(-1),v&&o.length>mn&&iw(i,o,mn,!1),zr(v?2:0,d),a(c,d)}finally{ps(p),zr(v?3:1,d)}}function fv(i,o,a){if(Sa(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function pv(i,o,a){xu()&&(function qg(i,o,a,c){const d=a.directiveStart,p=a.directiveEnd;qo(a)&&function Wr(i,o,a){const c=pr(o,i),d=me(a),p=i[Rs],v=Kg(i,zg(i,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));i[o.index]=v}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||il(a,o),te(c,o);const v=a.initialInputs;for(let E=d;E<p;E++){const C=i.data[E],x=jn(o,i,E,a);te(x,o),null!==v&&mw(0,E-d,x,C,0,v),yi(C)&&(rr(a.index,o)[kn]=jn(o,i,E,a))}}(i,o,a,pr(a,o)),64==(64&a.flags)&&yh(i,o,a))}function gv(i,o,a=pr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],E=-1===v?a(o,i):i[v];i[d++]=E}}}function me(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=mv(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function mv(i,o,a,c,d,p,v,E,C,x){const R=mn+c,L=R+d,z=function oi(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Ft);return a}(R,L),J="function"==typeof x?x():x;return z[We]={type:i,blueprint:z,template:a,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function gw(i,o,a,c){const d=yw(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&Tv(i).push(c,d.length-1))}function Gs(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?kD(a,o,d,p):c.hasOwnProperty(d)&&kD(a,o,c[d],p)}return a}function kD(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Es(i,o,a,c){if(xu()){const d=null===c?null:{"":-1},p=function _v(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const v=a[p];if(Qf(o,v.selectors,!1))if(c||(c=[]),yi(v))if(null!==v.findHostDirectiveDefs){const E=[];d=d||new Map,v.findHostDirectiveDefs(v,E,d),c.unshift(...E,v),wv(i,o,E.length)}else c.unshift(v),wv(i,o,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,c,d),c.push(v)}return null===c?null:[c,d]}(i,a);let v,E;null===p?v=E=null:[v,E]=p,null!==v&&Qe(i,o,a,v,d,E),d&&function UD(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new fe(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=lo(a.mergedAttrs,a.attrs)}function Qe(i,o,a,c,d,p){for(let x=0;x<c.length;x++)fn(il(a,o),i,c[x].type);!function Si(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let x=0;x<c.length;x++){const R=c[x];R.providersResolver&&R.providersResolver(R)}let v=!1,E=!1,C=np(i,o,c.length,null);for(let x=0;x<c.length;x++){const R=c[x];a.mergedAttrs=lo(a.mergedAttrs,R.hostAttrs),Wg(i,a,o,C,R),VD(C,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const L=R.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),v=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),E=!0),C++}!function LD(i,o,a){const d=o.directiveEnd,p=i.data,v=o.attrs,E=[];let C=null,x=null;for(let R=o.directiveStart;R<d;R++){const L=p[R],z=a?a.get(L):null,ve=z?z.outputs:null;C=Gs(L.inputs,R,C,z?z.inputs:null),x=Gs(L.outputs,R,x,ve);const Ve=null===C||null===v||rv(o)?null:Ev(C,R,v);E.push(Ve)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=x}(i,a,p)}function yh(i,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,v=function _g(){return Rt.lFrame.currentDirectiveIndex}();try{ps(p);for(let E=c;E<d;E++){const C=i.data[E],x=o[E];Zn(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&FD(C,x)}}finally{ps(-1),Zn(v)}}function FD(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function wv(i,o,a){o.componentOffset=a,(i.components??(i.components=[])).push(o.index)}function VD(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;yi(o)&&(a[""]=i)}}function Wg(i,o,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=es(d.type)),v=new gs(p,yi(d),mh);i.blueprint[c]=v,a[c]=v,function vv(i,o,a,c,d){const p=d.hostBindings;if(p){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const E=~o.index;(function Bt(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(v)!=E&&v.push(E),v.push(a,c,p)}}(i,o,c,np(i,a,d.hostVars,Ft),d)}function ai(i,o,a,c,d,p){const v=pr(i,o);!function Iv(i,o,a,c,d,p,v){if(null==p)i.removeAttribute(o,d,a);else{const E=null==v?Re(p):v(p,c||"",d);i.setAttribute(o,d,E,a)}}(o[Vt],v,p,i.value,a,c,d)}function mw(i,o,a,c,d,p){const v=p[o];if(null!==v){const E=c.setInput;for(let C=0;C<v.length;){const x=v[C++],R=v[C++],L=v[C++];null!==E?c.setInput(a,L,x,R):a[R]=L}}}function Ev(i,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const v=i[p];for(let E=0;E<v.length;E+=2)if(v[E]===o){c.push(p,v[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Dv(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null]}function rp(i,o){const a=rr(o,i);if(hs(a)){const c=a[We];48&a[kt]?Gg(c,a,c.template,a[kn]):a[un]>0&&vh(a)}}function vh(i){for(let c=El(i);null!==c;c=Mo(c))for(let d=hr;d<c.length;d++){const p=c[d];if(hs(p))if(512&p[kt]){const v=p[We];Gg(v,p,v.template,p[kn])}else p[un]>0&&vh(p)}const a=i[We].components;if(null!==a)for(let c=0;c<a.length;c++){const d=rr(a[c],i);hs(d)&&d[un]>0&&vh(d)}}function la(i,o){const a=rr(o,i),c=a[We];(function Cv(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),hv(c,a,a[kn])}function Kg(i,o){return i[eo]?i[as][mi]=o:i[eo]=o,i[as]=o,o}function Zg(i){for(;i;){i[kt]|=32;const o=Il(i);if(Eu(i)&&!o)return i;i=o}return null}function uu(i,o,a,c=!0){const d=o[Rs];d.begin&&d.begin();try{Gg(i,o,i.template,a)}catch(v){throw c&&Qg(o,v),v}finally{d.end&&d.end()}}function ip(i,o,a){Nu(0),o(i,a)}function yw(i){return i[Da]||(i[Da]=[])}function Tv(i){return i.cleanup||(i.cleanup=[])}function Qg(i,o){const a=i[Ca],c=a?a.get(Zf,null):null;c&&c.handleError(o)}function sp(i,o,a,c,d){for(let p=0;p<a.length;){const v=a[p++],E=a[p++],C=o[v],x=i.data[v];null!==x.setInput?x.setInput(C,d,c,E):C[E]=d}}function _h(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?p=E:1==p?d=he(d,E):2==p&&(c=he(c,E+": "+o[++v]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function op(i,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(fr(p)),ri(p))for(let E=hr;E<p.length;E++){const C=p[E],x=C[We].firstChild;null!==x&&op(C[We],C,x,c)}const v=a.type;if(8&v)op(i,o,a.child,c);else if(32&v){const E=Bs(a,o);let C;for(;C=E();)c.push(C)}else if(16&v){const E=eh(o,a);if(Array.isArray(E))c.push(...E);else{const C=Il(o[Bn]);op(C[We],C,E,c,!0)}}a=d?a.projectionNext:a.next}return c}class ap{get rootNodes(){const o=this._lView,a=o[We];return op(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(o){this._lView[kn]=o}get destroyed(){return 128==(128&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[In];if(ri(o)){const a=o[Ps],c=a?a.indexOf(this):-1;c>-1&&(Dl(o,c),wo(a,c))}this._attachedToViewContainer=!1}Zd(this._lView[We],this._lView)}onDestroy(o){gw(this._lView[We],this._lView,null,o)}markForCheck(){Zg(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-65}reattach(){this._lView[kt]|=64}detectChanges(){uu(this._lView[We],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kd(i,o){Al(i,o,o[Vt],2,null,null)}(this._lView[We],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=o}}class up extends ap{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;uu(o[We],o,o[kn],!1)}checkNoChanges(){}get context(){return null}}class vw extends lh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=gt(o);return new _c(a,this.ngModule)}}function wh(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class zD{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Gn(c);const d=this.injector.get(o,Bg,c);return d!==Bg||a===Bg?d:this.parentInjector.get(o,a,c)}}class _c extends $0{get inputs(){return wh(this.componentDef.inputs)}get outputs(){return wh(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function mD(i){return i.map(gD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Ll?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new zD(o,p):o,E=v.get(Jy,null);if(null===E)throw new fe(407,!1);const C=v.get(aD,null),x=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=c?function yv(i,o,a){return i.selectRootElement(o,a===ye.ShadowDom)}(x,c,this.componentDef.encapsulation):Rf(x,R,function HD(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),z=this.componentDef.onPush?288:272,J=mv(0,null,null,1,0,null,null,null,null,null),ve=zg(null,J,null,z,null,null,E,x,C,v,null);let Ve,Ye;ku(ve);try{const lt=this.componentDef;let bt,xe=null;lt.findHostDirectiveDefs?(bt=[],xe=new Map,lt.findHostDirectiveDefs(lt,bt,xe),bt.push(lt)):bt=[lt];const Pt=function _w(i,o){const a=i[We],c=mn;return i[c]=o,tp(a,c,2,"#host",null)}(ve,L),xn=function ww(i,o,a,c,d,p,v,E){const C=d[We];!function Iw(i,o,a,c){for(const d of i)o.mergedAttrs=lo(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(_h(o,o.mergedAttrs,!0),null!==a&&Ml(c,a,o))}(c,i,o,v);const x=p.createRenderer(o,a),R=zg(d,me(a),null,a.onPush?32:16,d[i.index],i,p,x,E||null,null,null);return C.firstCreatePass&&wv(C,i,c.length-1),Kg(d,R),d[i.index]=R}(Pt,L,lt,bt,ve,E,x);Ye=Td(J,mn),L&&function Sv(i,o,a,c){if(c)Xo(i,a,["ng-version",q0.full]);else{const{attrs:d,classes:p}=function yD(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++c]):8===d&&a.push(p);else{if(!No(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Xo(i,a,d),p&&p.length>0&&rs(i,a,p.join(" "))}}(x,lt,L,c),void 0!==a&&function Av(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(Ye,this.ngContentSelectors,a),Ve=function Jg(i,o,a,c,d,p){const v=ir(),E=d[We],C=pr(v,d);Qe(E,d,v,a,null,c);for(let R=0;R<a.length;R++)te(jn(d,E,v.directiveStart+R,v),d);yh(E,d,v),C&&te(C,d);const x=jn(d,E,v.directiveStart+v.componentOffset,v);if(i[kn]=d[kn]=x,null!==p)for(const R of p)R(x,o);return fv(E,v,i),x}(xn,lt,bt,xe,ve,[xv]),hv(J,ve,null)}finally{Lu()}return new bv(this.componentType,Ve,au(Ye,ve),ve,Ye)}}class bv extends rD{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new up(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;sp(p[We],p,d,o,a),Zg(rr(this._tNode.index,p))}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xv(){const i=ir();Vu(de()[We],i)}function nm(i){return!!Lv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Lv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Er(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Ih(i,o,a,c){const d=de();return Er(d,so(),o)&&(Lt(),ai(Tn(),d,i,o,a,c)),Ih}function xi(i,o,a,c,d,p,v,E){const C=de(),x=Lt(),R=i+mn,L=x.firstCreatePass?function Rw(i,o,a,c,d,p,v,E,C){const x=o.consts,R=tp(o,i,4,v||null,ks(x,E));Es(o,a,R,ks(x,C)),Vu(o,R);const L=R.tView=mv(2,R,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,R),L.queries=o.queries.embeddedTView(R)),R}(R,x,C,o,a,c,d,p,v):x.data[R];Gr(L,!1);const z=C[Vt].createComment("");nu(x,C,z,L),te(z,C),Kg(C,C[R]=Dv(z,C,z,L)),Wc(L)&&pv(x,C,L),null!=v&&gv(C,L,E)}function Dh(i,o,a){const c=de();return Er(c,so(),o)&&function bi(i,o,a,c,d,p,v,E){const C=pr(o,a);let R,x=o.inputs;!E&&null!=x&&(R=x[c])?(sp(i,a,R,c,d),qo(o)&&function vc(i,o){const a=rr(o,i);16&a[kt]||(a[kt]|=32)}(a,o.index)):3&o.type&&(c=function Ul(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=v?v(d,o.value||"",c):d,p.setProperty(C,c,d))}(Lt(),Tn(),c,i,o,c[Vt],a,!1),Dh}function rm(i,o,a,c,d){const v=d?"class":"style";sp(i,a,o.inputs[v],v,c)}function fp(i,o,a,c){const d=de(),p=Lt(),v=mn+i,E=d[Vt],C=p.firstCreatePass?function Vv(i,o,a,c,d,p){const v=o.consts,C=tp(o,i,2,c,ks(v,d));return Es(o,a,C,ks(v,p)),null!==C.attrs&&_h(C,C.attrs,!1),null!==C.mergedAttrs&&_h(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,p,d,o,a,c):p.data[v],x=d[v]=Rf(E,o,function Od(){return Rt.lFrame.currentNamespace}()),R=Wc(C);return Gr(C,!0),Ml(E,x,C),32!=(32&C.flags)&&nu(p,d,x,C),0===function Sd(){return Rt.lFrame.elementDepthCount}()&&te(x,d),function Au(){Rt.lFrame.elementDepthCount++}(),R&&(pv(p,d,C),fv(p,C,d)),null!==c&&gv(d,C),fp}function pp(){let i=ir();Md()?function Ru(){Rt.lFrame.isParent=!1}():(i=i.parent,Gr(i,!1));const o=i;!function Ad(){Rt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(Vu(a,i),Sa(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Ua(i){return 0!=(8&i.flags)}(o)&&rm(a,o,de(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ao(i){return 0!=(16&i.flags)}(o)&&rm(a,o,de(),o.stylesWithoutHost,!1),pp}function zl(i,o,a,c){return fp(i,o,a,c),pp(),zl}function Ch(){return de()}function im(i){return!!i&&"function"==typeof i.then}function Nw(i){return!!i&&"function"==typeof i.subscribe}const sm=Nw;function Th(i,o,a,c){const d=de(),p=Lt(),v=ir();return function jv(i,o,a,c,d,p,v){const E=Wc(c),x=i.firstCreatePass&&Tv(i),R=o[kn],L=yw(o);let z=!0;if(3&c.type||v){const Ve=pr(c,o),Ye=v?v(Ve):Ve,lt=L.length,bt=v?Pt=>v(fr(Pt[c.index])):c.index;let xe=null;if(!v&&E&&(xe=function Ow(i,o,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const v=d[p];if(v===a&&d[p+1]===c){const E=o[Da],C=d[p+2];return E.length>C?E[C]:null}"string"==typeof v&&(p+=2)}return null}(i,o,d,c.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=p,xe.__ngLastListenerFn__=p,z=!1;else{p=kw(c,o,R,p,!1);const Pt=a.listen(Ye,d,p);L.push(p,Pt),x&&x.push(d,bt,lt,lt+1)}}else p=kw(c,o,R,p,!1);const J=c.outputs;let ve;if(z&&null!==J&&(ve=J[d])){const Ve=ve.length;if(Ve)for(let Ye=0;Ye<Ve;Ye+=2){const xn=o[ve[Ye]][ve[Ye+1]].subscribe(p),er=L.length;L.push(p,xn),x&&x.push(d,c.index,er,-(er+1))}}}(p,d,d[Vt],v,i,o,c),Th}function $v(i,o,a,c){try{return zr(6,o,a),!1!==a(c)}catch(d){return Qg(i,d),!1}finally{zr(7,o,a)}}function kw(i,o,a,c,d){return function p(v){if(v===Function)return c;Zg(i.componentOffset>-1?rr(i.index,o):o);let C=$v(o,a,c,v),x=p.__ngNextListenerFn__;for(;x;)C=$v(o,a,x,v)&&C,x=x.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function bh(i=1){return function ff(i){return(Rt.lFrame.contextLView=function Fu(i,o){for(;i>0;)o=o[to],i--;return o}(i,Rt.lFrame.contextLView))[kn]}(i)}function Gl(i,o){return i<<17|o<<2}function hu(i){return i>>17&32767}function ql(i){return 2|i}function ko(i){return(131068&i)>>2}function Gv(i,o){return-131069&i|o<<2}function qv(i){return 1|i}function fu(i,o,a,c,d){const p=i[a+1],v=null===o;let E=c?hu(p):ko(p),C=!1;for(;0!==E&&(!1===C||v);){const R=i[E+1];jw(i[E],o)&&(C=!0,i[E+1]=c?qv(R):ql(R)),E=c?hu(R):ko(R)}C&&(i[a+1]=c?ql(p):qv(p))}function jw(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Ii(i,o)>=0}function Jv(i,o,a){return function Ks(i,o,a,c){const d=de(),p=Lt(),v=function wi(i){const o=Rt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function Kw(i,o,a,c){const d=i.data;if(null===d[a+1]){const p=d[Ir()],v=function Ah(i,o){return o>=i.expandoStartIndex}(i,a);(function hm(i,o){return 0!=(i.flags&(o?8:16))})(p,c)&&null===o&&!v&&(o=!1),o=function ar(i,o,a,c){const d=function Yo(i){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=xh(a=Xv(null,i,o,a,c),o.attrs,c),p=null);else{const v=o.directiveStylingLast;if(-1===v||i[v]!==d)if(a=Xv(d,i,o,a,c),null===p){let C=function Zw(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==ko(c))return i[hu(c)]}(i,o,c);void 0!==C&&Array.isArray(C)&&(C=Xv(null,i,o,C[1],c),C=xh(C,o.attrs,c),function YD(i,o,a,c){i[hu(a?o.classBindings:o.styleBindings)]=c}(i,o,c,C))}else p=function QD(i,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=xh(c,i[p].hostAttrs,a);return xh(c,o.attrs,a)}(i,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function KD(i,o,a,c,d,p){let v=p?o.classBindings:o.styleBindings,E=hu(v),C=ko(v);i[c]=a;let R,x=!1;if(Array.isArray(a)?(R=a[1],(null===R||Ii(a,R)>0)&&(x=!0)):R=a,d)if(0!==C){const z=hu(i[E+1]);i[c+1]=Gl(z,E),0!==z&&(i[z+1]=Gv(i[z+1],c)),i[E+1]=function um(i,o){return 131071&i|o<<17}(i[E+1],c)}else i[c+1]=Gl(E,0),0!==E&&(i[E+1]=Gv(i[E+1],c)),E=c;else i[c+1]=Gl(C,0),0===E?E=c:i[C+1]=Gv(i[C+1],c),C=c;x&&(i[c+1]=ql(i[c+1])),fu(i,R,c,!0),fu(i,R,c,!1),function Ip(i,o,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&Ii(p,o)>=0&&(a[c+1]=qv(a[c+1]))}(o,R,i,c,p),v=Gl(E,C),p?o.classBindings=v:o.styleBindings=v}(d,p,o,a,v,c)}}(p,i,v,c),o!==Ft&&Er(d,v,o)&&function Lo(i,o,a,c,d,p,v,E){if(!(3&o.type))return;const C=i.data,x=C[E+1],R=function Bw(i){return 1==(1&i)}(x)?t_(C,o,a,d,ko(x),v):void 0;dm(R)||(dm(p)||function Ln(i){return 2==(2&i)}(x)&&(p=t_(C,null,a,d,E,v)),function js(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:vt.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=vt.Important),i.setStyle(a,c,d,p))}}(c,v,function ds(i,o){return fr(o[i])}(Ir(),a),d,p))}(p,p.data[Ir()],d,d[Vt],i,d[v+1]=function Jw(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=we(kr(i)))),i}(o,a),c,v)}(i,o,a,!1),Jv}function Xv(i,o,a,c,d){let p=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(p=o[E],c=xh(c,p.hostAttrs,d),p!==i);)E++;return null!==i&&(a.directiveStylingLast=E),c}function xh(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?d=v:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),qr(i,v,!!a||o[++p]))}return void 0===i?null:i}function t_(i,o,a,c,d,p){const v=null===o;let E;for(;d>0;){const C=i[d],x=Array.isArray(C),R=x?C[1]:C,L=null===R;let z=a[d+1];z===Ft&&(z=L?Le:void 0);let J=L?cn(z,c):R===c?z:void 0;if(x&&!dm(J)&&(J=cn(C,c)),dm(J)&&(E=J,v))return E;const ve=i[d+1];d=v?hu(ve):ko(ve)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(E=cn(C,c))}return E}function dm(i){return void 0!==i}function Mh(i,o=""){const a=de(),c=Lt(),d=i+mn,p=c.firstCreatePass?tp(c,d,1,o,null):c.data[d],v=a[d]=function cc(i,o){return i.createText(o)}(a[Vt],o);nu(c,a,v,p),Gr(p,!1)}const Kr=void 0;var _m=["en",[["a","p"],["AM","PM"],Kr],[["AM","PM"],Kr,Kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kr,"{1} 'at' {0}",Kr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ci(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let pu={};function Nh(i){const o=function eC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=lI(o);if(a)return a;const c=o.split("-")[0];if(a=lI(c),a)return a;if("en"===c)return _m;throw new fe(701,!1)}function Yl(i){return Nh(i)[Ct.PluralCase]}function lI(i){return i in pu||(pu[i]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[i]),pu[i]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const Oh="en-US";let Fr=Oh;class td{}class AI{}function E_(i,o){return new D_(i,o??null)}class D_ extends td{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const c=qn(o);this._bootstrapComponents=ca(c.bootstrap),this._r3Injector=ov(o,a,[{provide:td,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ma extends AI{constructor(o){super(),this.moduleType=o}create(o){return new D_(this.moduleType,o)}}class xI extends td{constructor(o,a,c){super(),this.componentFactoryResolver=new vw(this),this.instance=null;const d=new B0([...o,{provide:td,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],a||Ug(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function En(i,o,a=null){return new xI(i,o,a).injector}let Nm=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=ah(0,a.type),d=c.length>0?En([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=ut({token:i,providedIn:"environment",factory:()=>new i(tn(Ll))}),i})();function Zr(i){i.getStandaloneInjector=o=>o.get(Nm).getOrCreateStandaloneInjector(i)}function Fm(i){return o=>{setTimeout(i,void 0,o)}}const qi=class kI extends m.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=Fm(p),d&&(d=Fm(d)),v&&(v=Fm(v)));const E=super.subscribe({next:d,error:p,complete:v});return o instanceof Y.w0&&o.add(E),E}};function bC(){return this._results[Symbol.iterator]()}class Um{get changes(){return this._changes||(this._changes=new qi)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Um.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=bC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Li(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ll(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wt=(()=>{class i{}return i.__NG_ELEMENT_ID__=x_,i})();const vn=Wt,Vh=class extends vn{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tView,d=zg(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[Ho]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Xi];return null!==v&&(d[Xi]=v.createEmbeddedView(c)),hv(c,d,o),new ap(d)}};function x_(){return Bh(ir(),de())}function Bh(i,o){return 4&i.type?new Vh(o,i,au(i,o)):null}let kp=(()=>{class i{}return i.__NG_ELEMENT_ID__=M_,i})();function M_(){return FI(ir(),de())}const LI=kp,R_=class extends LI{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return au(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ud(this._hostTNode,this._hostLView);if(ho(o)){const a=fo(o,this._hostLView),c=Ls(o);return new ys(a[We].data[c+8],a)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=P_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,d),v}createComponent(o,a,c,d,p){const v=o&&!function Zu(i){return"function"==typeof i}(o);let E;if(v)E=a;else{const L=a||{};E=L.index,c=L.injector,d=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const C=v?o:new _c(gt(o)),x=c||this.parentInjector;if(!p&&null==C.ngModule){const z=(v?x:this.parentInjector).get(Ll,null);z&&(p=z)}const R=C.create(x,d,void 0,p);return this.insert(R.hostView,E),R}insert(o,a){const c=o._lView,d=c[We];if(function Qc(i){return ri(i[In])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const L=c[In],z=new R_(L,L[Wn],L[In]);z.detach(z.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function Xa(i,o,a,c){const d=hr+c,p=a.length;c>0&&(a[d-1][mi]=o),c<p-hr?(o[mi]=a[d],Df(a,hr+c,o)):(a.push(o),o[mi]=null),o[In]=a;const v=o[Ho];null!==v&&a!==v&&function Ay(i,o){const a=i[no];o[Bn]!==o[In][In][Bn]&&(i[qc]=!0),null===a?i[no]=[o]:a.push(o)}(v,o);const E=o[Xi];null!==E&&E.insertView(i),o[kt]|=64}(d,c,v,p);const E=ws(p,v),C=c[Vt],x=Po(C,v[Go]);return null!==x&&function Cg(i,o,a,c,d,p){c[gi]=d,c[Wn]=o,Al(i,c,a,1,d,p)}(d,v[Wn],C,c,x,E),o.attachToViewContainerRef(),Df(N_(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=P_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Dl(this._lContainer,a);c&&(wo(N_(this._lContainer),a),Zd(c[We],c))}detach(o){const a=this._adjustIndex(o,-1),c=Dl(this._lContainer,a);return c&&null!=wo(N_(this._lContainer),a)?new ap(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function P_(i){return i[Ps]}function N_(i){return i[Ps]||(i[Ps]=[])}function FI(i,o){let a;const c=o[i.index];if(ri(c))a=c;else{let d;if(8&i.type)d=fr(c);else{const p=o[Vt];d=p.createComment("");const v=pr(i,o);aa(p,Po(p,v),d,function Sg(i,o){return i.nextSibling(o)}(p,v),!1)}o[i.index]=a=Dv(c,o,d,i),Kg(o,a)}return new R_(a,i,o)}class O_{constructor(o){this.queryList=o,this.matches=null}clone(){return new O_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);d.push(this.queries[v.indexInDeclarationView].clone())}return new Vm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Fp(o,a).matches&&this.queries[a].setDirty()}}class UI{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Bm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Bm(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class k_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new k_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,SC(a,p)),this.matchTNodeWithReadOption(o,a,go(a,o,p,!1,!1))}else c===Wt?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,go(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===dh||d===kp||d===Wt&&4&a.type)this.addMatch(a.index,-2);else{const p=go(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function SC(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function L_(i,o,a,c){return-1===a?function AC(i,o){return 11&i.type?au(i,o):4&i.type?Bh(i,o):null}(o,i):-2===a?function sd(i,o,a){return a===dh?au(o,i):a===Wt?Bh(o,i):a===kp?FI(o,i):void 0}(i,o,c):jn(i,i[We],a,o)}function jh(i,o,a,c){const d=o[Xi].queries[c];if(null===d.matches){const p=i.data,v=a.matches,E=[];for(let C=0;C<v.length;C+=2){const x=v[C];E.push(x<0?null:L_(o,p[x],v[C+1],a.metadata.read))}d.matches=E}return d.matches}function $h(i,o,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const v=jh(i,o,d,a);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(v[E/2]);else{const x=p[E+1],R=o[-C];for(let L=hr;L<R.length;L++){const z=R[L];z[Ho]===z[In]&&$h(z[We],z,x,c)}if(null!==R[no]){const L=R[no];for(let z=0;z<L.length;z++){const J=L[z];$h(J[We],J,x,c)}}}}}return c}function Lp(i){const o=de(),a=Lt(),c=Jc();Nu(c+1);const d=Fp(a,c);if(i.dirty&&function Su(i){return 4==(4&i[kt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?$h(a,o,c,[]):jh(a,o,d,c);i.reset(p,Kf),i.notifyOnChanges()}return!0}return!1}function F_(i,o,a){const c=Lt();c.firstCreatePass&&(V_(c,new UI(i,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),od(c,de(),o)}function U_(i,o,a,c){const d=Lt();if(d.firstCreatePass){const p=ir();V_(d,new UI(o,a,c),p.index),function B_(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}od(d,de(),a)}function va(){return function VI(i,o){return i[Xi].queries[o].queryList}(de(),Jc())}function od(i,o,a){const c=new Um(4==(4&a));gw(i,o,c,c.destroy),null===o[Xi]&&(o[Xi]=new Vm),o[Xi].queries.push(new O_(c))}function V_(i,o,a){null===i.queries&&(i.queries=new Bm),i.queries.track(new k_(o,a))}function Fp(i,o){return i.queries.getByIndex(o)}function ad(i){return!!qn(i)}function Wh(...i){}const YI=new Zt("Application Initializer");let Xn=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Wh,this.reject=Wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(im(p))a.push(p);else if(sm(p)){const v=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(tn(YI,8))},i.\u0275prov=ut({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const nn=new Zt("AppId",{providedIn:"root",factory:function Q_(){return`${zp()}${zp()}${zp()}`}});function zp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gp=new Zt("Platform Initializer"),QI=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let JI=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ut({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Fc=new Zt("LocaleId",{providedIn:"root",factory:()=>On(Fc,pt.Optional|pt.SkipSelf)||function J_(){return typeof $localize<"u"&&$localize.locale||Oh}()}),qp=new Zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let eE=(()=>{class i{compileModuleSync(a){return new ma(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=ca(qn(a).declarations).reduce((v,E)=>{const C=gt(E);return C&&v.push(new _c(C)),v},[]);return new XI(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ut({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const e0=(()=>Promise.resolve(0))();function Uc(i){typeof Zone>"u"?e0.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class dn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qi(!1),this.onMicrotaskEmpty=new qi(!1),this.onStable=new qi(!1),this.onError=new qi(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function iE(){let i=Jt.requestAnimationFrame,o=Jt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _a(i){const o=()=>{!function Wp(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Jt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Kp(i),i.isCheckStableRunning=!0,Wm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Kp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,v,E)=>{try{return n0(i),a.invokeTask(d,p,v,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),Kh(i)}},onInvoke:(a,c,d,p,v,E,C)=>{try{return n0(i),a.invoke(d,p,v,E,C)}finally{i.shouldCoalesceRunChangeDetection&&o(),Kh(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Kp(i),Wm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dn.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(dn.isInAngularZone())throw new fe(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+d,o,t0,Wh,Wh);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const t0={};function Wm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Kp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function n0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Kh(i){i._nesting--,Wm(i)}class sE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qi,this.onMicrotaskEmpty=new qi,this.onStable=new qi,this.onError=new qi}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const r0=new Zt(""),s0=new Zt("");let Yp,zC=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yp||(function Zp(i){Yp=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dn.assertNotInAngularZone(),Uc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(tn(dn),tn(oE),tn(s0))},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})(),oE=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Yp?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ut({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const mu=!1;let yu=null;const Km=new Zt("AllowMultipleToken"),Zm=new Zt("PlatformDestroyListeners"),aE=new Zt("appBootstrapListener");class qC{constructor(o,a){this.name=o,this.token=a}}function a0(i,o,a=[]){const c=`Platform: ${o}`,d=new Zt(c);return(p=[])=>{let v=Ym();if(!v||v.injector.get(Km,!1)){const E=[...a,...p,{provide:d,useValue:!0}];i?i(E):function Vc(i){if(yu&&!yu.get(Km,!1))throw new fe(400,!1);yu=i;const o=i.get(Qp);(function o0(i){const o=i.get(Gp,null);o&&o.forEach(a=>a())})(i)}(function u0(i=[],o){return fh.create({name:o,providers:[{provide:yc,useValue:"platform"},{provide:Zm,useValue:new Set([()=>yu=null])},...i]})}(E,c))}return function vu(i){const o=Ym();if(!o)throw new fe(401,!1);return o}()}}function Ym(){return yu?.get(Qp)??null}let Qp=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function jc(i,o){let a;return a="noop"===i?new sE:("zone.js"===i?void 0:i)||new dn(o),a}(c?.ngZone,function Bc(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:dn,useValue:d}];return d.run(()=>{const v=fh.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(v),C=E.injector.get(Zf,null);if(!C)throw new fe(402,!1);return d.runOutsideAngular(()=>{const x=d.onError.subscribe({next:R=>{C.handleError(R)}});E.onDestroy(()=>{Qh(this._modules,E),x.unsubscribe()})}),function $c(i,o,a){try{const c=a();return im(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(C,d,()=>{const x=E.injector.get(Xn);return x.runInitializers(),x.donePromise.then(()=>(function Ql(i){pe(i,"Expected localeId to be defined"),"string"==typeof i&&(Fr=i.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Fc,Oh)||Oh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const d=Yh({},c);return function uE(i,o,a){const c=new ma(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(Jp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new fe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Zm,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(tn(fh))},i.\u0275prov=ut({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Yh(i,o){return Array.isArray(o)?o.reduce(Yh,i):{...i,...o}}let Jp=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{dn.assertNotInAngularZone(),Uc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{dn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),x.unsubscribe()}});this.isStable=(0,re.T)(p,v.pipe((0,ie.B)()))}bootstrap(a,c){const d=a instanceof $0;if(!this._injector.get(Xn).done){!d&&dr(a);throw new fe(405,mu)}let v;v=d?a:this._injector.get(lh).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function GC(i){return i.isBoundToModule}(v)?void 0:this._injector.get(td),x=v.create(fh.NULL,[],c||v.selector,E),R=x.location.nativeElement,L=x.injector.get(r0,null);return L?.registerApplication(R),x.onDestroy(()=>{this.detachView(x.hostView),Qh(this.components,x),L?.unregisterApplication(R)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Qh(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(aE,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Qh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(tn(dn),tn(Ll),tn(Zf))},i.\u0275prov=ut({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Qh(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function lE(){return!1}let eg=(()=>{class i{}return i.__NG_ELEMENT_ID__=dd,i})();function dd(i){return function ZC(i,o,a){if(qo(i)&&!a){const c=rr(i.index,o);return new ap(c,c)}return 47&i.type?new ap(o[Bn],o):null}(ir(),de(),16==(16&i))}class h0{constructor(){}supports(o){return nm(o)}create(o){return new ny(o)}}const rg=(i,o)=>o;class ny{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||rg}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<hi(c,d,p)?a:c,E=hi(v,d,p),C=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{p||(p=[]);const x=E-d,R=C-d;if(x!=R){for(let z=0;z<x;z++){const J=z<p.length?p[z]:p[z]=0,ve=J+z;R<=ve&&ve<x&&(p[z]=J+1)}p[v.previousIndex]=R-x}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!nm(o))throw new fe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],v=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,E),c=!0),a=a._next}else d=0,function bw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new ig(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new f0),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ig{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class f0{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new fE,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hi(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class p0{constructor(){}supports(o){return o instanceof Map||Lv(o)}create(){return new ry}}class ry{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Lv(o)))throw new fe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,v=d._next;return p&&(p._next=v),v&&(v._prev=p),d._next=null,d._prev=null,d}const c=new iy(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class iy{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g0(){return new wa([new h0])}let wa=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||g0()),deps:[[i,new Dt,new Wa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new fe(901,!1)}}return i.\u0275prov=ut({token:i,providedIn:"root",factory:g0}),i})();function m0(){return new _u([new p0])}let _u=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||m0()),deps:[[i,new Dt,new Wa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new fe(901,!1)}}return i.\u0275prov=ut({token:i,providedIn:"root",factory:m0}),i})();const pE=a0(null,"core",[]);let eT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(tn(Jp))},i.\u0275mod=X({type:i}),i.\u0275inj=ft({}),i})();function gE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},8140:(mt,Se,k)=>{k.d(Se,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=k(6881)},1274:(mt,Se,k)=>{k.d(Se,{Z:()=>m.Z});var m=k(3942)},8463:(mt,Se,k)=>{k.r(Se);var m=k(5861),Y=k(3942),O=k(2090),re=k(6881),ie=k(7582),se=k(1877);k(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ot=Te,fe=new O.LL("auth","Firebase",Te()),Re=new se.Yd("@firebase/auth");function Pe(y,...h){Re.logLevel<=se.in.ERROR&&Re.error(`Auth (${re.SDK_VERSION}): ${y}`,...h)}function Ie(y,...h){throw tt(y,...h)}function Ee(y,...h){return tt(y,...h)}function ze(y,h,f){const _=Object.assign(Object.assign({},ot()),{[h]:f});return new O.LL("auth","Firebase",_).create(h,{appName:y.name})}function Oe(y,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Ie(y,"argument-error"),ze(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(y,...h){if("string"!=typeof y){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(f,..._)}return fe.create(y,...h)}function ne(y,h,...f){if(!y)throw tt(h,...f)}function Et(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Pe(h),new Error(h)}function Je(y,h){y||Et(h)}function $t(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function xs(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Zi{constructor(h,f){this.shortDelay=h,this.longDelay=f,Je(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Yr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function it(){return"http:"===xs()||"https:"===xs()}()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(y,h){Je(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class ce{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new Zi(3e4,6e4);function be(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function De(y,h,f,_){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(y,h,f,_,b={}){return ut(y,b,(0,m.Z)(function*(){let M={},U={};_&&("GET"===h?U=_:M={body:JSON.stringify(_)});const K=(0,O.xO)(Object.assign({key:y.config.apiKey},U)).slice(1),Ae=yield y._getAdditionalHeaders();return Ae["Content-Type"]="application/json",y.languageCode&&(Ae["X-Firebase-Locale"]=y.languageCode),ce.fetch()(Dn(y,y.config.apiHost,f,K),Object.assign({method:h,headers:Ae,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ut(y,h,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(y,h,f){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},pe),h);try{const b=new gn(y),M=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const U=yield M.json();if("needConfirmation"in U)throw Un(y,"account-exists-with-different-credential",U);if(M.ok&&!("errorMessage"in U))return U;{const K=M.ok?U.errorMessage:U.error.message,[Ae,He]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Un(y,"credential-already-in-use",U);if("EMAIL_EXISTS"===Ae)throw Un(y,"email-already-in-use",U);if("USER_DISABLED"===Ae)throw Un(y,"user-disabled",U);const Xe=_[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw ze(y,Xe,He);Ie(y,Xe)}}catch(b){if(b instanceof O.ZR)throw b;Ie(y,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function ft(y,h,f,_){return qt.apply(this,arguments)}function qt(){return(qt=(0,m.Z)(function*(y,h,f,_,b={}){const M=yield De(y,h,f,_,b);return"mfaPendingCredential"in M&&Ie(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Dn(y,h,f,_){const b=`${h}${f}?${_}`;return y.config.emulator?ae(y.config,b):`${y.config.apiScheme}://${b}`}class gn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(Ee(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(y,h,f){const _={appName:y.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const b=Ee(y,h,_);return b.customData._tokenResponse=f,b}function Nn(){return(Nn=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Qr(){return(Qr=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pt(){return(pt=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Jr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function jr(){return(jr=(0,m.Z)(function*(y,h=!1){const f=(0,O.m9)(y),_=yield f.getIdToken(h),b=Jt(_);ne(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const M="object"==typeof b.firebase?b.firebase:void 0,U=M?.sign_in_provider;return{claims:b,token:_,authTime:Jr(Yi(b.auth_time)),issuedAtTime:Jr(Yi(b.iat)),expirationTime:Jr(Yi(b.exp)),signInProvider:U||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Yi(y){return 1e3*Number(y)}function Jt(y){const[h,f,_]=y.split(".");if(void 0===h||void 0===f||void 0===_)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.tV)(f);return b?JSON.parse(b):(Pe("Failed to decode base64 JWT payload"),null)}catch(b){return Pe("Caught error parsing JWT payload as JSON",b?.toString()),null}}function nt(y,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(y,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof O.ZR&&function fi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}class Xr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class lr{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $r(y){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,m.Z)(function*(y){var h;const f=y.auth,_=yield y.getIdToken(),b=yield nt(y,function Sr(y,h){return pt.apply(this,arguments)}(f,{idToken:_}));ne(b?.users.length,f,"internal-error");const M=b.users[0];y._notifyReloadListener(M);const U=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?function Kt(y){return y.map(h=>{var{providerId:f}=h,_=(0,ie._T)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(M.providerUserInfo):[],K=function Ms(y,h){return[...y.filter(_=>!h.some(b=>b.providerId===_.providerId)),...h]}(y.providerData,U),Xe=!!y.isAnonymous&&!(y.email&&M.passwordHash||K?.length),et={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:K,metadata:new lr(M.createdAt,M.lastLoginAt),isAnonymous:Xe};Object.assign(y,et)}),Mn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(y){const h=(0,O.m9)(y);yield $r(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function tn(){return(tn=(0,m.Z)(function*(y,h){const f=yield ut(y,{},(0,m.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:b,apiKey:M}=y.config,U=Dn(y,b,"/v1/token",`key=${M}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",ce.fetch()(U,{method:"POST",headers:K,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ne(h.idToken,"internal-error"),ne(typeof h.idToken<"u","internal-error"),ne(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function en(y){const h=Jt(y);return ne(h,"internal-error"),ne(typeof h.exp<"u","internal-error"),ne(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var _=this;return(0,m.Z)(function*(){return ne(!_.accessToken||_.refreshToken,h,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,m.Z)(function*(){const{accessToken:b,refreshToken:M,expiresIn:U}=yield function Qi(y,h){return tn.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(b,M,Number(U))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:b,expirationTime:M}=f,U=new pi;return _&&(ne("string"==typeof _,"internal-error",{appName:h}),U.refreshToken=_),b&&(ne("string"==typeof b,"internal-error",{appName:h}),U.accessToken=b),M&&(ne("number"==typeof M,"internal-error",{appName:h}),U.expirationTime=M),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new pi,this.toJSON())}_performRefresh(){return Et("not implemented")}}function On(y,h){ne("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class Gn{constructor(h){var{uid:f,auth:_,stsTokenManager:b}=h,M=(0,ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new lr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,m.Z)(function*(){const _=yield nt(f,f.stsTokenManager.getToken(f.auth,h));return ne(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function _r(y){return jr.apply(this,arguments)}(this,h)}reload(){return function ei(y){return hn.apply(this,arguments)}(this)}_assign(h){this!==h&&(ne(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new Gn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,m.Z)(function*(){let b=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),b=!0),f&&(yield $r(_)),yield _.auth._persistUserIfCurrent(_),b&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,m.Z)(function*(){const f=yield h.getIdToken();return yield nt(h,function cr(y,h){return Nn.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,b,M,U,K,Ae,He,Xe;const et=null!==(_=f.displayName)&&void 0!==_?_:void 0,bn=null!==(b=f.email)&&void 0!==b?b:void 0,Hs=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Nl=null!==(U=f.photoURL)&&void 0!==U?U:void 0,Uy=null!==(K=f.tenantId)&&void 0!==K?K:void 0,Pn=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,Og=null!==(He=f.createdAt)&&void 0!==He?He:void 0,kg=null!==(Xe=f.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:rh,emailVerified:Ol,isAnonymous:Hi,providerData:ih,stsTokenManager:mc}=f;ne(rh&&mc,h,"internal-error");const Vy=pi.fromJSON(this.name,mc);ne("string"==typeof rh,h,"internal-error"),On(et,h.name),On(bn,h.name),ne("boolean"==typeof Ol,h,"internal-error"),ne("boolean"==typeof Hi,h,"internal-error"),On(Hs,h.name),On(Nl,h.name),On(Uy,h.name),On(Pn,h.name),On(Og,h.name),On(kg,h.name);const sh=new Gn({uid:rh,auth:h,email:bn,emailVerified:Ol,displayName:et,isAnonymous:Hi,photoURL:Nl,phoneNumber:Hs,tenantId:Uy,stsTokenManager:Vy,createdAt:Og,lastLoginAt:kg});return ih&&Array.isArray(ih)&&(sh.providerData=ih.map(By=>Object.assign({},By))),Pn&&(sh._redirectEventId=Pn),sh}static _fromIdTokenResponse(h,f,_=!1){return(0,m.Z)(function*(){const b=new pi;b.updateFromServerResponse(f);const M=new Gn({uid:f.localId,auth:h,stsTokenManager:b,isAnonymous:_});return yield $r(M),M})()}}const Ri=new Map;function wn(y){Je(y instanceof Function,"Expected a class definition");let h=Ri.get(y);return h?(Je(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,Ri.set(y,h),h)}function V(y,h,f){return`firebase:${y}:${h}:${f}`}function Q(y=(0,O.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Yt(y=(0,O.z$)()){return/android/i.test(y)}function sn(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ji(y=(0,O.z$)()){return sn(y)||Yt(y)||function Cn(y=(0,O.z$)()){return/webos/i.test(y)}(y)||function Vn(y=(0,O.z$)()){return/blackberry/i.test(y)}(y)||/windows phone/i.test(y)||function Tt(y=(0,O.z$)()){return/iemobile/i.test(y)}(y)}function un(y){return(0,O.m9)(y)}class as{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Et("not implemented")}_getIdTokenResponse(h){return Et("not implemented")}_linkToIdToken(h,f){return Et("not implemented")}_getReauthenticationResolver(h){return Et("not implemented")}}function Ho(y,h){return us.apply(this,arguments)}function us(){return(us=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ti(y,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:sendOobCode",be(y,h))})).apply(this,arguments)}function Go(){return(Go=(0,m.Z)(function*(y,h){return ti(y,h)})).apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(y,h){return ti(y,h)})).apply(this,arguments)}function Oi(y,h){return _d.apply(this,arguments)}function _d(){return(_d=(0,m.Z)(function*(y,h){return ft(y,"POST","/v1/accounts:signInWithIdp",be(y,h))})).apply(this,arguments)}class cs extends as{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new cs(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Ie("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:b}=f,M=(0,ie._T)(f,["providerId","signInMethod"]);if(!_||!b)return null;const U=new cs(_,b);return U.idToken=M.idToken||void 0,U.accessToken=M.accessToken||void 0,U.secret=M.secret,U.nonce=M.nonce,U.pendingToken=M.pendingToken||null,U}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Oi(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Oi(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Kc(){return(Kc=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:sendVerificationCode",be(y,h))})).apply(this,arguments)}function wd(){return(wd=(0,m.Z)(function*(y,h){return ft(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,h))})).apply(this,arguments)}function Du(){return(Du=(0,m.Z)(function*(y,h){const f=yield ft(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,h));if(f.temporaryProof)throw Un(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Id={USER_NOT_FOUND:"user-not-found"};function Cu(){return(Cu=(0,m.Z)(function*(y,h){return ft(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Id)})).apply(this,arguments)}class vi extends as{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new vi({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new vi({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function gg(y,h){return wd.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function mg(y,h){return Du.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Iy(y,h){return Cu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:b}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:b}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:b,temporaryProof:M}=h;return _||f||b||M?new vi({verificationId:f,verificationCode:_,phoneNumber:b,temporaryProof:M}):null}}class ls{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class es extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ro extends es{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return ne("providerId"in f&&"signInMethod"in f,"argument-error"),cs._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ne(h.idToken||h.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ro.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ro.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:b,pendingToken:M,nonce:U,providerId:K}=h;if(!_&&!b&&!f&&!M||!K)return null;try{return new ro(K)._credential({idToken:f,accessToken:_,nonce:U,pendingToken:M})}catch{return null}}}let Zc=(()=>{class y extends es{constructor(){super("facebook.com")}static credential(f){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Aa=(()=>{class y extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:b}=f;if(!_&&!b)return null;try{return y.credential(_,b)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Dd=(()=>{class y extends es{constructor(){super("github.com")}static credential(f){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ns extends as{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Oi(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Oi(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:b,pendingToken:M}=f;return _&&b&&M&&_===b?new Ns(_,M):null}static _create(h,f){return new Ns(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let bu=(()=>{class y extends es{constructor(){super("twitter.com")}static credential(f,_){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:b}=f;if(!_||!b)return null;try{return y.credential(_,b)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();class xr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,b=!1){return(0,m.Z)(function*(){const M=yield Gn._fromIdTokenResponse(h,_,b),U=xa(_);return new xr({user:M,providerId:U,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const b=xa(_);return new xr({user:h,providerId:b,_tokenResponse:_,operationType:f})})()}}function xa(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class ds extends O.ZR{constructor(h,f,_,b){var M;super(f.code,f.message),this.operationType=_,this.user=b,Object.setPrototypeOf(this,ds.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,b){return new ds(h,f,_,b)}}function pr(y,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?ds._fromErrorAndOperation(y,M,h,_):M})}function Cd(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Mr(){return Mr=(0,m.Z)(function*(y,h){const f=(0,O.m9)(y);yield hs(!0,f,h);const{providerUserInfo:_}=yield function Br(y,h){return Qr.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),b=Cd(_||[]);return f.providerData=f.providerData.filter(M=>b.has(M.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Mr.apply(this,arguments)}function rr(y,h){return Su.apply(this,arguments)}function Su(){return(Su=(0,m.Z)(function*(y,h,f=!1){const _=yield nt(y,h._linkToIdToken(y.auth,yield y.getIdToken()),f);return xr._forOperation(y,"link",_)})).apply(this,arguments)}function hs(y,h,f){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,m.Z)(function*(y,h,f){yield $r(h);const b=!1===y?"provider-already-linked":"no-such-provider";ne(Cd(h.providerData).has(f)===y,h.auth,b)})).apply(this,arguments)}function ks(y,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(y,h,f=!1){const{auth:_}=y,b="reauthenticate";try{const M=yield nt(y,pr(_,b,h,y),f);ne(M.idToken,_,"internal-error");const U=Jt(M.idToken);ne(U,_,"internal-error");const{sub:K}=U;return ne(y.uid===K,_,"user-mismatch"),xr._forOperation(y,b,M)}catch(M){throw"auth/user-not-found"===M?.code&&Ie(_,"user-mismatch"),M}})).apply(this,arguments)}function Ma(y,h){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,m.Z)(function*(y,h,f=!1){const _="signIn",b=yield pr(y,_,h),M=yield xr._fromIdTokenResponse(y,_,b);return f||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Sd(y,h){return Au.apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(y,h){const f=(0,O.m9)(y);return yield hs(!1,f,h.providerId),rr(f,h)})).apply(this,arguments)}function Ad(y,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,m.Z)(function*(y,h){return ks((0,O.m9)(y),h)})).apply(this,arguments)}class Pa{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Na._fromServerResponse(h,f):"totpInfo"in f?ir._fromServerResponse(h,f):Ie(h,"internal-error")}}class Na extends Pa{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Na(f)}}class ir extends Pa{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new ir(f)}}function io(y,h,f){var _;ne((null===(_=f.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),ne(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ne(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(ne(f.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function La(){return La=(0,m.Z)(function*(y,h){const f=(0,O.m9)(y),b={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&io(f.auth,b,h);const{email:M}=yield function qc(y,h){return Go.apply(this,arguments)}(f.auth,b);M!==y.email&&(yield y.reload())}),La.apply(this,arguments)}function Fa(){return Fa=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};f&&io(_.auth,M,f);const{email:U}=yield function ni(y,h){return ri.apply(this,arguments)}(_.auth,M);U!==y.email&&(yield y.reload())}),Fa.apply(this,arguments)}function Lu(){return(Lu=(0,m.Z)(function*(y,h){return De(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Fu(){return Fu=(0,m.Z)(function*(y,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,O.m9)(y),M={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},U=yield nt(_,function Nd(y,h){return Lu.apply(this,arguments)}(_.auth,M));_.displayName=U.displayName||null,_.photoURL=U.photoUrl||null;const K=_.providerData.find(({providerId:Ae})=>"password"===Ae);K&&(K.displayName=_.displayName,K.photoURL=_.photoURL),yield _._updateTokensIfNecessary(U)}),Fu.apply(this,arguments)}function Tn(y,h,f){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,m.Z)(function*(y,h,f){const{auth:_}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(M.email=h),f&&(M.password=f);const U=yield nt(y,Ho(_,M));yield y._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class oo{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class gf extends oo{constructor(h,f,_,b){super(h,f,_),this.username=b}}class Od extends oo{constructor(h,f){super(h,"facebook.com",f)}}class wg extends gf{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Vu extends oo{constructor(h,f){super(h,"google.com",f)}}class el extends gf{constructor(h,f,_){super(h,"twitter.com",f,_)}}function tl(y){const{user:h,_tokenResponse:f}=y;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function pf(y){var h,f;if(!y)return null;const{providerId:_}=y,b=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const U=null===(f=null===(h=Jt(y.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(U)return new oo(M,"anonymous"!==U&&"custom"!==U?U:null)}if(!_)return null;switch(_){case"facebook.com":return new Od(M,b);case"github.com":return new wg(M,b);case"google.com":return new Vu(M,b);case"twitter.com":return new el(M,b,y.screenName||null);case"custom":case"anonymous":return new oo(M,null);default:return new oo(M,_,b)}}(f)}class ao{constructor(h,f,_){this.type=h,this.credential=f,this.auth=_}static _fromIdtoken(h,f){return new ao("enroll",h,f)}static _fromMfaPendingCredential(h){return new ao("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return ao._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return ao._fromIdtoken(h.multiFactorSession.idToken)}return null}}class uo{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=un(h),b=f.customData._serverResponse,M=(b.mfaInfo||[]).map(K=>Pa._fromServerResponse(_,K));ne(b.mfaPendingCredential,_,"internal-error");const U=ao._fromMfaPendingCredential(b.mfaPendingCredential);return new uo(U,M,function(){var K=(0,m.Z)(function*(Ae){const He=yield Ae._process(_,U);delete b.mfaInfo,delete b.mfaPendingCredential;const Xe=Object.assign(Object.assign({},b),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const et=yield xr._fromIdTokenResponse(_,f.operationType,Xe);return yield _._updateCurrentUser(et.user),et;case"reauthenticate":return ne(f.user,_,"internal-error"),xr._forOperation(f.user,f.operationType,Xe);default:Ie(_,"internal-error")}});return function(Ae){return K.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,m.Z)(function*(){return f.signInResolver(h)})()}}class ho{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>Pa._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new ho(h)}getSession(){var h=this;return(0,m.Z)(function*(){return ao._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var _=this;return(0,m.Z)(function*(){const b=h,M=yield _.getSession(),U=yield nt(_.user,b._process(_.user.auth,M,f));return yield _.user._updateTokensIfNecessary(U),_.user.reload()})()}unenroll(h){var f=this;return(0,m.Z)(function*(){const _="string"==typeof h?h:h.uid,b=yield f.user.getIdToken();try{const M=yield nt(f.user,function $u(y,h){return De(y,"POST","/v2/accounts/mfaEnrollment:withdraw",be(y,h))}(f.user.auth,{idToken:b,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:U})=>U!==_),yield f.user._updateTokensIfNecessary(M),yield f.user.reload()}catch(M){throw M}})()}}const Ls=new WeakMap;class Hu{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class y extends Hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Va(){const y=(0,O.z$)();return Q(y)||sn(y)}()&&function Ea(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ji(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const b=this.storage.getItem(_),M=this.localCache[_];b!==M&&f(_,M,b)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((K,Ae,He)=>{this.notifyListeners(K,He)});const b=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(b);if(f.newValue!==K)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!_)return}const M=()=>{const K=this.storage.getItem(b);!_&&this.localCache[b]===K||this.notifyListeners(b,K)},U=this.storage.getItem(b);!function Ni(){return(0,O.w1)()&&10===document.documentMode}()||U===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,_){this.localCache[f]=_;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var b=()=>super._set,M=this;return(0,m.Z)(function*(){yield b().call(M,f,_),M.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,b=this;return(0,m.Z)(function*(){const M=yield _().call(b,f);return b.localCache[f]=JSON.stringify(M),M})()}_remove(f){var _=()=>super._remove,b=this;return(0,m.Z)(function*(){yield _().call(b,f),delete b.localCache[f]})()}}return y.type="LOCAL",y})(),ms=(()=>{class y extends Hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return y.type="SESSION",y})();function ta(y="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return y+f}function fn(){return window}const Ga="recaptcha";class ns{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=vi._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Qu(){return(Qu=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y);yield hs(!1,_,"phone");const b=yield Ju(_.auth,h,(0,O.m9)(f));return new ns(b,M=>Sd(_,M))})).apply(this,arguments)}function dl(){return(dl=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y),b=yield Ju(_.auth,h,(0,O.m9)(f));return new ns(b,M=>Ad(_,M))})).apply(this,arguments)}function Ju(y,h,f){return qr.apply(this,arguments)}function qr(){return qr=(0,m.Z)(function*(y,h,f){var _;const b=yield f.verify();try{let M;if(ne("string"==typeof b,y,"argument-error"),ne(f.type===Ga,y,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const U=M.session;if("phoneNumber"in M)return ne("enroll"===U.type,y,"internal-error"),(yield function Xo(y,h){return De(y,"POST","/v2/accounts/mfaEnrollment:start",be(y,h))}(y,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ne("signin"===U.type,y,"internal-error");const K=(null===(_=M.multiFactorHint)||void 0===_?void 0:_.uid)||M.multiFactorUid;return ne(K,y,"missing-multi-factor-info"),(yield function vo(y,h){return De(y,"POST","/v2/accounts/mfaSignIn:start",be(y,h))}(y,{mfaPendingCredential:U.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield function pg(y,h){return Kc.apply(this,arguments)}(y,{phoneNumber:M.phoneNumber,recaptchaToken:b});return U}}finally{f._reset()}}),qr.apply(this,arguments)}function Ii(){return(Ii=(0,m.Z)(function*(y,h){yield rr((0,O.m9)(y),h)})).apply(this,arguments)}let ct=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=un(f)}verifyPhoneNumber(f,_){return Ju(this.auth,f,(0,O.m9)(_))}static credential(f,_){return vi._fromVerification(f,_)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:b}=f;return _&&b?vi._fromTokenResponse(_,b):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Rr(y,h){return h?wn(h):(ne(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Rn extends as{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Oi(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Oi(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Oi(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function jd(y){return Ma(y.auth,new Rn(y),y.bypassAuthState)}function qa(y){const{auth:h,user:f}=y;return ne(f,h,"internal-error"),ks(f,new Rn(y),y.bypassAuthState)}function Fi(y){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,m.Z)(function*(y){const{auth:h,user:f}=y;return ne(f,h,"internal-error"),rr(f,new Rn(y),y.bypassAuthState)})).apply(this,arguments)}class hl{constructor(h,f,_,b,M=!1){this.auth=h,this.resolver=_,this.user=b,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,m.Z)(function*(_,b){h.pendingPromise={resolve:_,reject:b};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(_,b){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,m.Z)(function*(){const{urlResponse:_,sessionId:b,postBody:M,tenantId:U,error:K,type:Ae}=h;if(K)return void f.reject(K);const He={auth:f.auth,requestUri:_,sessionId:b,tenantId:U||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(He))}catch(Xe){f.reject(Xe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return jd;case"linkViaPopup":case"linkViaRedirect":return Fi;case"reauthViaPopup":case"reauthViaRedirect":return qa;default:Ie(this.auth,"internal-error")}}resolve(h){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ei=new Zi(2e3,1e4);function Us(){return(Us=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y);Oe(_.auth,h,ls);const b=Rr(_.auth,f);return new tc(_.auth,"reauthViaPopup",h,b,_).executeNotNull()})).apply(this,arguments)}function fl(){return(fl=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y);Oe(_.auth,h,ls);const b=Rr(_.auth,f);return new tc(_.auth,"linkViaPopup",h,b,_).executeNotNull()})).apply(this,arguments)}let tc=(()=>{class y extends hl{constructor(f,_,b,M,U){super(f,_,M,U),this.provider=b,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,m.Z)(function*(){const _=yield f.execute();return ne(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,m.Z)(function*(){Je(1===f.filter.length,"Popup operations only handle one event");const _=ta();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(Ee(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,b;this.pollId=null!==(b=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Ei.get())};f()}}return y.currentPopupAction=null,y})();const Io="pendingRedirect",Eo=new Map;class Pr extends hl{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,m.Z)(function*(){let _=Eo.get(f.auth._key());if(!_){try{const M=(yield function pl(y,h){return gl.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(M)}catch(b){_=()=>Promise.reject(b)}Eo.set(f.auth._key(),_)}return f.bypassAuthState||Eo.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const b=yield _.auth._redirectUserForId(h.eventId);if(b)return _.user=b,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function gl(){return(gl=(0,m.Z)(function*(y,h){const f=Ka(h),_=rc(y);if(!(yield _._isAvailable()))return!1;const b="true"===(yield _._get(f));return yield _._remove(f),b})).apply(this,arguments)}function Do(y,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,m.Z)(function*(y,h){return rc(y)._set(Ka(h),"true")})).apply(this,arguments)}function $d(y,h){Eo.set(y._key(),h)}function rc(y){return wn(y._redirectPersistence)}function Ka(y){return V(Io,y.config.apiKey,y.name)}function Ya(y,h,f){return function Ui(y,h,f){return Qa.apply(this,arguments)}(y,h,f)}function Qa(){return(Qa=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y);Oe(_.auth,h,ls),yield _.auth._initializationPromise;const b=Rr(_.auth,f);yield Do(b,_.auth);const M=yield $n(_);return b._openRedirect(_.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function Nr(y,h,f){return function ml(y,h,f){return yl.apply(this,arguments)}(y,h,f)}function yl(){return(yl=(0,m.Z)(function*(y,h,f){const _=(0,O.m9)(y);Oe(_.auth,h,ls),yield _.auth._initializationPromise;const b=Rr(_.auth,f);yield hs(!1,_,h.providerId),yield Do(b,_.auth);const M=yield $n(_);return b._openRedirect(_.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function bo(y,h){return ii.apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(y,h,f=!1){const _=un(y),b=Rr(_,h),U=yield new Pr(_,b,f).execute();return U&&!f&&(delete U.user._redirectEventId,yield _._persistUserIfCurrent(U.user),yield _._setRedirectUser(null,h)),U})).apply(this,arguments)}function $n(y){return So.apply(this,arguments)}function So(){return(So=(0,m.Z)(function*(y){const h=ta(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class sa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function gr(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vs(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!vs(h)){const b=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(Ee(this.auth,b))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vi(h))}saveEventToCache(h){this.cachedEventUids.add(Vi(h)),this.lastProcessedEventTime=Date.now()}}function Vi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function vs({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function Ao(y){return bf.apply(this,arguments)}function bf(){return(bf=(0,m.Z)(function*(y,h={}){return De(y,"GET","/v1/projects",h)})).apply(this,arguments)}const ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sc=/^https?/;function _s(){return(_s=(0,m.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Ao(y);for(const f of h)try{if(_l(f))return}catch{}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function _l(y){const h=$t(),{protocol:f,hostname:_}=new URL(h);if(y.startsWith("chrome-extension://")){const U=new URL(y);return""===U.hostname&&""===_?"chrome-extension:"===f&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&U.hostname===_}if(!sc.test(f))return!1;if(ic.test(y))return _===y;const b=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(_)}const ac=new Zi(3e4,6e4);function vt(){const y=fn().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let uc=null;function Di(y){return uc=uc||function Bi(y){return new Promise((h,f)=>{var _,b,M;function U(){vt(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{vt(),f(Ee(y,"network-request-failed"))},timeout:ac.get()})}if(null!==(b=null===(_=fn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==b&&b.Iframe)h(gapi.iframes.getContext());else{if(null===(M=fn().gapi)||void 0===M||!M.load){const K=function qn(y){return`__${y}${Math.floor(1e6*Math.random())}`}("iframefcb");return fn()[K]=()=>{gapi.load?U():f(Ee(y,"network-request-failed"))},function dr(y){return new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=h,_.onerror=b=>{const M=Ee("internal-error");M.customData=b,f(M)},_.type="text/javascript",_.charset="UTF-8",function Qt(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(_)})}(`https://apis.google.com/js/api.js?onload=${K}`).catch(Ae=>f(Ae))}U()}}).catch(h=>{throw uc=null,h})}(y),uc}const Sf=new Zi(5e3,15e3),zd="__/auth/iframe",ji="emulator/auth/iframe",Gd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wd(y){const h=y.config;ne(h.authDomain,y,"auth-domain-config-required");const f=h.emulator?ae(h,ji):`https://${y.config.authDomain}/${zd}`,_={apiKey:h.apiKey,appName:y.name,v:re.SDK_VERSION},b=qd.get(y.config.apiHost);b&&(_.eid=b);const M=y._getFrameworks();return M.length&&(_.fw=M.join(",")),`${f}?${(0,O.xO)(_).slice(1)}`}function D(){return D=(0,m.Z)(function*(y){const h=yield Di(y),f=fn().gapi;return ne(f,y,"internal-error"),h.open({where:document.body,url:Wd(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gd,dontclear:!0},_=>new Promise(function(){var b=(0,m.Z)(function*(M,U){yield _.restyle({setHideOnLeave:!1});const K=Ee(y,"network-request-failed"),Ae=fn().setTimeout(()=>{U(K)},Sf.get());function He(){fn().clearTimeout(Ae),M(_)}_.ping(He).then(He,()=>{U(K)})});return function(M,U){return b.apply(this,arguments)}}()))}),D.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,$=600,W="_blank",te="http://localhost";class Ge{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $e(y,h,f,_=N,b=$){const M=Math.max((window.screen.availHeight-b)/2,0).toString(),U=Math.max((window.screen.availWidth-_)/2,0).toString();let K="";const Ae=Object.assign(Object.assign({},A),{width:_.toString(),height:b.toString(),top:M,left:U}),He=(0,O.z$)().toLowerCase();f&&(K=function Le(y=(0,O.z$)()){return/crios\//i.test(y)}(He)?W:f),function ye(y=(0,O.z$)()){return/firefox\//i.test(y)}(He)&&(h=h||te,Ae.scrollbars="yes");const Xe=Object.entries(Ae).reduce((bn,[Hs,Nl])=>`${bn}${Hs}=${Nl},`,"");if(function Ar(y=(0,O.z$)()){var h;return sn(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(He)&&"_self"!==K)return function st(y,h){const f=document.createElement("a");f.href=y,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",K),new Ge(null);const et=window.open(h||"",K,Xe);ne(et,y,"popup-blocked");try{et.focus()}catch{}return new Ge(et)}const At="__/auth/handler",xt="emulator/auth/handler",Or=encodeURIComponent("fac");function pn(y,h,f,_,b,M){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,m.Z)(function*(y,h,f,_,b,M){ne(y.config.authDomain,y,"auth-domain-config-required"),ne(y.config.apiKey,y,"invalid-api-key");const U={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:_,v:re.SDK_VERSION,eventId:b};if(h instanceof ls){h.setDefaultLanguage(y.languageCode),U.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(U.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Xe,et]of Object.entries(M||{}))U[Xe]=et}if(h instanceof es){const Xe=h.getScopes().filter(et=>""!==et);Xe.length>0&&(U.scopes=Xe.join(","))}y.tenantId&&(U.tid=y.tenantId);const K=U;for(const Xe of Object.keys(K))void 0===K[Xe]&&delete K[Xe];const Ae=yield y._getAppCheckToken(),He=Ae?`#${Or}=${encodeURIComponent(Ae)}`:"";return`${function Vs({config:y}){return y.emulator?ae(y,xt):`https://${y.authDomain}/${At}`}(y)}?${(0,O.xO)(K).slice(1)}${He}`})).apply(this,arguments)}const xo="webStorageSupport",$i=class mr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=bo,this._overrideRedirectResult=$d}_openPopup(h,f,_,b){var M=this;return(0,m.Z)(function*(){var U;Je(null===(U=M.eventManagers[h._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const K=yield pn(h,f,_,$t(),b);return $e(h,K,ta())})()}_openRedirect(h,f,_,b){var M=this;return(0,m.Z)(function*(){return yield M._originValidation(h),function Vd(y){fn().location.href=y}(yield pn(h,f,_,$t(),b)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:b,promise:M}=this.eventManagers[f];return b?Promise.resolve(b):(Je(M,"If manager is not set, promise should be"),M)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,m.Z)(function*(){const _=yield function I(y){return D.apply(this,arguments)}(h),b=new sa(h);return _.register("authEvent",M=>(ne(M?.authEvent,h,"invalid-auth-event"),{status:b.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:b},f.iframes[h._key()]=_,b})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(xo,{type:xo},b=>{var M;const U=null===(M=b?.[0])||void 0===M?void 0:M[xo];void 0!==U&&f(!!U),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function oc(y){return _s.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ji()||Q()||sn()}};function Xa(){return window}const Ay=2e3;function Dl(){return Dl=(0,m.Z)(function*(y,h,f){var _;const{BuildInfo:b}=Xa();Je(h.sessionId,"AuthEvent did not contain a session ID");const M=yield function aa(y){return Cl.apply(this,arguments)}(h.sessionId),U={};return sn()?U.ibi=b.packageName:Yt()?U.apn=b.packageName:Ie(y,"operation-not-supported-in-this-environment"),b.displayName&&(U.appDisplayName=b.displayName),U.sessionId=M,pn(y,f,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,U)}),Dl.apply(this,arguments)}function oa(){return(oa=(0,m.Z)(function*(y){const{BuildInfo:h}=Xa(),f={};sn()?f.iosBundleId=h.packageName:Yt()?f.androidPackageName=h.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Ao(y,f)})).apply(this,arguments)}function lc(){return(lc=(0,m.Z)(function*(y,h,f){const{cordova:_}=Xa();let b=()=>{};try{yield new Promise((M,U)=>{let K=null;function Ae(){var et;M();const bn=null===(et=_.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof bn&&bn(),"function"==typeof f?.close&&f.close()}function He(){K||(K=window.setTimeout(()=>{U(Ee(y,"redirect-cancelled-by-user"))},Ay))}function Xe(){"visible"===document?.visibilityState&&He()}h.addPassiveListener(Ae),document.addEventListener("resume",He,!1),Yt()&&document.addEventListener("visibilitychange",Xe,!1),b=()=>{h.removePassiveListener(Ae),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",Xe,!1),K&&window.clearTimeout(K)}})}finally{b()}})).apply(this,arguments)}function Cl(){return(Cl=(0,m.Z)(function*(y){const h=function bg(y){if(Je(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),f=new Uint8Array(h);for(let _=0;_<y.length;_++)f[_]=y.charCodeAt(_);return f}(y),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Tl=20;class Yd extends sa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,m.Z)(function*(){yield h.initPromise})()}}function Qd(y){return bl.apply(this,arguments)}function bl(){return(bl=(0,m.Z)(function*(y){const h=yield Jd()._get(nu(y));return h&&(yield Jd()._remove(nu(y))),h})).apply(this,arguments)}function Pf(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<Tl;f++){const _=Math.floor(Math.random()*h.length);y.push(h.charAt(_))}return y.join("")}function Jd(){return wn(po)}function nu(y){return V("authEvent",y.config.apiKey,y.name)}function ws(y){if(!y?.includes("?"))return{};const[h,...f]=y.split("?");return(0,O.zd)(f.join("?"))}const Al=class Sl{constructor(){this._redirectPersistence=ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bo,this._overrideRedirectResult=$d}_initialize(h){var f=this;return(0,m.Z)(function*(){const _=h._key();let b=f.eventManagers.get(_);return b||(b=new Yd(h),f.eventManagers.set(_,b),f.attachCallbackListeners(h,b)),b})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,_,b){var M=this;return(0,m.Z)(function*(){!function My(y){var h,f,_,b,M,U,K,Ae,He,Xe;const et=Xa();ne("function"==typeof(null===(h=et?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(f=et?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(M=null===(b=null===(_=et?.cordova)||void 0===_?void 0:_.plugins)||void 0===b?void 0:b.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ae=null===(K=null===(U=et?.cordova)||void 0===U?void 0:U.plugins)||void 0===K?void 0:K.browsertab)||void 0===Ae?void 0:Ae.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Xe=null===(He=et?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===Xe?void 0:Xe.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const U=yield M._initialize(h);yield U.initialized(),U.resetRedirect(),function nc(){Eo.clear()}(),yield M._originValidation(h);const K=function Po(y,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:Pf(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(h,_,b);yield function Sg(y,h){return Jd()._set(nu(y),h)}(h,K);const Ae=yield function Tg(y,h,f){return Dl.apply(this,arguments)}(h,K,f),He=yield function xy(y){const{cordova:h}=Xa();return new Promise(f=>{h.plugins.browsertab.isAvailable(_=>{let b=null;_?h.plugins.browsertab.openUrl(y):b=h.InAppBrowser.open(y,function zt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(b)})})}(Ae);return function eu(y,h,f){return lc.apply(this,arguments)}(h,U,He)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Zd(y){return oa.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:_,handleOpenURL:b,BuildInfo:M}=Xa(),U=setTimeout((0,m.Z)(function*(){yield Qd(h),f.onEvent(Of())}),500),K=function(){var Xe=(0,m.Z)(function*(et){clearTimeout(U);const bn=yield Qd(h);let Hs=null;bn&&et?.url&&(Hs=function tu(y,h){var f,_;const b=function eh(y){const h=ws(y),f=h.link?decodeURIComponent(h.link):void 0,_=ws(f).link,b=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ws(b).link||b||_||f||y}(h);if(b.includes("/__/auth/callback")){const M=ws(b),U=M.firebaseError?function Xd(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,K=null===(_=null===(f=U?.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],Ae=K?Ee(K):null;return Ae?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:b,postBody:null}}return null}(bn,et.url)),f.onEvent(Hs||Of())});return function(bn){return Xe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,K);const Ae=b,He=`${M.packageName.toLowerCase()}://`;Xa().handleOpenURL=function(){var Xe=(0,m.Z)(function*(et){if(et.toLowerCase().startsWith(He)&&K({url:et}),"function"==typeof Ae)try{Ae(et)}catch(bn){console.error(bn)}});return function(et){return Xe.apply(this,arguments)}}()}};function Of(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}const Lf=1e3;function rs(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ag(){return function ua(y=(0,O.z$)()){return!("file:"!==rs()&&"ionic:"!==rs()&&"capacitor:"!==rs()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function hc(){return(hc=(0,m.Z)(function*(){return!!Ag()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},Lf);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Vf="persistence";function Bf(y){return jf.apply(this,arguments)}function jf(){return(jf=(0,m.Z)(function*(y){yield y._initializationPromise;const h=function $f(){var y;try{return(null===(y=function Uf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}(),f=V(Vf,y.config.apiKey,y.name);h&&h.setItem(f,y._getPersistence())})).apply(this,arguments)}const Hf=ne;class kr{constructor(){this.browserResolver=wn($i),this.cordovaResolver=wn(Al),this.underlyingResolver=null,this._redirectPersistence=ms,this._completeRedirectFn=bo,this._overrideRedirectResult=$d}_initialize(h){var f=this;return(0,m.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,_,b){var M=this;return(0,m.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,f,_,b)})()}_openRedirect(h,f,_,b){var M=this;return(0,m.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,f,_,b)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ag()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,m.Z)(function*(){if(h.underlyingResolver)return;const f=yield function xg(){return hc.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function Ti(y){return y.unwrap()}function ky(y){return Fy(y)}function Fy(y){const{_tokenResponse:h}=y instanceof O.ZR?y.customData:y;if(!h)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ct.credentialFromResult(y);const f=h.providerId;if(!f||f===he.PASSWORD)return null;let _;switch(f){case he.GOOGLE:_=Aa;break;case he.FACEBOOK:_=Zc;break;case he.GITHUB:_=Dd;break;case he.TWITTER:_=bu;break;default:const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:K,nonce:Ae}=h;return M||U||b||K?K?f.startsWith("saml.")?Ns._create(f,K):cs._fromParams({providerId:f,signInMethod:f,pendingToken:K,idToken:b,accessToken:M}):new ro(f).credential({idToken:b,accessToken:M,rawNonce:Ae}):null}return y instanceof O.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function yr(y,h){return h.catch(f=>{throw f instanceof O.ZR&&function Ly(y,h){var f;const _=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new nh(y,function ju(y,h){var f;const _=(0,O.m9)(y),b=h;return ne(h.customData.operationType,_,"argument-error"),ne(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),uo._fromError(_,b)}(y,h));else if(_){const b=Fy(h),M=h;b&&(M.credential=b,M.tenantId=_.tenantId||void 0,M.email=_.email||void 0,M.phoneNumber=_.phoneNumber||void 0)}}(y,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:ky(f),additionalUserInfo:tl(f),user:$s.getOrCreate(b)}})}function zf(y,h){return th.apply(this,arguments)}function th(){return(th=(0,m.Z)(function*(y,h){const f=yield h;return{verificationId:f.verificationId,confirm:_=>yr(y,f.confirm(_))}})).apply(this,arguments)}class nh{constructor(h,f){this.resolver=f,this.auth=function fc(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return yr(Ti(this.auth),this.resolver.resolveSignIn(h))}}class $s{constructor(h){this._delegate=h,this.multiFactor=function Ld(y){const h=(0,O.m9)(y);return Ls.has(h)||Ls.set(h,ho._fromUser(h)),Ls.get(h)}(h)}static getOrCreate(h){return $s.USER_MAP.has(h)||$s.USER_MAP.set(h,new $s(h)),$s.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,m.Z)(function*(){return yr(f.auth,Sd(f._delegate,h))})()}linkWithPhoneNumber(h,f){var _=this;return(0,m.Z)(function*(){return zf(_.auth,function Yu(y,h,f){return Qu.apply(this,arguments)}(_._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,m.Z)(function*(){return yr(f.auth,function Dt(y,h,f){return fl.apply(this,arguments)}(f._delegate,h,kr))})()}linkWithRedirect(h){var f=this;return(0,m.Z)(function*(){return yield Bf(un(f.auth)),Nr(f._delegate,h,kr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,m.Z)(function*(){return yr(f.auth,Ad(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return zf(this.auth,function Cf(y,h,f){return dl.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return yr(this.auth,function Wa(y,h,f){return Us.apply(this,arguments)}(this._delegate,h,kr))}reauthenticateWithRedirect(h){var f=this;return(0,m.Z)(function*(){return yield Bf(un(f.auth)),Ya(f._delegate,h,kr)})()}sendEmailVerification(h){return function ku(y,h){return La.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,m.Z)(function*(){return yield function Td(y,h){return Mr.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function Ir(y,h){return Tn((0,O.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function ps(y,h){return Tn((0,O.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function cn(y,h){return Ii.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function ff(y,h){return Fu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function Xc(y,h,f){return Fa.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$s.USER_MAP=new WeakMap;class su{constructor(){this.providerId="phone",this._delegate=new ct(Ti(Y.Z.auth()))}static credential(h,f){return ct.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}su.PHONE_SIGN_IN_METHOD=ct.PHONE_SIGN_IN_METHOD,su.PROVIDER_ID=ct.PROVIDER_ID},3942:(mt,Se,k)=>{k.d(Se,{Z:()=>qe});var m=k(2090),Y=k(4859),O=k(6881),re=k(1877);class ie{constructor(fe,Me){this._delegate=fe,this.firebase=Me,(0,O._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(fe,Me=O._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(fe);return!Be.isInitialized()&&"EXPLICIT"===(null===(Re=Be.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Me})}_removeServiceInstance(fe,Me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Me)}_addComponent(fe){(0,O._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,O._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function he(){const ot=function we(ot){const fe={},Me={__esModule:!0,initializeApp:function Pe(Oe,tt={}){const ne=O.initializeApp(Oe,tt);if((0,m.r3)(fe,ne.name))return fe[ne.name];const Et=new ot(ne,Me);return fe[ne.name]=Et,Et},app:Be,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Oe){const tt=Oe.name,ne=tt.replace("-compat","");if(O._registerComponent(Oe)&&"PUBLIC"===Oe.type){const Et=(Je=Be())=>{if("function"!=typeof Je[ne])throw ge.create("invalid-app-argument",{appName:tt});return Je[ne]()};void 0!==Oe.serviceProps&&(0,m.ZB)(Et,Oe.serviceProps),Me[ne]=Et,ot.prototype[ne]=function(...Je){return this._getService.bind(this,tt).apply(this,Oe.multipleInstances?Je:[])}}return"PUBLIC"===Oe.type?Me[ne]:null},removeApp:function Re(Oe){delete fe[Oe]},useAsService:function ze(Oe,tt){return"serverAuth"===tt?null:tt},modularAPIs:O}};function Be(Oe){if(!(0,m.r3)(fe,Oe=Oe||O._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Oe});return fe[Oe]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Ie(){return Object.keys(fe).map(Oe=>fe[Oe])}}),Be.App=ot,Me}(ie);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function fe(Me){(0,m.ZB)(ot,Me)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),ot}(),B=new re.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=j;!function Te(ot){(0,O.registerVersion)("@firebase/app-compat","0.2.13",ot)}()},6881:(mt,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Ms,_DEFAULT_ENTRY_NAME:()=>jr,_addComponent:()=>nt,_addOrOverwriteComponent:()=>Mt,_apps:()=>Jt,_clearComponents:()=>$r,_components:()=>en,_getProvider:()=>Xr,_registerComponent:()=>fi,_removeServiceInstance:()=>lr,deleteApp:()=>pi,getApp:()=>Qi,getApps:()=>tn,initializeApp:()=>Kt,onLog:()=>Ri,registerVersion:()=>Gn,setLogLevel:()=>wn});var m=k(5861),Y=k(4859),O=k(1877),re=k(2090);const ie=(le,X)=>X.some(Ne=>le instanceof Ne);let se,ge;const j=new WeakMap,B=new WeakMap,q=new WeakMap,je=new WeakMap,Te=new WeakMap;let fe={get(le,X,Ne){if(le instanceof IDBTransaction){if("done"===X)return B.get(le);if("objectStoreNames"===X)return le.objectStoreNames||q.get(le);if("store"===X)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return Pe(le[X])},set:(le,X,Ne)=>(le[X]=Ne,!0),has:(le,X)=>le instanceof IDBTransaction&&("done"===X||"store"===X)||X in le};function Be(le){return"function"==typeof le?function Re(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...X){return le.apply(Ie(this),X),Pe(j.get(this))}:function(...X){return Pe(le.apply(Ie(this),X))}:function(X,...Ne){const ht=le.call(Ie(this),X,...Ne);return q.set(ht,X.sort?X.sort():[X]),Pe(ht)}}(le):(le instanceof IDBTransaction&&function ot(le){if(B.has(le))return;const X=new Promise((Ne,ht)=>{const wt=()=>{le.removeEventListener("complete",jt),le.removeEventListener("error",gt),le.removeEventListener("abort",gt)},jt=()=>{Ne(),wt()},gt=()=>{ht(le.error||new DOMException("AbortError","AbortError")),wt()};le.addEventListener("complete",jt),le.addEventListener("error",gt),le.addEventListener("abort",gt)});B.set(le,X)}(le),ie(le,function we(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,fe):le)}function Pe(le){if(le instanceof IDBRequest)return function qe(le){const X=new Promise((Ne,ht)=>{const wt=()=>{le.removeEventListener("success",jt),le.removeEventListener("error",gt)},jt=()=>{Ne(Pe(le.result)),wt()},gt=()=>{ht(le.error),wt()};le.addEventListener("success",jt),le.addEventListener("error",gt)});return X.then(Ne=>{Ne instanceof IDBCursor&&j.set(Ne,le)}).catch(()=>{}),Te.set(X,le),X}(le);if(je.has(le))return je.get(le);const X=Be(le);return X!==le&&(je.set(le,X),Te.set(X,le)),X}const Ie=le=>Te.get(le),Oe=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],ne=new Map;function Et(le,X){if(!(le instanceof IDBDatabase)||X in le||"string"!=typeof X)return;if(ne.get(X))return ne.get(X);const Ne=X.replace(/FromIndex$/,""),ht=X!==Ne,wt=tt.includes(Ne);if(!(Ne in(ht?IDBIndex:IDBObjectStore).prototype)||!wt&&!Oe.includes(Ne))return;const jt=function(){var gt=(0,m.Z)(function*(Xt,...Qt){const dr=this.transaction(Xt,wt?"readwrite":"readonly");let qn=dr.store;return ht&&(qn=qn.index(Qt.shift())),(yield Promise.all([qn[Ne](...Qt),wt&&dr.done]))[0]});return function(Qt){return gt.apply(this,arguments)}}();return ne.set(X,jt),jt}!function Me(le){fe=le(fe)}(le=>({...le,get:(X,Ne,ht)=>Et(X,Ne)||le.get(X,Ne,ht),has:(X,Ne)=>!!Et(X,Ne)||le.has(X,Ne)}));class Je{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function $t(le){return"VERSION"===le.getComponent()?.type}(Ne)){const ht=Ne.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Ne=>Ne).join(" ")}}const it="@firebase/app",Yr=new O.Yd("@firebase/app"),jr="[DEFAULT]",Yi={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,en=new Map;function nt(le,X){try{le.container.addComponent(X)}catch(Ne){Yr.debug(`Component ${X.name} failed to register with FirebaseApp ${le.name}`,Ne)}}function Mt(le,X){le.container.addOrOverwriteComponent(X)}function fi(le){const X=le.name;if(en.has(X))return Yr.debug(`There were multiple attempts to register component ${X}.`),!1;en.set(X,le);for(const Ne of Jt.values())nt(Ne,le);return!0}function Xr(le,X){const Ne=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),le.container.getProvider(X)}function lr(le,X,Ne=jr){Xr(le,X).clearInstance(Ne)}function $r(){en.clear()}const ei=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(X,Ne,ht){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const Ms="9.23.0";function Kt(le,X={}){let Ne=le;"object"!=typeof X&&(X={name:X});const ht=Object.assign({name:jr,automaticDataCollectionEnabled:!1},X),wt=ht.name;if("string"!=typeof wt||!wt)throw ei.create("bad-app-name",{appName:String(wt)});if(Ne||(Ne=(0,re.aH)()),!Ne)throw ei.create("no-options");const jt=Jt.get(wt);if(jt){if((0,re.vZ)(Ne,jt.options)&&(0,re.vZ)(ht,jt.config))return jt;throw ei.create("duplicate-app",{appName:wt})}const gt=new Y.H0(wt);for(const Qt of en.values())gt.addComponent(Qt);const Xt=new hn(Ne,ht,gt);return Jt.set(wt,Xt),Xt}function Qi(le=jr){const X=Jt.get(le);if(!X&&le===jr&&(0,re.aH)())return Kt();if(!X)throw ei.create("no-app",{appName:le});return X}function tn(){return Array.from(Jt.values())}function pi(le){return On.apply(this,arguments)}function On(){return(On=(0,m.Z)(function*(le){const X=le.name;Jt.has(X)&&(Jt.delete(X),yield Promise.all(le.container.getProviders().map(Ne=>Ne.delete())),le.isDeleted=!0)})).apply(this,arguments)}function Gn(le,X,Ne){var ht;let wt=null!==(ht=Yi[le])&&void 0!==ht?ht:le;Ne&&(wt+=`-${Ne}`);const jt=wt.match(/\s|\//),gt=X.match(/\s|\//);if(jt||gt){const Xt=[`Unable to register library "${wt}" with version "${X}":`];return jt&&Xt.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),jt&&gt&&Xt.push("and"),gt&&Xt.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Yr.warn(Xt.join(" "))}fi(new Y.wA(`${wt}-version`,()=>({library:wt,version:X}),"VERSION"))}function Ri(le,X){if(null!==le&&"function"!=typeof le)throw ei.create("invalid-log-argument");(0,O.Am)(le,X)}function wn(le){(0,O.Ub)(le)}const Pi="firebase-heartbeat-database",Hr=1,V="firebase-heartbeat-store";let F=null;function G(){return F||(F=function Ee(le,X,{blocked:Ne,upgrade:ht,blocking:wt,terminated:jt}={}){const gt=indexedDB.open(le,X),Xt=Pe(gt);return ht&&gt.addEventListener("upgradeneeded",Qt=>{ht(Pe(gt.result),Qt.oldVersion,Qt.newVersion,Pe(gt.transaction),Qt)}),Ne&&gt.addEventListener("blocked",Qt=>Ne(Qt.oldVersion,Qt.newVersion,Qt)),Xt.then(Qt=>{jt&&Qt.addEventListener("close",()=>jt()),wt&&Qt.addEventListener("versionchange",dr=>wt(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),Xt}(Pi,Hr,{upgrade:(le,X)=>{0===X&&le.createObjectStore(V)}}).catch(le=>{throw ei.create("idb-open",{originalErrorMessage:le.message})})),F}function Q(){return(Q=(0,m.Z)(function*(le){try{return yield(yield G()).transaction(V).objectStore(V).get(Yt(le))}catch(X){if(X instanceof re.ZR)Yr.warn(X.message);else{const Ne=ei.create("idb-get",{originalErrorMessage:X?.message});Yr.warn(Ne.message)}}})).apply(this,arguments)}function Le(le,X){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,m.Z)(function*(le,X){try{const ht=(yield G()).transaction(V,"readwrite");yield ht.objectStore(V).put(X,Yt(le)),yield ht.done}catch(Ne){if(Ne instanceof re.ZR)Yr.warn(Ne.message);else{const ht=ei.create("idb-set",{originalErrorMessage:Ne?.message});Yr.warn(ht.message)}}})).apply(this,arguments)}function Yt(le){return`${le.name}!${le.options.appId}`}class sn{constructor(X){this.container=X,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new Ni(Ne),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var X=this;return(0,m.Z)(function*(){const ht=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=zt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==wt&&!X._heartbeatsCache.heartbeats.some(jt=>jt.date===wt))return X._heartbeatsCache.heartbeats.push({date:wt,agent:ht}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(jt=>{const gt=new Date(jt.date).valueOf();return Date.now()-gt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,m.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Ne=zt(),{heartbeatsToSend:ht,unsentEntries:wt}=function Ar(le,X=1024){const Ne=[];let ht=le.slice();for(const wt of le){const jt=Ne.find(gt=>gt.agent===wt.agent);if(jt){if(jt.dates.push(wt.date),Ji(Ne)>X){jt.dates.pop();break}}else if(Ne.push({agent:wt.agent,dates:[wt.date]}),Ji(Ne)>X){Ne.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:ht}}(X._heartbeatsCache.heartbeats),jt=(0,re.L)(JSON.stringify({version:2,heartbeats:ht}));return X._heartbeatsCache.lastSentHeartbeatDate=Ne,wt.length>0?(X._heartbeatsCache.heartbeats=wt,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),jt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class Ni{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,m.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function ye(le){return Q.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Ne=this;return(0,m.Z)(function*(){var ht;if(yield Ne._canUseIndexedDBPromise){const jt=yield Ne.read();return Le(Ne.app,{lastSentHeartbeatDate:null!==(ht=X.lastSentHeartbeatDate)&&void 0!==ht?ht:jt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Ne=this;return(0,m.Z)(function*(){var ht;if(yield Ne._canUseIndexedDBPromise){const jt=yield Ne.read();return Le(Ne.app,{lastSentHeartbeatDate:null!==(ht=X.lastSentHeartbeatDate)&&void 0!==ht?ht:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...X.heartbeats]})}})()}}function Ji(le){return(0,re.L)(JSON.stringify({version:2,heartbeats:le})).length}!function Ea(le){fi(new Y.wA("platform-logger",X=>new Je(X),"PRIVATE")),fi(new Y.wA("heartbeat",X=>new sn(X),"PRIVATE")),Gn(it,"0.9.13",le),Gn(it,"0.9.13","esm2017"),Gn("fire-js","")}("")},4859:(mt,Se,k)=>{k.d(Se,{H0:()=>we,wA:()=>O});var m=k(5861),Y=k(2090);class O{constructor(j,B,q){this.name=j,this.instanceFactory=B,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const re="[DEFAULT]";class ie{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const q=new Y.BH;if(this.instancesDeferred.set(B,q),this.isInitialized(B)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:B});je&&q.resolve(je)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const q=this.normalizeInstanceIdentifier(j?.identifier),je=null!==(B=j?.optional)&&void 0!==B&&B;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Te){if(je)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ge(he){return"EAGER"===he.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[B,q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(B);try{const Te=this.getOrInitializeService({instanceIdentifier:je});q.resolve(Te)}catch{}}}}clearInstance(j=re){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,m.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...B.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=re){return this.instances.has(j)}getOptions(j=re){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:q,options:B});for(const[Te,qe]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Te)&&qe.resolve(je);return je}onInit(j,B){var q;const je=this.normalizeInstanceIdentifier(B),Te=null!==(q=this.onInitCallbacks.get(je))&&void 0!==q?q:new Set;Te.add(j),this.onInitCallbacks.set(je,Te);const qe=this.instances.get(je);return qe&&j(qe,je),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,B){const q=this.onInitCallbacks.get(B);if(q)for(const je of q)try{je(j,B)}catch{}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let q=this.instances.get(j);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(he=j,he===re?void 0:he),options:B}),this.instances.set(j,q),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,q)}catch{}var he;return q||null}normalizeInstanceIdentifier(j=re){return this.component?this.component.multipleInstances?j:re:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new ie(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Se,k)=>{k.d(Se,{Am:()=>he,Ub:()=>we,Yd:()=>ge,in:()=>Y});const m=[];var Y=(()=>{return(j=Y||(Y={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Y;var j})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},re=Y.INFO,ie={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},se=(j,B,...q)=>{if(B<j.logLevel)return;const je=(new Date).toISOString(),Te=ie[B];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Te](`[${je}]  ${j.name}:`,...q)};class ge{constructor(B){this.name=B,this._logLevel=re,this._logHandler=se,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in Y))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...B),this._logHandler(this,Y.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...B),this._logHandler(this,Y.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...B),this._logHandler(this,Y.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...B),this._logHandler(this,Y.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...B),this._logHandler(this,Y.ERROR,...B)}}function we(j){m.forEach(B=>{B.setLogLevel(j)})}function he(j,B){for(const q of m){let je=null;B&&B.level&&(je=O[B.level]),q.userLogHandler=null===j?null:(Te,qe,...ot)=>{const fe=ot.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");qe>=(je??Te.logLevel)&&j({level:Y[qe].toLowerCase(),message:fe,args:ot,type:Te.name})}}}},5861:(mt,Se,k)=>{function m(O,re,ie,se,ge,we,he){try{var j=O[we](he),B=j.value}catch(q){return void ie(q)}j.done?re(B):Promise.resolve(B).then(se,ge)}function Y(O){return function(){var re=this,ie=arguments;return new Promise(function(se,ge){var we=O.apply(re,ie);function he(B){m(we,se,ge,he,j,"next",B)}function j(B){m(we,se,ge,he,j,"throw",B)}he(void 0)})}}k.d(Se,{Z:()=>Y})},7582:(mt,Se,k)=>{function re(ae,ce){var pe={};for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&ce.indexOf(oe)<0&&(pe[oe]=ae[oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(oe=Object.getOwnPropertySymbols(ae);be<oe.length;be++)ce.indexOf(oe[be])<0&&Object.prototype.propertyIsEnumerable.call(ae,oe[be])&&(pe[oe[be]]=ae[oe[be]])}return pe}function q(ae,ce,pe,oe){return new(pe||(pe=Promise))(function(De,at){function ut(qt){try{ft(oe.next(qt))}catch(Dn){at(Dn)}}function _n(qt){try{ft(oe.throw(qt))}catch(Dn){at(Dn)}}function ft(qt){qt.done?De(qt.value):function be(De){return De instanceof pe?De:new pe(function(at){at(De)})}(qt.value).then(ut,_n)}ft((oe=oe.apply(ae,ce||[])).next())})}function Pe(ae){return this instanceof Pe?(this.v=ae,this):new Pe(ae)}function Ie(ae,ce,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,oe=pe.apply(ae,ce||[]),De=[];return be={},at("next"),at("throw"),at("return"),be[Symbol.asyncIterator]=function(){return this},be;function at(gn){oe[gn]&&(be[gn]=function(Un){return new Promise(function(cr,Nn){De.push([gn,Un,cr,Nn])>1||ut(gn,Un)})})}function ut(gn,Un){try{!function _n(gn){gn.value instanceof Pe?Promise.resolve(gn.value.v).then(ft,qt):Dn(De[0][2],gn)}(oe[gn](Un))}catch(cr){Dn(De[0][3],cr)}}function ft(gn){ut("next",gn)}function qt(gn){ut("throw",gn)}function Dn(gn,Un){gn(Un),De.shift(),De.length&&ut(De[0][0],De[0][1])}}function ze(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ce=ae[Symbol.asyncIterator];return ce?ce.call(ae):(ae=function ot(ae){var ce="function"==typeof Symbol&&Symbol.iterator,pe=ce&&ae[ce],oe=0;if(pe)return pe.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&oe>=ae.length&&(ae=void 0),{value:ae&&ae[oe++],done:!ae}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),pe={},oe("next"),oe("throw"),oe("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function oe(De){pe[De]=ae[De]&&function(at){return new Promise(function(ut,_n){!function be(De,at,ut,_n){Promise.resolve(_n).then(function(ft){De({value:ft,done:ut})},at)}(ut,_n,(at=ae[De](at)).done,at.value)})}}}k.d(Se,{FC:()=>Ie,KL:()=>ze,_T:()=>re,mG:()=>q,qq:()=>Pe}),"function"==typeof SuppressedError&&SuppressedError}},mt=>{mt(mt.s=9449)}]);